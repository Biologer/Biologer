{"version":3,"sources":["webpack:///./resources/js/expiring-storage.js","webpack:///./resources/js/mixins/FormMixin.js","webpack:///./resources/js/mixins/PersistentForm.js","webpack:///./node_modules/form-backend-validation/dist/Errors.js","webpack:///./node_modules/form-backend-validation/dist/Form.js","webpack:///./node_modules/form-backend-validation/dist/index.js","webpack:///./node_modules/form-backend-validation/dist/util/fieldNameValidation.js","webpack:///./node_modules/form-backend-validation/dist/util/formData.js","webpack:///./node_modules/form-backend-validation/dist/util/index.js","webpack:///./node_modules/form-backend-validation/dist/util/objects.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/_baseIsMatch.js","webpack:///./node_modules/lodash/_baseIteratee.js","webpack:///./node_modules/lodash/_baseMatches.js","webpack:///./node_modules/lodash/_baseMatchesProperty.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/lodash/_basePropertyDeep.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/lodash/_flatRest.js","webpack:///./node_modules/lodash/_getMatchData.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_isStrictComparable.js","webpack:///./node_modules/lodash/_matchesStrictComparable.js","webpack:///./node_modules/lodash/_memoizeCapped.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_toKey.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/get.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/pick.js","webpack:///./node_modules/lodash/property.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue?e490","webpack:///resources/js/components/forms/LiteratureObservationForm.vue","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue?3688","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue","webpack:///./resources/js/components/inputs/DateInput.vue?7f0f","webpack:///resources/js/components/inputs/DateInput.vue","webpack:///./resources/js/components/inputs/DateInput.vue?6cee","webpack:///./resources/js/components/inputs/DateInput.vue","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue?dd57","webpack:///resources/js/components/inputs/PublicationAutocomplete.vue","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue?c899","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue","webpack:///./resources/js/components/inputs/SpatialInput.vue?9020","webpack:///resources/js/components/inputs/SpatialInput.vue","webpack:///./resources/js/components/inputs/SpatialInput.vue?4e3d","webpack:///./resources/js/components/inputs/SpatialInput.vue","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue?de7e","webpack:///resources/js/components/inputs/TaxonAutocomplete.vue","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue?997e","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue"],"names":["key","cached","JSON","parse","localStorage","getItem","Date","expires","removeItem","value","this","get","lifeTimeInMinutes","currentTime","getTime","setItem","stringify","name","props","action","type","String","required","method","default","redirectUrl","cancelUrl","submitMore","Boolean","shouldConfirmSubmit","confirmSubmitMessage","trans","shouldAskReason","shouldConfirmCancel","submitOnlyDirty","submitOnlyDirtyMessage","data","form","newForm","keepAfterSubmit","submittingWithRedirect","submittingWithoutRedirect","confirmingSubmit","confirmingCancel","locale","window","App","created","document","addEventListener","registerKeyListener","beforeDestroy","removeEventListener","methods","Form","resetOnSuccess","e","enter","which","keyCode","ctrlKey","shiftKey","submitWithoutRedirect","submitWithRedirect","confirmSubmit","onConfirm","options","message","confirmText","cancelText","onCancel","promptForReason","$buefy","dialog","confirm","prompt","inputAttrs","placeholder","maxlength","$nextTick","$refs","input","target","setCustomValidity","validity","valid","validationMessage","notifyNoChanges","toast","open","notifyNoChangesAndRedirect","setTimeout","location","href","processing","isDirty","performSubmitWithRedirect","reason","toLowerCase","then","onSuccessfulSubmitWithRedirect","onFailedSubmit","hookAfterSubmitWithRedirect","performSubmitWithoutRedirect","onSuccessfulSubmitWithoutRedirect","keep","_pick","reset","populate","hookAfterSubmitWithoutRedirect","error","duration","_get","_isEqual","initial","confirmCancel","event","preventDefault","cacheKey","cacheLifetime","computed","storageKey","host","pathname","getFormKey","otherPersistentKeys","saveState","$data","expiringStorage","restoreState","previousState","forEach","undefined","$set","clearPersistedState","Object","defineProperty","exports","_createClass","defineProperties","i","length","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","Errors","errors","arguments","record","field","hasError","hasOwnProperty","keys","filter","startsWith","_this","assign","obj","_typeof","Symbol","iterator","constructor","_Errors","_Errors2","__esModule","_util","successful","withData","withOptions","withErrors","isArray","reduce","carry","element","setInitialValues","guardAgainstReservedFieldName","__options","onSuccess","onFail","windowAxios","axios","__http","http","Error","property","fields","filtered","merge","clear","values","_this2","_defineProperty","url","submit","requestType","_this3","__validateRequestType","Promise","resolve","reject","hasFiles","objectToFormData","response","catch","hasFilesDeep","object","Array","_key","isFile","has","first","requestTypes","indexOf","join","_Form","_interopRequireDefault","fieldName","reservedFieldNames","formData","FormData","parent","append","appendToFormData","getKey","toISOString","File","_objects","_formData","_fieldNameValidation","FileList","cloneDeep","clone","_clone","toString","call","a","b","module","array","predicate","fromIndex","fromRight","index","arrayPush","isFlattenable","baseFlatten","depth","isStrict","result","castPath","toKey","path","Stack","baseIsEqual","source","matchData","customizer","noCustomizer","objValue","srcValue","stack","COMPARE_PARTIAL_FLAG","baseMatches","baseMatchesProperty","identity","baseIsMatch","getMatchData","matchesStrictComparable","hasIn","isKey","isStrictComparable","basePickBy","paths","baseGet","baseSet","assignValue","isIndex","isObject","lastIndex","nested","newValue","stringToPath","baseIteratee","isArrayLike","findIndexFunc","collection","iterable","iteratee","flatten","overRest","setToString","func","isArguments","isLength","hasFunc","spreadableSymbol","isConcatSpreadable","isSymbol","reIsDeepProp","reIsPlainProp","test","memoize","cache","size","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","push","replace","match","number","quote","subString","now","toNumber","nativeMax","Math","max","nativeMin","min","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","apply","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","clearTimeout","cancel","flush","find","createFind","baseFindIndex","toInteger","defaultValue","baseHasIn","hasPath","MapCache","resolver","memoized","set","Cache","root","basePick","pick","flatRest","baseProperty","basePropertyDeep","toFinite","remainder","mixins","PersistentForm","components","NzDateInput","NzSpatialInput","NzPublicationAutocomplete","NzTaxonAutocomplete","submitMoreWithSameTaxon","observation","original_date","original_locality","original_elevation","original_coordinates","original_identification","original_identification_validity","other_original_data","collecting_start_year","collecting_start_month","collecting_end_year","collecting_end_month","place_where_referenced_in_publication","publication_id","taxon_id","year","dayjs","month","day","is_original_data","cited_publication_id","latitude","longitude","accuracy","elevation","minimum_elevation","maximum_elevation","georeferenced_by","georeferenced_date","observer","identifier","note","sex","project","found_on","habitat","stage_id","dataset","taxon","publication","cited_publication","sexes","validityOptions","getAttributesToKeep","submittingWithoutRedirectWithSameTaxon","taxonName","publicationCitation","citedPublication","stages","georeferencedDate","val","isValid","toDate","onTaxonSelect","id","onPublicationSelect","citation","onCitedPublicationSelect","onTimeInput","handleIsOriginalDataInput","addNewPublication","route","dateFormater","handleElevationFetched","submitWithoutRedirectWithSameTaxon","performSubmitWithoutRedirectWithSameTaxon","onSuccessfulSubmitWithoutRedirectWithSameTaxon","_vm","_h","$createElement","_c","_self","staticClass","attrs","ref","on","model","callback","$$v","expression","$ziggy","$event","_v","domProps","_s","directives","rawName","_l","label","_n","stage","slot","content","class","_e","Number","placeholders","months","isThisYear","splice","days","isThisMonth","watch","truncateDay","onYearInput","$emit","onMonthInput","onDayInput","except","autofocus","disabled","selected","loading","icon","fetchData","params","onSelect","user","onInput","currentValue","focusOnInput","$el","querySelector","focus","getValue","option","scopedSlots","_u","fn","_t","hasOtherErrors","emptyAccuracy","calculateEmptyAccuracy","gmaps","center","zoom","showDetails","elevationService","position","coordinatesSet","isNaN","mapHasErrors","newAccuracy","centerCoordinates","lat","lng","getElevation","setCurrentLocationAsMapCenter","castNumber","onLocationInput","updateLocation","onLongitudeInput","updateLongitude","onLatitudeInput","updateLatitude","onAccuracyInput","updateAccuracy","onElevationInput","updateElevation","setMarker","updateRadius","radius","google","maps","ElevationService","getElevationForLocations","locations","status","ElevationStatus","OK","results","onZoomChanged","parseInt","pow","navigator","geolocation","getCurrentPosition","staticStyle","streetViewControl","strokeWeight","page","isLastPage","haveThumbnail","thumbnail_url","limit","enterPressed","autocomplete","isActive","loadMore","nativeOn","_k","native_name"],"mappings":"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","file":"js/de18fa991051a5b8d478.js","sourcesContent":["class ExpiringStorage {\n  get(key) {\n    const cached = JSON.parse(\n      localStorage.getItem(key)\n    )\n\n    if (! cached) {\n      return null\n    }\n\n    const expires = new Date(cached.expires)\n\n    if (expires < new Date()) {\n      localStorage.removeItem(key)\n      return null\n    }\n\n    return cached.value\n  }\n\n  has(key) {\n    return this.get(key) !== null\n  }\n\n  set(key, value, lifeTimeInMinutes) {\n    const currentTime = new Date().getTime()\n\n    const expires = new Date(currentTime + lifeTimeInMinutes * 60000)\n\n    localStorage.setItem(key, JSON.stringify({ value, expires }))\n  }\n\n  delete(key) {\n    const cached = this.get(key)\n\n    if (cached) {\n      localStorage.removeItem(key)\n    }\n  }\n}\n\nexport default new ExpiringStorage()\n","import Form from 'form-backend-validation'\nimport _pick from 'lodash/pick'\nimport _get from 'lodash/get'\nimport _isEqual from 'lodash/isEqual'\n\n\nexport default {\n  name: 'nzFieldObservationForm',\n\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n\n    method: {\n      type: String,\n      default: 'POST'\n    },\n\n    redirectUrl: String,\n    cancelUrl: String,\n\n    submitMore: Boolean,\n    shouldConfirmSubmit: Boolean,\n    confirmSubmitMessage: {\n      type: String,\n      default() {\n        return this.trans('You are about to submit')\n      }\n    },\n    shouldAskReason: Boolean,\n    shouldConfirmCancel: Boolean,\n    submitOnlyDirty: Boolean,\n    submitOnlyDirtyMessage: {\n      type: String,\n      default() {\n        return this.trans('There are no changes, the data will not be saved.')\n      }\n    }\n  },\n\n  data() {\n    return {\n      form: this.newForm(),\n      keepAfterSubmit: [],\n      submittingWithRedirect: false,\n      submittingWithoutRedirect: false,\n      confirmingSubmit: false,\n      confirmingCancel: false,\n      locale: window.App.locale\n    }\n  },\n\n  created() {\n    document.addEventListener('keyup', this.registerKeyListener)\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('keyup', this.registerKeyListener)\n  },\n\n  methods: {\n    /**\n     * Create new form instance.\n     *\n     * @param  {Object} data default form data\n     * @return {Form}\n     */\n    newForm(data = {}) {\n      return new Form(data, {\n        resetOnSuccess: false\n      })\n    },\n\n    /**\n     * Keyboard shortcuts.\n     *\n     * @param {Event} e\n     */\n    registerKeyListener(e) {\n      const enter = 13 === (e.which || e.keyCode)\n\n      if (e.ctrlKey && e.shiftKey && enter) {\n        this.submitMore && this.submitWithoutRedirect()\n      } else if (e.ctrlKey && enter) {\n        this.submitWithRedirect()\n      }\n    },\n\n    /**\n     * Confirm submit.\n     *\n     * @param {Function} onConfirm\n     */\n    confirmSubmit(onConfirm) {\n      if (this.confirmingSubmit) return\n\n      this.confirmingSubmit = true\n\n      const options = {\n        message: this.confirmSubmitMessage,\n        confirmText: this.trans('buttons.save'),\n        cancelText: this.trans('buttons.cancel'),\n        onConfirm,\n        onCancel: () => { this.confirmingSubmit = false }\n      }\n\n      if (!this.shouldAskReason) {\n        return this.$buefy.dialog.confirm(options)\n      }\n\n      return this.promptForReason(options)\n    },\n\n    /**\n     * Prompt the user for reason of change.\n     *\n     * @param  {Object} options\n     * @return {Vue}\n     */\n    promptForReason(options) {\n      const dialog = this.$buefy.dialog.prompt({\n        ...options,\n        inputAttrs: {\n            placeholder: this.trans('Reason'),\n            required: true,\n            maxlength: 255\n        }\n      })\n\n      // Custom localized validation for the prompt input.\n      dialog.$nextTick(() => {\n        dialog.$refs.input.addEventListener('invalid', (e) => {\n          e.target.setCustomValidity('')\n\n          if (!e.target.validity.valid) {\n            e.target.setCustomValidity(this.trans('This field is required and can contain max 255 chars.'))\n          }\n        })\n\n        dialog.$refs.input.addEventListener('input', (e) => {\n          dialog.validationMessage = null\n        })\n      })\n\n      return dialog\n    },\n\n    /**\n     * Notify the user there are no changes.\n     */\n    notifyNoChanges() {\n      this.$buefy.toast.open({\n        message: this.submitOnlyDirtyMessage,\n        type: 'is-info'\n      })\n    },\n\n    /**\n     * Notify the user there are no changes and redirect.\n     */\n    notifyNoChangesAndRedirect() {\n      this.notifyNoChanges()\n\n      setTimeout(() => {\n        if (this.redirectUrl) {\n          window.location.href = this.redirectUrl\n        }\n      }, 500)\n    },\n\n    /**\n     * Submit the form with redirect.\n     */\n    submitWithRedirect() {\n      if (this.form.processing) return\n\n      if (this.submitOnlyDirty && !this.isDirty()) return this.notifyNoChangesAndRedirect()\n\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithRedirect)\n\n      this.performSubmitWithRedirect()\n    },\n\n    /**\n     * Submit the form with redirect.\n     */\n    performSubmitWithRedirect(reason = null) {\n      this.submittingWithRedirect = true\n      this.confirmingSubmit = false\n\n      if (this.shouldAskReason) {\n        this.form.reason = reason\n      }\n\n      this.form[this.method.toLowerCase()](this.action)\n          .then(this.onSuccessfulSubmitWithRedirect)\n          .catch(this.onFailedSubmit)\n    },\n\n    /**\n     * Handle successful form submit with redirect.\n     */\n    onSuccessfulSubmitWithRedirect() {\n      this.form.processing = true\n\n      this.$buefy.toast.open({\n        message: this.trans('Saved successfully'),\n        type: 'is-success'\n      })\n\n      // We want to wait a bit before we send the user to redirect route\n      // so we can show the message that the action was successful.\n      setTimeout(() => {\n        this.form.processing = false\n        this.submittingWithRedirect = false\n\n        this.hookAfterSubmitWithRedirect()\n\n        if (this.redirectUrl) {\n          window.location.href = this.redirectUrl\n        }\n      }, 500)\n    },\n\n    /**\n     * Perform after submit with redirect is successful.\n     */\n    hookAfterSubmitWithRedirect() {},\n\n    /**\n     * Submit the form and stay to add more.\n     */\n    submitWithoutRedirect() {\n      if (this.form.processing) return\n\n      if (this.submitOnlyDirty  && !this.isDirty()) return this.notifyNoChanges()\n\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithoutRedirect)\n\n      this.performSubmitWithoutRedirect()\n    },\n\n    /**\n     * Submit the form and stay to add more.\n     */\n    performSubmitWithoutRedirect(reason = null) {\n      this.submittingWithoutRedirect = true\n      this.confirmingSubmit = false\n\n      if (this.shouldAskReason) {\n        this.form.reason = reason\n      }\n\n      this.form[this.method.toLowerCase()](this.action)\n          .then(this.onSuccessfulSubmitWithoutRedirect)\n          .catch(this.onFailedSubmit)\n    },\n\n    /**\n     * Handle successful form submit with no redirect.\n     */\n    onSuccessfulSubmitWithoutRedirect() {\n      this.submittingWithoutRedirect = false\n\n      this.$buefy.toast.open({\n        message: this.trans('Saved successfully'),\n        type: 'is-success'\n      })\n\n      // Reset the form but remember some data.\n      const keep = _pick(this.form.data(), this.keepAfterSubmit)\n      this.form.reset()\n      this.form.populate(keep)\n\n      this.hookAfterSubmitWithoutRedirect()\n    },\n\n    /**\n     * Perform after submit without redirect is successful.\n     */\n    hookAfterSubmitWithoutRedirect() {},\n\n    /**\n     * Handle failed form submit.\n     *\n     * @param {Error} error\n     */\n    onFailedSubmit(error) {\n      this.submittingWithRedirect = false\n      this.submittingWithoutRedirect = false\n\n      this.$buefy.toast.open({\n        duration: 2500,\n        message: _get(error, 'response.data.message', error.message),\n        type: 'is-danger'\n      })\n    },\n\n    /**\n     * Check if form is changed.\n     *\n     * @return {Boolean}\n     */\n    isDirty() {\n      return ! _isEqual(this.form.data(), this.form.initial)\n    },\n\n    /**\n     * Confirmation dialog for canceling.\n     */\n    confirmCancel() {\n      if (this.confirmingCancel) return\n\n      this.confirmingCancel = true\n\n      this.$buefy.dialog.confirm({\n        message: this.trans('If you leave this page changes will not be saved.'),\n        onConfirm: () => {\n          this.confirmingCancel = false\n          window.location.href = this.cancelUrl\n        },\n        onCancel: () => { this.confirmingCancel = false },\n        cancelText: this.trans('buttons.stay_on_page'),\n        confirmText: this.trans('buttons.leave_page'),\n      })\n    },\n\n    /**\n     * Handle cancel button/link.\n     *\n     * @param {Event} event\n     */\n    onCancel(event) {\n      if (this.shouldConfirmCancel && this.isDirty()) {\n        event.preventDefault()\n\n        this.confirmCancel()\n      }\n    }\n  }\n}\n","import _pick from 'lodash/pick'\nimport expiringStorage from '@/expiring-storage'\n\nexport default {\n  props: {\n    cacheKey: { default: null },\n    cacheLifetime: { default: 60 * 24 }\n  },\n\n  computed: {\n    storageKey() {\n      return this.cacheKey\n        ? `nz-form.${this.cacheKey}`\n        : `nz-form.${window.location.host}${window.location.pathname}`\n    }\n  },\n\n  methods: {\n    getFormKey() {\n      return 'form'\n    },\n\n    otherPersistentKeys() {\n      return []\n    },\n\n    saveState() {\n      const data = {\n        ..._pick(this.$data, this.otherPersistentKeys()),\n        form: this[this.getFormKey()].data()\n      }\n\n      expiringStorage.set(this.storageKey, data, this.cacheLifetime)\n    },\n\n    restoreState() {\n      const previousState = expiringStorage.get(this.storageKey);\n\n      if (previousState === null) {\n        return\n      }\n\n      this[this.getFormKey()].populate(previousState.form)\n\n      this.otherPersistentKeys().forEach(key => {\n        if (previousState[key] !== undefined) {\n          this.$set(this, key, previousState[key])\n        }\n      })\n\n      this.clearPersistedState()\n    },\n\n    clearPersistedState() {\n      expiringStorage.delete(this.storageKey)\n    }\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Errors = function () {\n    /**\n     * Create a new Errors instance.\n     */\n    function Errors() {\n        var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Errors);\n\n        this.record(errors);\n    }\n\n    /**\n     * Get all the errors.\n     *\n     * @return {object}\n     */\n\n\n    _createClass(Errors, [{\n        key: \"all\",\n        value: function all() {\n            return this.errors;\n        }\n\n        /**\n         * Determine if any errors exists for the given field or object.\n         *\n         * @param {string} field\n         */\n\n    }, {\n        key: \"has\",\n        value: function has(field) {\n            var hasError = this.errors.hasOwnProperty(field);\n\n            if (!hasError) {\n                var errors = Object.keys(this.errors).filter(function (e) {\n                    return e.startsWith(field + \".\") || e.startsWith(field + \"[\");\n                });\n\n                hasError = errors.length > 0;\n            }\n\n            return hasError;\n        }\n    }, {\n        key: \"first\",\n        value: function first(field) {\n            return this.get(field)[0];\n        }\n    }, {\n        key: \"get\",\n        value: function get(field) {\n            return this.errors[field] || [];\n        }\n\n        /**\n         * Determine if we have any errors.\n         * Or return errors for the given keys.\n         *\n         * @param {array} keys\n         */\n\n    }, {\n        key: \"any\",\n        value: function any() {\n            var _this = this;\n\n            var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n            if (keys.length === 0) {\n                return Object.keys(this.errors).length > 0;\n            }\n\n            var errors = {};\n\n            keys.forEach(function (key) {\n                return errors[key] = _this.get(key);\n            });\n\n            return errors;\n        }\n\n        /**\n         * Record the new errors.\n         *\n         * @param {object} errors\n         */\n\n    }, {\n        key: \"record\",\n        value: function record() {\n            var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            this.errors = errors;\n        }\n\n        /**\n         * Clear a specific field, object or all error fields.\n         *\n         * @param {string|null} field\n         */\n\n    }, {\n        key: \"clear\",\n        value: function clear(field) {\n            if (!field) {\n                this.errors = {};\n\n                return;\n            }\n\n            var errors = Object.assign({}, this.errors);\n\n            Object.keys(errors).filter(function (e) {\n                return e === field || e.startsWith(field + \".\") || e.startsWith(field + \"[\");\n            }).forEach(function (e) {\n                return delete errors[e];\n            });\n\n            this.errors = errors;\n        }\n    }]);\n\n    return Errors;\n}();\n\nexports.default = Errors;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Errors = require('./Errors');\n\nvar _Errors2 = _interopRequireDefault(_Errors);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Form = function () {\n    /**\n     * Create a new Form instance.\n     *\n     * @param {object} data\n     * @param {object} options\n     */\n    function Form() {\n        var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Form);\n\n        this.processing = false;\n        this.successful = false;\n\n        this.withData(data).withOptions(options).withErrors({});\n    }\n\n    _createClass(Form, [{\n        key: 'withData',\n        value: function withData(data) {\n            if ((0, _util.isArray)(data)) {\n                data = data.reduce(function (carry, element) {\n                    carry[element] = '';\n                    return carry;\n                }, {});\n            }\n\n            this.setInitialValues(data);\n\n            this.errors = new _Errors2.default();\n            this.processing = false;\n            this.successful = false;\n\n            for (var field in data) {\n                (0, _util.guardAgainstReservedFieldName)(field);\n\n                this[field] = data[field];\n            }\n\n            return this;\n        }\n    }, {\n        key: 'withErrors',\n        value: function withErrors(errors) {\n            this.errors = new _Errors2.default(errors);\n\n            return this;\n        }\n    }, {\n        key: 'withOptions',\n        value: function withOptions(options) {\n            this.__options = {\n                resetOnSuccess: true\n            };\n\n            if (options.hasOwnProperty('resetOnSuccess')) {\n                this.__options.resetOnSuccess = options.resetOnSuccess;\n            }\n\n            if (options.hasOwnProperty('onSuccess')) {\n                this.onSuccess = options.onSuccess;\n            }\n\n            if (options.hasOwnProperty('onFail')) {\n                this.onFail = options.onFail;\n            }\n\n            var windowAxios = typeof window === 'undefined' ? false : window.axios;\n\n            this.__http = options.http || windowAxios || require('axios');\n\n            if (!this.__http) {\n                throw new Error('No http library provided. Either pass an http option, or install axios.');\n            }\n\n            return this;\n        }\n\n        /**\n         * Fetch all relevant data for the form.\n         */\n\n    }, {\n        key: 'data',\n        value: function data() {\n            var data = {};\n\n            for (var property in this.initial) {\n                data[property] = this[property];\n            }\n\n            return data;\n        }\n\n        /**\n         * Fetch specific data for the form.\n         *\n         * @param {array} fields\n         * @return {object}\n         */\n\n    }, {\n        key: 'only',\n        value: function only(fields) {\n            var _this = this;\n\n            return fields.reduce(function (filtered, field) {\n                filtered[field] = _this[field];\n                return filtered;\n            }, {});\n        }\n\n        /**\n         * Reset the form fields.\n         */\n\n    }, {\n        key: 'reset',\n        value: function reset() {\n            (0, _util.merge)(this, this.initial);\n\n            this.errors.clear();\n        }\n    }, {\n        key: 'setInitialValues',\n        value: function setInitialValues(values) {\n            this.initial = {};\n\n            (0, _util.merge)(this.initial, values);\n        }\n    }, {\n        key: 'populate',\n        value: function populate(data) {\n            var _this2 = this;\n\n            Object.keys(data).forEach(function (field) {\n                (0, _util.guardAgainstReservedFieldName)(field);\n\n                if (_this2.hasOwnProperty(field)) {\n                    (0, _util.merge)(_this2, _defineProperty({}, field, data[field]));\n                }\n            });\n\n            return this;\n        }\n\n        /**\n         * Clear the form fields.\n         */\n\n    }, {\n        key: 'clear',\n        value: function clear() {\n            for (var field in this.initial) {\n                this[field] = '';\n            }\n\n            this.errors.clear();\n        }\n\n        /**\n         * Send a POST request to the given URL.\n         *\n         * @param {string} url\n         */\n\n    }, {\n        key: 'post',\n        value: function post(url) {\n            return this.submit('post', url);\n        }\n\n        /**\n         * Send a PUT request to the given URL.\n         *\n         * @param {string} url\n         */\n\n    }, {\n        key: 'put',\n        value: function put(url) {\n            return this.submit('put', url);\n        }\n\n        /**\n         * Send a PATCH request to the given URL.\n         *\n         * @param {string} url\n         */\n\n    }, {\n        key: 'patch',\n        value: function patch(url) {\n            return this.submit('patch', url);\n        }\n\n        /**\n         * Send a DELETE request to the given URL.\n         *\n         * @param {string} url\n         */\n\n    }, {\n        key: 'delete',\n        value: function _delete(url) {\n            return this.submit('delete', url);\n        }\n\n        /**\n         * Submit the form.\n         *\n         * @param {string} requestType\n         * @param {string} url\n         */\n\n    }, {\n        key: 'submit',\n        value: function submit(requestType, url) {\n            var _this3 = this;\n\n            this.__validateRequestType(requestType);\n            this.errors.clear();\n            this.processing = true;\n            this.successful = false;\n\n            return new Promise(function (resolve, reject) {\n                _this3.__http[requestType](url, _this3.hasFiles() ? (0, _util.objectToFormData)(_this3.data()) : _this3.data()).then(function (response) {\n                    _this3.processing = false;\n                    _this3.onSuccess(response.data);\n\n                    resolve(response.data);\n                }).catch(function (error) {\n                    _this3.processing = false;\n                    _this3.onFail(error);\n\n                    reject(error);\n                });\n            });\n        }\n\n        /**\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'hasFiles',\n        value: function hasFiles() {\n            for (var property in this.initial) {\n                if (this.hasFilesDeep(this[property])) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }, {\n        key: 'hasFilesDeep',\n\n\n        /**\n         * @param {Object|Array} object\n         * @returns {boolean}\n         */\n        value: function hasFilesDeep(object) {\n            if (object === null) {\n                return false;\n            }\n\n            if ((typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object') {\n                for (var key in object) {\n                    if (object.hasOwnProperty(key)) {\n                        if (this.hasFilesDeep(object[key])) {\n                            return true;\n                        }\n                    }\n                }\n            }\n\n            if (Array.isArray(object)) {\n                for (var _key in object) {\n                    if (object.hasOwnProperty(_key)) {\n                        return this.hasFilesDeep(object[_key]);\n                    }\n                }\n            }\n\n            return (0, _util.isFile)(object);\n        }\n\n        /**\n         * Handle a successful form submission.\n         *\n         * @param {object} data\n         */\n\n    }, {\n        key: 'onSuccess',\n        value: function onSuccess(data) {\n            this.successful = true;\n\n            if (this.__options.resetOnSuccess) {\n                this.reset();\n            }\n        }\n\n        /**\n         * Handle a failed form submission.\n         *\n         * @param {object} data\n         */\n\n    }, {\n        key: 'onFail',\n        value: function onFail(error) {\n            this.successful = false;\n\n            if (error.response && error.response.data.errors) {\n                this.errors.record(error.response.data.errors);\n            }\n        }\n\n        /**\n         * Get the error message(s) for the given field.\n         *\n         * @param field\n         */\n\n    }, {\n        key: 'hasError',\n        value: function hasError(field) {\n            return this.errors.has(field);\n        }\n\n        /**\n         * Get the first error message for the given field.\n         *\n         * @param {string} field\n         * @return {string}\n         */\n\n    }, {\n        key: 'getError',\n        value: function getError(field) {\n            return this.errors.first(field);\n        }\n\n        /**\n         * Get the error messages for the given field.\n         *\n         * @param {string} field\n         * @return {array}\n         */\n\n    }, {\n        key: 'getErrors',\n        value: function getErrors(field) {\n            return this.errors.get(field);\n        }\n    }, {\n        key: '__validateRequestType',\n        value: function __validateRequestType(requestType) {\n            var requestTypes = ['get', 'delete', 'head', 'post', 'put', 'patch'];\n\n            if (requestTypes.indexOf(requestType) === -1) {\n                throw new Error('`' + requestType + '` is not a valid request type, ' + ('must be one of: `' + requestTypes.join('`, `') + '`.'));\n            }\n        }\n    }], [{\n        key: 'create',\n        value: function create() {\n            var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            return new Form().withData(data);\n        }\n    }]);\n\n    return Form;\n}();\n\nexports.default = Form;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Form = require('./Form');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Form).default;\n  }\n});\nObject.defineProperty(exports, 'Form', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Form).default;\n  }\n});\n\nvar _Errors = require('./Errors');\n\nObject.defineProperty(exports, 'Errors', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Errors).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.guardAgainstReservedFieldName = guardAgainstReservedFieldName;\nvar reservedFieldNames = exports.reservedFieldNames = ['__http', '__options', '__validateRequestType', 'clear', 'data', 'delete', 'errors', 'getError', 'getErrors', 'hasError', 'initial', 'onFail', 'only', 'onSuccess', 'patch', 'populate', 'post', 'processing', 'successful', 'put', 'reset', 'submit', 'withData', 'withErrors', 'withOptions'];\n\nfunction guardAgainstReservedFieldName(fieldName) {\n    if (reservedFieldNames.indexOf(fieldName) !== -1) {\n        throw new Error('Field name ' + fieldName + ' isn\\'t allowed to be used in a Form or Errors instance.');\n    }\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.objectToFormData = objectToFormData;\nfunction objectToFormData(object) {\n    var formData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new FormData();\n    var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    if (object === null || object === 'undefined' || object.length === 0) {\n        return formData.append(parent, object);\n    }\n\n    for (var property in object) {\n        if (object.hasOwnProperty(property)) {\n            appendToFormData(formData, getKey(parent, property), object[property]);\n        }\n    }\n\n    return formData;\n}\n\nfunction getKey(parent, property) {\n    return parent ? parent + '[' + property + ']' : property;\n}\n\nfunction appendToFormData(formData, key, value) {\n    if (value instanceof Date) {\n        return formData.append(key, value.toISOString());\n    }\n\n    if (value instanceof File) {\n        return formData.append(key, value, value.name);\n    }\n\n    if (typeof value === \"boolean\") {\n        return formData.append(key, value ? '1' : '0');\n    }\n\n    if (value === null) {\n        return formData.append(key, '');\n    }\n\n    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') {\n        return formData.append(key, value);\n    }\n\n    objectToFormData(value, formData, key);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _objects = require('./objects');\n\nObject.keys(_objects).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _objects[key];\n    }\n  });\n});\n\nvar _formData = require('./formData');\n\nObject.keys(_formData).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _formData[key];\n    }\n  });\n});\n\nvar _fieldNameValidation = require('./fieldNameValidation');\n\nObject.keys(_fieldNameValidation).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _fieldNameValidation[key];\n    }\n  });\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.isArray = isArray;\nexports.isFile = isFile;\nexports.merge = merge;\nexports.cloneDeep = cloneDeep;\nfunction isArray(object) {\n    return Object.prototype.toString.call(object) === '[object Array]';\n}\n\nfunction isFile(object) {\n    return object instanceof File || object instanceof FileList;\n}\n\nfunction merge(a, b) {\n    for (var key in b) {\n        a[key] = cloneDeep(b[key]);\n    }\n}\n\nfunction cloneDeep(object) {\n    if (object === null) {\n        return null;\n    }\n\n    if (isFile(object)) {\n        return object;\n    }\n\n    if (Array.isArray(object)) {\n        var clone = [];\n\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                clone[key] = cloneDeep(object[key]);\n            }\n        }\n\n        return clone;\n    }\n\n    if ((typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object') {\n        var _clone = {};\n\n        for (var _key in object) {\n            if (object.hasOwnProperty(_key)) {\n                _clone[_key] = cloneDeep(object[_key]);\n            }\n        }\n\n        return _clone;\n    }\n\n    return object;\n}","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"literature-observation-form\",attrs:{\"action\":_vm.action,\"method\":\"POST\",\"lang\":_vm.locale}},[_c('div',{staticClass:\"mb-8\"},[_c('nz-publication-autocomplete',{ref:\"publicationAutocomplete\",staticClass:\"is-required\",attrs:{\"publication\":_vm.form.publication,\"error\":_vm.form.errors.has('publication_id'),\"message\":_vm.form.errors.has('publication_id') ? _vm.form.errors.first('publication_id') : null,\"autofocus\":\"autofocus\",\"label\":_vm.trans('labels.literature_observations.publication'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_publication')},on:{\"select\":_vm.onPublicationSelect},model:{value:(_vm.publicationCitation),callback:function ($$v) {_vm.publicationCitation=$$v},expression:\"publicationCitation\"}},[_c('a',{staticClass:\"button\",attrs:{\"title\":_vm.trans('labels.literature_observations.add_new_publication'),\"href\":_vm.$ziggy('admin.publications.create')},on:{\"click\":function($event){$event.preventDefault();return _vm.addNewPublication($event)}}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)]),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.is_original_data'),\"error\":_vm.form.errors.has('is_original_data'),\"message\":_vm.form.errors.has('is_original_data') ? _vm.form.errors.first('is_original_data') : null}},[_c('b-select',{attrs:{\"value\":_vm.form.is_original_data,\"expanded\":\"\"},on:{\"input\":_vm.handleIsOriginalDataInput}},[_c('option',{domProps:{\"value\":true}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.original_data')))]),_vm._v(\" \"),_c('option',{domProps:{\"value\":false}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.citation')))])])],1),_vm._v(\" \"),_c('nz-publication-autocomplete',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.form.is_original_data),expression:\"!form.is_original_data\"}],staticClass:\"is-required\",attrs:{\"publication\":_vm.form.cited_publication,\"error\":_vm.form.errors.has('cited_publication_id'),\"message\":_vm.form.errors.has('cited_publication_id') ? _vm.form.errors.first('cited_publication_id') : null,\"label\":_vm.trans('labels.literature_observations.cited_publication'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_publication')},on:{\"select\":_vm.onCitedPublicationSelect},model:{value:(_vm.citedPublication),callback:function ($$v) {_vm.citedPublication=$$v},expression:\"citedPublication\"}},[_c('a',{staticClass:\"button\",attrs:{\"title\":_vm.trans('labels.literature_observations.add_new_publication'),\"href\":_vm.$ziggy('admin.publications.create')},on:{\"click\":function($event){$event.preventDefault();return _vm.addNewPublication($event)}}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)]),_vm._v(\" \"),_c('nz-taxon-autocomplete',{ref:\"taxonAutocomplete\",staticClass:\"is-required\",attrs:{\"taxon\":_vm.form.taxon,\"error\":_vm.form.errors.has('taxon_id'),\"message\":_vm.form.errors.has('taxon_id') ? _vm.form.errors.first('taxon_id') : null,\"autofocus\":\"autofocus\",\"label\":_vm.trans('labels.literature_observations.taxon'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.taxonName),callback:function ($$v) {_vm.taxonName=$$v},expression:\"taxonName\"}}),_vm._v(\" \"),_c('nz-date-input',{attrs:{\"year\":_vm.form.year,\"month\":_vm.form.month,\"day\":_vm.form.day,\"errors\":_vm.form.errors,\"label\":_vm.trans('labels.literature_observations.date'),\"placeholders\":{\n          year: _vm.trans('labels.literature_observations.year'),\n          month: _vm.trans('labels.literature_observations.month'),\n          day: _vm.trans('labels.literature_observations.day')\n      }},on:{\"update:year\":function($event){return _vm.$set(_vm.form, \"year\", $event)},\"update:month\":function($event){return _vm.$set(_vm.form, \"month\", $event)},\"update:day\":function($event){return _vm.$set(_vm.form, \"day\", $event)}}}),_vm._v(\" \"),_c('div',[_c('h2',{staticClass:\"is-size-4\"},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.verbatim_data')))]),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_identification'),\"type\":_vm.form.errors.has('original_identification') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_identification') ? _vm.form.errors.first('original_identification') : null}},[_c('b-input',{attrs:{\"name\":\"original_identification\"},model:{value:(_vm.form.original_identification),callback:function ($$v) {_vm.$set(_vm.form, \"original_identification\", $$v)},expression:\"form.original_identification\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_identification_validity'),\"type\":_vm.form.errors.has('original_identification_validity') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_identification_validity') ? _vm.form.errors.first('original_identification_validity') : null}},[_c('b-select',{attrs:{\"name\":\"original_identification_validity\",\"expanded\":\"\"},model:{value:(_vm.form.original_identification_validity),callback:function ($$v) {_vm.$set(_vm.form, \"original_identification_validity\", $$v)},expression:\"form.original_identification_validity\"}},_vm._l((_vm.validityOptions),function(label,value){return _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(_vm._s(label))])}),0)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_date'),\"type\":_vm.form.errors.has('original_date') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_date') ? _vm.form.errors.first('original_date') : null}},[_c('b-input',{attrs:{\"name\":\"original_date\"},model:{value:(_vm.form.original_date),callback:function ($$v) {_vm.$set(_vm.form, \"original_date\", $$v)},expression:\"form.original_date\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_locality'),\"type\":_vm.form.errors.has('original_locality') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_locality') ? _vm.form.errors.first('original_locality') : null}},[_c('b-input',{model:{value:(_vm.form.original_locality),callback:function ($$v) {_vm.$set(_vm.form, \"original_locality\", $$v)},expression:\"form.original_locality\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_coordinates'),\"type\":_vm.form.errors.has('original_coordinates') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_coordinates') ? _vm.form.errors.first('original_coordinates') : null}},[_c('b-input',{model:{value:(_vm.form.original_coordinates),callback:function ($$v) {_vm.$set(_vm.form, \"original_coordinates\", $$v)},expression:\"form.original_coordinates\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_elevation'),\"type\":_vm.form.errors.has('original_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_elevation') ? _vm.form.errors.first('original_elevation') : null}},[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.literature_observations.original_elevation_placeholder')},model:{value:(_vm.form.original_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"original_elevation\", $$v)},expression:\"form.original_elevation\"}})],1)],1),_vm._v(\" \"),_c('b-field',{staticClass:\"mb-8\",attrs:{\"label\":_vm.trans('labels.literature_observations.other_original_data'),\"type\":_vm.form.errors.has('other_original_data') ? 'is-danger' : null,\"message\":_vm.form.errors.has('other_original_data') ? _vm.form.errors.first('other_original_data') : null}},[_c('b-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.other_original_data),callback:function ($$v) {_vm.$set(_vm.form, \"other_original_data\", $$v)},expression:\"form.other_original_data\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.collecting_start_year'),\"type\":_vm.form.errors.has('collecting_start_year') ? 'is-danger' : null,\"message\":_vm.form.errors.has('collecting_start_year') ? _vm.form.errors.first('collecting_start_year') : null}},[_c('b-input',{model:{value:(_vm.form.collecting_start_year),callback:function ($$v) {_vm.$set(_vm.form, \"collecting_start_year\", $$v)},expression:\"form.collecting_start_year\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.collecting_start_month'),\"type\":_vm.form.errors.has('collecting_start_month') ? 'is-danger' : null,\"message\":_vm.form.errors.has('collecting_start_month') ? _vm.form.errors.first('collecting_start_month') : null}},[_c('b-input',{model:{value:(_vm.form.collecting_start_month),callback:function ($$v) {_vm.$set(_vm.form, \"collecting_start_month\", $$v)},expression:\"form.collecting_start_month\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.collecting_end_year'),\"type\":_vm.form.errors.has('collecting_end_year') ? 'is-danger' : null,\"message\":_vm.form.errors.has('collecting_end_year') ? _vm.form.errors.first('collecting_end_year') : null}},[_c('b-input',{model:{value:(_vm.form.collecting_end_year),callback:function ($$v) {_vm.$set(_vm.form, \"collecting_end_year\", $$v)},expression:\"form.collecting_end_year\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.collecting_end_month'),\"type\":_vm.form.errors.has('collecting_end_month') ? 'is-danger' : null,\"message\":_vm.form.errors.has('collecting_end_month') ? _vm.form.errors.first('collecting_end_month') : null}},[_c('b-input',{model:{value:(_vm.form.collecting_end_month),callback:function ($$v) {_vm.$set(_vm.form, \"collecting_end_month\", $$v)},expression:\"form.collecting_end_month\"}})],1)],1)],1),_vm._v(\" \"),_c('nz-spatial-input',{staticClass:\"mb-4\",attrs:{\"latitude\":_vm.form.latitude,\"longitude\":_vm.form.longitude,\"location\":_vm.form.location,\"accuracy\":_vm.form.accuracy,\"elevation\":_vm.form.elevation,\"errors\":_vm.form.errors,\"has-other-errors\":_vm.form.errors.has('minimum_elevation') || _vm.form.errors.has('maximum_elevation')},on:{\"update:latitude\":function($event){return _vm.$set(_vm.form, \"latitude\", $event)},\"update:longitude\":function($event){return _vm.$set(_vm.form, \"longitude\", $event)},\"update:location\":function($event){return _vm.$set(_vm.form, \"location\", $event)},\"update:accuracy\":function($event){return _vm.$set(_vm.form, \"accuracy\", $event)},\"update:elevation\":function($event){return _vm.$set(_vm.form, \"elevation\", $event)},\"elevation-fetched\":_vm.handleElevationFetched}},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.minimum_elevation_m'),\"type\":_vm.form.errors.has('minimum_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('minimum_elevation') ? _vm.form.errors.first('minimum_elevation') : null,\"custom-class\":\"is-small\"}},[_c('b-input',{attrs:{\"type\":\"number\",\"size\":\"is-small\"},model:{value:(_vm.form.minimum_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"minimum_elevation\", _vm._n($$v))},expression:\"form.minimum_elevation\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.maximum_elevation_m'),\"type\":_vm.form.errors.has('maximum_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('maximum_elevation') ? _vm.form.errors.first('maximum_elevation') : null,\"custom-class\":\"is-small\"}},[_c('b-input',{attrs:{\"type\":\"number\",\"size\":\"is-small\"},model:{value:(_vm.form.maximum_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"maximum_elevation\", _vm._n($$v))},expression:\"form.maximum_elevation\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.georeferenced_by'),\"type\":_vm.form.errors.has('georeferenced_by') ? 'is-danger' : null,\"message\":_vm.form.errors.has('georeferenced_by') ? _vm.form.errors.first('georeferenced_by') : null}},[_c('b-input',{model:{value:(_vm.form.georeferenced_by),callback:function ($$v) {_vm.$set(_vm.form, \"georeferenced_by\", _vm._n($$v))},expression:\"form.georeferenced_by\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.georeferenced_date'),\"type\":_vm.form.errors.has('georeferenced_date') ? 'is-danger' : null,\"message\":_vm.form.errors.has('georeferenced_date') ? _vm.form.errors.first('georeferenced_date') : null}},[_c('b-datepicker',{attrs:{\"max-date\":new Date(),\"mobile-native\":false,\"date-formatter\":_vm.dateFormater,\"first-day-of-week\":1,\"placeholder\":\"DD.MM.YYYY\"},model:{value:(_vm.georeferencedDate),callback:function ($$v) {_vm.georeferencedDate=$$v},expression:\"georeferencedDate\"}},[_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.form.georeferenced_date = null}}},[_c('b-icon',{attrs:{\"icon\":\"close\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Clear\")])],1)])],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.stage'),\"type\":_vm.form.errors.has('stage_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('stage_id') ? _vm.form.errors.first('stage_id') : null}},[_c('b-select',{attrs:{\"disabled\":!_vm.stages.length,\"expanded\":\"expanded\"},model:{value:(_vm.form.stage_id),callback:function ($$v) {_vm.$set(_vm.form, \"stage_id\", $$v)},expression:\"form.stage_id\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.choose_a_stage')))]),_vm._v(\" \"),_vm._l((_vm.stages),function(stage){return _c('option',{key:stage.id,domProps:{\"value\":stage.id,\"textContent\":_vm._s(_vm.trans('stages.'+stage.name))}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.sex'),\"type\":_vm.form.errors.has('sex') ? 'is-danger' : null,\"message\":_vm.form.errors.has('sex') ? _vm.form.errors.first('sex') : null}},[_c('b-select',{attrs:{\"expanded\":\"expanded\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.choose_a_value')))]),_vm._v(\" \"),_vm._l((_vm.sexes),function(label,sex){return _c('option',{key:sex,domProps:{\"value\":sex,\"textContent\":_vm._s(label)}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.number'),\"type\":_vm.form.errors.has('number') ? 'is-danger' : null,\"message\":_vm.form.errors.has('number') ? _vm.form.errors.first('number') : null}},[_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.note'),\"error\":_vm.form.errors.has('note'),\"message\":_vm.form.errors.has('note') ? _vm.form.errors.first('note') : null}},[_c('b-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.habitat'),\"type\":_vm.form.errors.has('habitat') ? 'is-danger' : null,\"message\":_vm.form.errors.has('habitat') ? _vm.form.errors.first('habitat') : null}},[_c('b-input',{model:{value:(_vm.form.habitat),callback:function ($$v) {_vm.$set(_vm.form, \"habitat\", $$v)},expression:\"form.habitat\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.found_on'),\"type\":_vm.form.errors.has('found_on') ? 'is-danger' : null,\"message\":_vm.form.errors.has('found_on') ? _vm.form.errors.first('found_on') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"found_on\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.found_on_tooltip')}),expression:\"{content: trans('labels.literature_observations.found_on_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n            \"+_vm._s(_vm.trans('labels.literature_observations.found_on'))+\"\\n          \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"found_on\",\"name\":\"found_on\"},model:{value:(_vm.form.found_on),callback:function ($$v) {_vm.$set(_vm.form, \"found_on\", $$v)},expression:\"form.found_on\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.time'),\"type\":_vm.form.errors.has('time') ? 'is-danger' : null,\"message\":_vm.form.errors.has('time') ? _vm.form.errors.first('time') : null}},[_c('b-timepicker',{attrs:{\"value\":_vm.time,\"placeholder\":_vm.trans('labels.literature_observations.click_to_select'),\"icon\":\"clock-o\",\"mobile-native\":false},on:{\"input\":_vm.onTimeInput}},[_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.form.time = null}}},[_c('b-icon',{attrs:{\"icon\":\"close\"}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"project\"}},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.project_tooltip')}),expression:\"{content: trans('labels.literature_observations.project_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n                \"+_vm._s(_vm.trans('labels.literature_observations.project'))+\"\\n              \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"project\",\"name\":\"project\"},model:{value:(_vm.form.project),callback:function ($$v) {_vm.$set(_vm.form, \"project\", $$v)},expression:\"form.project\"}}),_vm._v(\" \"),(_vm.form.errors.has('project'))?_c('p',{staticClass:\"help\",class:{ 'is-danger': _vm.form.errors.has('project') },domProps:{\"innerHTML\":_vm._s(_vm.form.errors.first('project'))}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"dataset\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.trans('labels.literature_observations.dataset'))+\"\\n            \")]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"dataset\",\"name\":\"dataset\"},model:{value:(_vm.form.dataset),callback:function ($$v) {_vm.$set(_vm.form, \"dataset\", $$v)},expression:\"form.dataset\"}}),_vm._v(\" \"),(_vm.form.errors.has('dataset'))?_c('p',{staticClass:\"help\",class:{ 'is-danger': _vm.form.errors.has('dataset') },domProps:{\"innerHTML\":_vm._s(_vm.form.errors.first('dataset'))}}):_vm._e()],1)])]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.observer'),\"type\":_vm.form.errors.has('observer') ? 'is-danger' : null,\"message\":_vm.form.errors.has('observer') ? _vm.form.errors.first('observer') : null}},[_c('b-input',{attrs:{\"name\":\"observer\"},model:{value:(_vm.form.observer),callback:function ($$v) {_vm.$set(_vm.form, \"observer\", $$v)},expression:\"form.observer\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.identifier'),\"type\":_vm.form.errors.has('identifier') ? 'is-danger' : null,\"message\":_vm.form.errors.has('identifier') ? _vm.form.errors.first('identifier') : null}},[_c('b-input',{attrs:{\"name\":\"identifier\"},model:{value:(_vm.form.identifier),callback:function ($$v) {_vm.$set(_vm.form, \"identifier\", $$v)},expression:\"form.identifier\"}})],1)],1)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.place_where_referenced_in_publication'),\"type\":_vm.form.errors.has('place_where_referenced_in_publication') ? 'is-danger' : null,\"message\":_vm.form.errors.has('place_where_referenced_in_publication') ? _vm.form.errors.first('place_where_referenced_in_publication') : null}},[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.literature_observations.place_where_referenced_in_publication_placeholder')},model:{value:(_vm.form.place_where_referenced_in_publication),callback:function ($$v) {_vm.$set(_vm.form, \"place_where_referenced_in_publication\", $$v)},expression:\"form.place_where_referenced_in_publication\"}})],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-loading': _vm.submittingWithRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save'))+\"\\n  \")]),_vm._v(\" \"),(_vm.submitMore)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_more_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_more_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-outlined': !_vm.submittingWithoutRedirect,\n      'is-loading': _vm.submittingWithoutRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save_more'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.submitMoreWithSameTaxon)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_more_same_taxon_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_more_same_taxon_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-outlined': !_vm.submittingWithoutRedirectWithSameTaxon,\n      'is-loading': _vm.submittingWithoutRedirectWithSameTaxon\n    },attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirectWithSameTaxon($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('labels.literature_observations.save_more_same_taxon'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"button is-text\",attrs:{\"href\":_vm.cancelUrl},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form :action=\"action\" method=\"POST\" :lang=\"locale\" class=\"literature-observation-form\">\n    <div class=\"mb-8\">\n      <nz-publication-autocomplete\n        class=\"is-required\"\n        v-model=\"publicationCitation\"\n        @select=\"onPublicationSelect\"\n        :publication=\"form.publication\"\n        :error=\"form.errors.has('publication_id')\"\n        :message=\"form.errors.has('publication_id') ? form.errors.first('publication_id') : null\"\n        autofocus=\"autofocus\"\n        ref=\"publicationAutocomplete\"\n        :label=\"trans('labels.literature_observations.publication')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_publication')\"\n      >\n        <a\n          class=\"button\"\n          :title=\"trans('labels.literature_observations.add_new_publication')\"\n          :href=\"$ziggy('admin.publications.create')\"\n          @click.prevent=\"addNewPublication\"\n        >\n          <b-icon icon=\"plus\" />\n        </a>\n      </nz-publication-autocomplete>\n\n      <b-field\n        class=\"is-required\"\n        :label=\"trans('labels.literature_observations.is_original_data')\"\n        :error=\"form.errors.has('is_original_data')\"\n        :message=\"form.errors.has('is_original_data') ? form.errors.first('is_original_data') : null\"\n      >\n        <b-select :value=\"form.is_original_data\" @input=\"handleIsOriginalDataInput\" expanded>\n          <option :value=\"true\">{{ trans('labels.literature_observations.original_data') }}</option>\n          <option :value=\"false\">{{ trans('labels.literature_observations.citation') }}</option>\n        </b-select>\n      </b-field>\n\n      <nz-publication-autocomplete\n        v-show=\"!form.is_original_data\"\n        v-model=\"citedPublication\"\n        @select=\"onCitedPublicationSelect\"\n        class=\"is-required\"\n        :publication=\"form.cited_publication\"\n        :error=\"form.errors.has('cited_publication_id')\"\n        :message=\"form.errors.has('cited_publication_id') ? form.errors.first('cited_publication_id') : null\"\n        :label=\"trans('labels.literature_observations.cited_publication')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_publication')\"\n      >\n        <a\n          class=\"button\"\n          :title=\"trans('labels.literature_observations.add_new_publication')\"\n          :href=\"$ziggy('admin.publications.create')\"\n          @click.prevent=\"addNewPublication\"\n        >\n          <b-icon icon=\"plus\" />\n        </a>\n      </nz-publication-autocomplete>\n\n      <nz-taxon-autocomplete\n        v-model=\"taxonName\"\n        @select=\"onTaxonSelect\"\n        class=\"is-required\"\n        :taxon=\"form.taxon\"\n        :error=\"form.errors.has('taxon_id')\"\n        :message=\"form.errors.has('taxon_id') ? form.errors.first('taxon_id') : null\"\n        autofocus=\"autofocus\"\n        ref=\"taxonAutocomplete\"\n        :label=\"trans('labels.literature_observations.taxon')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_taxon')\"\n      />\n\n      <nz-date-input\n        :year.sync=\"form.year\"\n        :month.sync=\"form.month\"\n        :day.sync=\"form.day\"\n        :errors=\"form.errors\"\n        :label=\"trans('labels.literature_observations.date')\"\n        :placeholders=\"{\n            year: trans('labels.literature_observations.year'),\n            month: trans('labels.literature_observations.month'),\n            day: trans('labels.literature_observations.day')\n        }\"\n      />\n\n      <div>\n        <h2 class=\"is-size-4\">{{ trans('labels.literature_observations.verbatim_data') }}</h2>\n\n        <b-field\n          class=\"is-required\"\n          :label=\"trans('labels.literature_observations.original_identification')\"\n          :type=\"form.errors.has('original_identification') ? 'is-danger' : null\"\n          :message=\"form.errors.has('original_identification') ? form.errors.first('original_identification') : null\"\n        >\n          <b-input name=\"original_identification\" v-model=\"form.original_identification\" />\n        </b-field>\n\n        <b-field\n          class=\"is-required\"\n          :label=\"trans('labels.literature_observations.original_identification_validity')\"\n          :type=\"form.errors.has('original_identification_validity') ? 'is-danger' : null\"\n          :message=\"form.errors.has('original_identification_validity') ? form.errors.first('original_identification_validity') : null\"\n        >\n          <b-select name=\"original_identification_validity\" v-model=\"form.original_identification_validity\" expanded>\n            <option :value=\"value\" v-for=\"(label, value) in validityOptions\" :key=\"value\">{{ label }}</option>\n          </b-select>\n        </b-field>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_date')\"\n            :type=\"form.errors.has('original_date') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_date') ? form.errors.first('original_date') : null\"\n          >\n            <b-input name=\"original_date\" v-model=\"form.original_date\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_locality')\"\n            :type=\"form.errors.has('original_locality') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_locality') ? form.errors.first('original_locality') : null\"\n          >\n            <b-input v-model=\"form.original_locality\"/>\n          </b-field>\n        </div>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_coordinates')\"\n            :type=\"form.errors.has('original_coordinates') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_coordinates') ? form.errors.first('original_coordinates') : null\"\n          >\n            <b-input v-model=\"form.original_coordinates\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_elevation')\"\n            :type=\"form.errors.has('original_elevation') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_elevation') ? form.errors.first('original_elevation') : null\"\n          >\n            <b-input v-model=\"form.original_elevation\" :placeholder=\"trans('labels.literature_observations.original_elevation_placeholder')\"/>\n          </b-field>\n        </div>\n\n        <b-field\n          class=\"mb-8\"\n          :label=\"trans('labels.literature_observations.other_original_data')\"\n          :type=\"form.errors.has('other_original_data') ? 'is-danger' : null\"\n          :message=\"form.errors.has('other_original_data') ? form.errors.first('other_original_data') : null\"\n        >\n           <b-input type=\"textarea\" v-model=\"form.other_original_data\" />\n        </b-field>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.collecting_start_year')\"\n            :type=\"form.errors.has('collecting_start_year') ? 'is-danger' : null\"\n            :message=\"form.errors.has('collecting_start_year') ? form.errors.first('collecting_start_year') : null\"\n          >\n            <b-input v-model=\"form.collecting_start_year\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.collecting_start_month')\"\n            :type=\"form.errors.has('collecting_start_month') ? 'is-danger' : null\"\n            :message=\"form.errors.has('collecting_start_month') ? form.errors.first('collecting_start_month') : null\"\n          >\n            <b-input v-model=\"form.collecting_start_month\"/>\n          </b-field>\n        </div>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.collecting_end_year')\"\n            :type=\"form.errors.has('collecting_end_year') ? 'is-danger' : null\"\n            :message=\"form.errors.has('collecting_end_year') ? form.errors.first('collecting_end_year') : null\"\n          >\n            <b-input v-model=\"form.collecting_end_year\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.collecting_end_month')\"\n            :type=\"form.errors.has('collecting_end_month') ? 'is-danger' : null\"\n            :message=\"form.errors.has('collecting_end_month') ? form.errors.first('collecting_end_month') : null\"\n          >\n            <b-input v-model=\"form.collecting_end_month\"/>\n          </b-field>\n        </div>\n      </div>\n\n      <nz-spatial-input\n        class=\"mb-4\"\n        :latitude.sync=\"form.latitude\"\n        :longitude.sync=\"form.longitude\"\n        :location.sync=\"form.location\"\n        :accuracy.sync=\"form.accuracy\"\n        :elevation.sync=\"form.elevation\"\n        @elevation-fetched=\"handleElevationFetched\"\n        :errors=\"form.errors\"\n        :has-other-errors=\"form.errors.has('minimum_elevation') || form.errors.has('maximum_elevation')\"\n      >\n        <b-field\n          :label=\"trans('labels.literature_observations.minimum_elevation_m')\"\n          :type=\"form.errors.has('minimum_elevation') ? 'is-danger' : null\"\n          :message=\"form.errors.has('minimum_elevation') ? form.errors.first('minimum_elevation') : null\"\n          custom-class=\"is-small\"\n        >\n          <b-input type=\"number\" size=\"is-small\" v-model.number=\"form.minimum_elevation\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.maximum_elevation_m')\"\n          :type=\"form.errors.has('maximum_elevation') ? 'is-danger' : null\"\n          :message=\"form.errors.has('maximum_elevation') ? form.errors.first('maximum_elevation') : null\"\n          custom-class=\"is-small\"\n        >\n          <b-input type=\"number\" size=\"is-small\" v-model.number=\"form.maximum_elevation\"/>\n        </b-field>\n      </nz-spatial-input>\n\n      <div class=\"columns\">\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.literature_observations.georeferenced_by')\"\n            :type=\"form.errors.has('georeferenced_by') ? 'is-danger' : null\"\n            :message=\"form.errors.has('georeferenced_by') ? form.errors.first('georeferenced_by') : null\"\n          >\n            <b-input v-model.number=\"form.georeferenced_by\"/>\n          </b-field>\n        </div>\n\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.literature_observations.georeferenced_date')\"\n            :type=\"form.errors.has('georeferenced_date') ? 'is-danger' : null\"\n            :message=\"form.errors.has('georeferenced_date') ? form.errors.first('georeferenced_date') : null\"\n          >\n            <b-datepicker\n              v-model=\"georeferencedDate\"\n              :max-date=\"new Date()\"\n              :mobile-native=\"false\"\n              :date-formatter=\"dateFormater\"\n              :first-day-of-week=\"1\"\n              placeholder=\"DD.MM.YYYY\"\n            >\n              <button type=\"button\" class=\"button is-danger\" @click=\"form.georeferenced_date = null\">\n                <b-icon icon=\"close\" />\n                <span>Clear</span>\n              </button>\n            </b-datepicker>\n          </b-field>\n        </div>\n      </div>\n\n      <b-field :label=\"trans('labels.literature_observations.stage')\" :type=\"form.errors.has('stage_id') ? 'is-danger' : null\" :message=\"form.errors.has('stage_id') ? form.errors.first('stage_id') : null\">\n        <b-select v-model=\"form.stage_id\" :disabled=\"!stages.length\" expanded=\"expanded\">\n          <option :value=\"null\">{{ trans('labels.literature_observations.choose_a_stage') }}</option>\n          <option v-for=\"stage in stages\" :value=\"stage.id\" :key=\"stage.id\" v-text=\"trans('stages.'+stage.name)\"></option>\n        </b-select>\n      </b-field>\n\n      <b-field :label=\"trans('labels.literature_observations.sex')\" :type=\"form.errors.has('sex') ? 'is-danger' : null\" :message=\"form.errors.has('sex') ? form.errors.first('sex') : null\">\n        <b-select v-model=\"form.sex\" expanded=\"expanded\">\n          <option :value=\"null\">{{ trans('labels.literature_observations.choose_a_value') }}</option>\n          <option v-for=\"(label,sex) in sexes\" :key=\"sex\" :value=\"sex\" v-text=\"label\"></option>\n        </b-select>\n      </b-field>\n\n      <b-field\n        :label=\"trans('labels.literature_observations.number')\"\n        :type=\"form.errors.has('number') ? 'is-danger' : null\"\n        :message=\"form.errors.has('number') ? form.errors.first('number') : null\"\n      >\n        <b-input type=\"number\" v-model=\"form.number\"/>\n      </b-field>\n\n      <div class=\"mt-4\">\n        <b-field :label=\"trans('labels.literature_observations.note')\" :error=\"form.errors.has('note')\" :message=\"form.errors.has('note') ? form.errors.first('note') : null\"><b-input type=\"textarea\" v-model=\"form.note\"/></b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.habitat')\"\n          :type=\"form.errors.has('habitat') ? 'is-danger' : null\"\n          :message=\"form.errors.has('habitat') ? form.errors.first('habitat') : null\"\n        >\n          <b-input v-model=\"form.habitat\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.found_on')\"\n          :type=\"form.errors.has('found_on') ? 'is-danger' : null\"\n          :message=\"form.errors.has('found_on') ? form.errors.first('found_on') : null\"\n        >\n          <label for=\"found_on\" class=\"label\" slot=\"label\">\n            <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.found_on_tooltip')}\">\n              {{ trans('labels.literature_observations.found_on') }}\n            </span>\n          </label>\n\n          <b-input id=\"found_on\" name=\"found_on\" v-model=\"form.found_on\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.time')\"\n          :type=\"form.errors.has('time') ? 'is-danger' : null\"\n          :message=\"form.errors.has('time') ? form.errors.first('time') : null\"\n        >\n          <b-timepicker\n            :value=\"time\"\n            @input=\"onTimeInput\"\n            :placeholder=\"trans('labels.literature_observations.click_to_select')\"\n            icon=\"clock-o\"\n            :mobile-native=\"false\"\n          >\n            <button type=\"button\" class=\"button is-danger\" @click=\"form.time = null\">\n              <b-icon icon=\"close\"></b-icon>\n            </button>\n          </b-timepicker>\n        </b-field>\n\n        <div class=\"columns\">\n          <div class=\"column\">\n            <div class=\"field\">\n              <label for=\"project\" class=\"label\">\n                <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.project_tooltip')}\">\n                  {{ trans('labels.literature_observations.project') }}\n                </span>\n              </label>\n\n              <b-input id=\"project\" name=\"project\" v-model=\"form.project\"/>\n\n              <p v-if=\"form.errors.has('project')\" v-html=\"form.errors.first('project')\" class=\"help\" :class=\"{ 'is-danger': form.errors.has('project') }\"/>\n            </div>\n          </div>\n\n          <div class=\"column\">\n            <div class=\"field\">\n              <label for=\"dataset\" class=\"label\">\n                {{ trans('labels.literature_observations.dataset') }}\n              </label>\n\n              <b-input id=\"dataset\" name=\"dataset\" v-model=\"form.dataset\"/>\n\n              <p v-if=\"form.errors.has('dataset')\" v-html=\"form.errors.first('dataset')\" class=\"help\" :class=\"{ 'is-danger': form.errors.has('dataset') }\"/>\n            </div>\n          </div>\n        </div>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.observer')\"\n          :type=\"form.errors.has('observer') ? 'is-danger' : null\"\n          :message=\"form.errors.has('observer') ? form.errors.first('observer') : null\"\n        >\n          <b-input name=\"observer\" v-model=\"form.observer\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.identifier')\"\n          :type=\"form.errors.has('identifier') ? 'is-danger' : null\"\n          :message=\"form.errors.has('identifier') ? form.errors.first('identifier') : null\"\n        >\n          <b-input name=\"identifier\" v-model=\"form.identifier\"/>\n        </b-field>\n      </div>\n    </div>\n\n    <b-field\n      :label=\"trans('labels.literature_observations.place_where_referenced_in_publication')\"\n      :type=\"form.errors.has('place_where_referenced_in_publication') ? 'is-danger' : null\"\n      :message=\"form.errors.has('place_where_referenced_in_publication') ? form.errors.first('place_where_referenced_in_publication') : null\"\n    >\n      <b-input v-model=\"form.place_where_referenced_in_publication\" :placeholder=\"trans('labels.literature_observations.place_where_referenced_in_publication_placeholder')\"/>\n    </b-field>\n\n    <hr>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-loading': submittingWithRedirect\n      }\"\n      @click.prevent=\"submitWithRedirect\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_tooltip')}\"\n    >\n      {{ trans('buttons.save') }}\n    </button>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-outlined': !submittingWithoutRedirect,\n        'is-loading': submittingWithoutRedirect\n      }\"\n      @click.prevent=\"submitWithoutRedirect\"\n      v-if=\"submitMore\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_more_tooltip')}\">\n      {{ trans('buttons.save_more') }}\n    </button>\n\n    <button\n      type=\"button\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-outlined': !submittingWithoutRedirectWithSameTaxon,\n        'is-loading': submittingWithoutRedirectWithSameTaxon\n      }\"\n      @click.prevent=\"submitWithoutRedirectWithSameTaxon\"\n      v-if=\"submitMoreWithSameTaxon\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_more_same_taxon_tooltip')}\">\n      {{ trans('labels.literature_observations.save_more_same_taxon') }}\n    </button>\n\n    <a :href=\"cancelUrl\" class=\"button is-text\" @click=\"onCancel\">{{ trans('buttons.cancel') }}</a>\n  </form>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport dayjs from '@/dayjs'\nimport _get from 'lodash/get'\nimport _find from 'lodash/find'\nimport _pick from 'lodash/pick'\nimport FormMixin from '@/mixins/FormMixin'\nimport PersistentForm from '@/mixins/PersistentForm'\nimport NzDateInput from '@/components/inputs/DateInput'\nimport NzSpatialInput from '@/components/inputs/SpatialInput'\nimport NzPublicationAutocomplete from '@/components/inputs/PublicationAutocomplete'\nimport NzTaxonAutocomplete from '@/components/inputs/TaxonAutocomplete'\n\nexport default {\n  name: 'nzLiteratureObservationForm',\n\n  mixins: [PersistentForm, FormMixin],\n\n  components: {\n    NzDateInput,\n    NzSpatialInput,\n    NzPublicationAutocomplete,\n    NzTaxonAutocomplete\n  },\n\n  props: {\n    submitMoreWithSameTaxon: Boolean,\n\n    observation: {\n      type: Object,\n      default() {\n        return {\n          original_date: null,\n          original_locality: null,\n          original_elevation: null,\n          original_coordinates: null,\n          original_identification: null,\n          original_identification_validity: null,\n          other_original_data: null,\n          collecting_start_year: null,\n          collecting_start_month: null,\n          collecting_end_year: null,\n          collecting_end_month: null,\n          place_where_referenced_in_publication: null,\n          publication_id: null,\n          taxon_id: null,\n          year: dayjs().year(),\n          month: dayjs().month() + 1,\n          day: dayjs().date(),\n          is_original_data: true,\n          cited_publication_id: null,\n          latitude: null,\n          longitude: null,\n          location: null,\n          accuracy: null,\n          elevation: null,\n          minimum_elevation: null,\n          maximum_elevation: null,\n          georeferenced_by: null,\n          georeferenced_date: null,\n\n          observer: null,\n          identifier: null,\n          note: null,\n          sex: null,\n          number: null,\n          project: null,\n          found_on: null,\n          habitat: null,\n          stage_id: null,\n          time: null,\n          dataset: null,\n\n          taxon: null,\n          publication: null,\n          cited_publication: null\n        }\n      }\n    },\n\n    sexes: {\n      type: Object,\n      default: () => ({})\n    },\n\n    validityOptions: {\n      type: [Array, Object],\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      keepAfterSubmit: this.getAttributesToKeep(),\n      submittingWithoutRedirectWithSameTaxon: false,\n      locale: window.App.locale,\n      taxonName: _get(this.observation, 'taxon.name', ''),\n      publicationCitation: _get(this.observation, 'publication.citation', ''),\n      citedPublication: _get(this.observation, 'cited_publication.citation', '')\n    }\n  },\n\n  computed: {\n    stages() {\n      return this.form.taxon\n        ? this.form.taxon.stages\n        : []\n    },\n\n    time() {\n      return this.form.time\n        ? dayjs(this.form.time, 'HH:mm').toDate()\n        : null\n    },\n\n    georeferencedDate: {\n      get() {\n        const val = dayjs(this.form.georeferenced_date)\n\n        return val.isValid() ? val.toDate() : null\n      },\n\n      set(value) {\n        this.form.georeferenced_date = dayjs(value).format('YYYY-MM-DD')\n      }\n    }\n  },\n\n  created() {\n    this.restoreState()\n  },\n\n  methods: {\n    otherPersistentKeys() {\n      return ['taxonName', 'publicationCitation', 'citedPublication']\n    },\n\n    /**\n     * Create new form instance.\n     *\n     * @return {Form}\n     */\n    newForm() {\n      return new Form({\n        ...this.observation,\n        reason: null\n      }, {\n        resetOnSuccess: false\n      })\n    },\n\n    /**\n     * Handle taxon being selected.\n     *\n     * @param {Object} value\n     */\n    onTaxonSelect(taxon) {\n      this.form.taxon = taxon || null\n      this.form.taxon_id = taxon ? taxon.id : null\n      this.taxonName = taxon ? taxon.name : null\n\n      const invalidStage = !_find(this.stages, stage => stage.id === this.form.stage_id)\n\n      if (invalidStage) {\n        this.form.stage_id = null\n      }\n    },\n\n    /**\n     * Handle publication being selected.\n     *\n     * @param {Object} value\n     */\n    onPublicationSelect(publication) {\n      this.form.publication = publication || null\n      this.form.publication_id = publication ? publication.id : null\n      this.publicationCitation = publication ? publication.citation : null\n    },\n\n    /**\n     * Handle cited publication being selected.\n     *\n     * @param {Object} value\n     */\n    onCitedPublicationSelect(publication) {\n      this.form.cited_publication = publication || null\n      this.form.cited_publication_id = publication ? publication.id : null\n      this.citedPublication = publication ? publication.citation : null\n    },\n\n    /**\n     * Set time.\n     */\n    onTimeInput(value) {\n      this.form.time = value ? dayjs(value).format('HH:mm') : null\n    },\n\n    /**\n     * Attributes to keep after submit without redirect.\n     *\n     * @return {Array}\n     */\n    getAttributesToKeep() {\n      return [\n        'location',\n        'accuracy',\n        'elevation',\n        'latitude',\n        'longitude',\n        'year',\n        'month',\n        'day',\n        'project',\n        'observer',\n        'identifier',\n        'dataset',\n        'publication',\n        'publication_id',\n        'cited_publication',\n        'cited_publication_id',\n        'is_original_data',\n        'minimum_elevation',\n        'maximum_elevation',\n        'original_locality',\n        'original_elevation',\n        'original_coordinates',\n        'georeferenced_by',\n        'georeferenced_date'\n      ]\n    },\n\n    hookAfterSubmitWithoutRedirect() {\n      this.taxonName = ''\n    },\n\n    handleIsOriginalDataInput(value) {\n      if (value) {\n        this.onCitedPublicationSelect(null)\n      }\n\n      this.form.is_original_data = value\n    },\n\n    addNewPublication() {\n      this.saveState()\n\n      window.location.href = route('admin.publications.create')\n    },\n\n    dateFormater(date) {\n      return dayjs(date).format('DD.MM.YYYY')\n    },\n\n    handleElevationFetched(elevation) {\n      this.form.minimum_elevation = elevation\n      this.form.maximum_elevation = elevation\n    },\n\n    /**\n     * Submit the form and stay to add more, with same taxon.\n     */\n    submitWithoutRedirectWithSameTaxon() {\n      if (this.form.processing) return\n\n      if (this.submitOnlyDirty  && !this.isDirty()) return this.notifyNoChanges()\n\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithoutRedirectWithSameTaxon)\n\n      this.performSubmitWithoutRedirectWithSameTaxon()\n    },\n\n    /**\n     * Submit the form and stay to add more, with same taxon.\n     */\n    performSubmitWithoutRedirectWithSameTaxon(reason = null) {\n      this.submittingWithoutRedirectWithSameTaxon = true\n      this.confirmingSubmit = false\n\n      if (this.shouldAskReason) {\n        this.form.reason = reason\n      }\n\n      this.form[this.method.toLowerCase()](this.action)\n          .then(this.onSuccessfulSubmitWithoutRedirectWithSameTaxon)\n          .catch(error => {\n            this.submittingWithoutRedirectWithSameTaxon = false\n            this.onFailedSubmit(error)\n          })\n    },\n\n    /**\n     * Handle successful form submit with no redirect.\n     */\n    onSuccessfulSubmitWithoutRedirectWithSameTaxon() {\n      this.submittingWithoutRedirectWithSameTaxon = false\n\n      this.$buefy.toast.open({\n        message: this.trans('Saved successfully'),\n        type: 'is-success'\n      })\n\n      // Reset the form but remember some data.\n      const keep = _pick(this.form.data(), this.keepAfterSubmit.concat([\n        'original_identification_validity', 'place_where_referenced_in_publication',\n        'taxon', 'taxon_id', 'original_identification',\n      ]))\n      this.form.reset()\n      this.form.populate(keep)\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LiteratureObservationForm.vue?vue&type=template&id=33a205a0&\"\nimport script from \"./LiteratureObservationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./LiteratureObservationForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{attrs:{\"label\":_vm.label}},[_c('b-field',{attrs:{\"expanded\":\"\",\"grouped\":\"\"}},[_c('b-field',{attrs:{\"type\":_vm.errors.has('year') ? 'is-danger': '',\"message\":_vm.errors.has('year') ? _vm.errors.first('year'): '',\"expanded\":\"\"}},[_c('b-input',{attrs:{\"placeholder\":_vm.placeholders.year,\"value\":_vm.year},on:{\"input\":_vm.onYearInput}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"type\":_vm.errors.has('month') ? 'is-danger': '',\"message\":_vm.errors.has('month') ? _vm.errors.first('month'): '',\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.placeholders.month,\"value\":_vm.month,\"expanded\":\"\"},on:{\"input\":_vm.onMonthInput}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.months),function(month,index){return _c('option',{key:(\"month-select-\" + index),domProps:{\"value\":(index + 1),\"textContent\":_vm._s(month)}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"type\":_vm.errors.has('day') ? 'is-danger': '',\"message\":_vm.errors.has('day') ? _vm.errors.first('day'): '',\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.placeholders.day,\"value\":_vm.day,\"expanded\":\"\"},on:{\"input\":_vm.onDayInput}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.days),function(day){return _c('option',{key:(\"day-select-\" + day),domProps:{\"value\":day,\"textContent\":_vm._s(day)}})})],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-field :label=\"label\">\n    <b-field expanded grouped>\n      <b-field\n        :type=\"errors.has('year') ? 'is-danger': ''\"\n        :message=\"errors.has('year') ? errors.first('year'): ''\"\n        expanded\n      >\n        <b-input :placeholder=\"placeholders.year\" :value=\"year\" @input=\"onYearInput\" />\n      </b-field>\n\n      <b-field\n        :type=\"errors.has('month') ? 'is-danger': ''\"\n        :message=\"errors.has('month') ? errors.first('month'): ''\"\n        expanded\n      >\n        <b-select :placeholder=\"placeholders.month\" :value=\"month\" @input=\"onMonthInput\" expanded>\n          <option :value=\"null\"></option>\n          <option v-for=\"(month, index) in months\" :value=\"(index + 1)\" v-text=\"month\" :key=\"`month-select-${index}`\"></option>\n        </b-select>\n      </b-field>\n\n      <b-field\n        :type=\"errors.has('day') ? 'is-danger': ''\"\n        :message=\"errors.has('day') ? errors.first('day'): ''\"\n        expanded\n      >\n        <b-select :placeholder=\"placeholders.day\" :value=\"day\" @input=\"onDayInput\" expanded>\n          <option :value=\"null\"></option>\n          <option v-for=\"day in days\" :value=\"day\" v-text=\"day\" :key=\"`day-select-${day}`\"></option>\n        </b-select>\n      </b-field>\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nimport dayjs from '@/dayjs'\nimport _range from 'lodash/range'\n\nexport default {\n  name: 'nzDateInput',\n\n  props: {\n    label: {\n      type: String,\n      default: 'Date'\n    },\n\n    year: {\n      type: Number,\n      default: dayjs().year()\n    },\n\n    month: {\n      type: Number,\n      default: dayjs().month() + 1\n    },\n\n    day: {\n      type: Number,\n      default: dayjs().date()\n    },\n\n    placeholders: {\n      type: Object,\n      default() {\n        return {\n          year: 'Year',\n          month: 'Month',\n          day: 'Day'\n        }\n      }\n    },\n\n    errors: {\n      type: Object,\n      default: () => ({ has: () => false })\n    }\n  },\n\n  computed: {\n    now() {\n      return dayjs()\n    },\n\n    months() {\n      if (!this.year || this.year > dayjs().year()) return []\n\n      const isThisYear = this.year === dayjs().year()\n\n      let months = dayjs.months()\n\n      if (isThisYear) months.splice(dayjs().month() + 1)\n\n      return months\n    },\n\n    days() {\n      const haveDate = this.year && this.month\n\n      if (!haveDate) return []\n\n      const isThisMonth = this.year === dayjs().year() && (this.month - 1) === dayjs().month()\n\n      let days = dayjs(new Date(this.year, this.month - 1, 1)).daysInMonth()\n\n      if (isThisMonth) days = dayjs().date()\n\n      return _range(1, days + 1)\n    }\n  },\n\n  watch: {\n    year() {\n      if (this.year > dayjs().year() || this.months.length < this.month -1)  {\n          this.onMonthInput(null)\n      }\n\n      this.truncateDay()\n    },\n\n    month() {\n      this.truncateDay()\n    }\n  },\n\n  methods: {\n    truncateDay() {\n      if (this.days.length < this.day)  {\n          this.onDayInput(null)\n      }\n    },\n\n    onYearInput(value) {\n      this.$emit('update:year', +value || null)\n    },\n\n    onMonthInput(value) {\n      this.$emit('update:month', value)\n    },\n\n    onDayInput(value) {\n      this.$emit('update:day', value)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DateInput.vue?vue&type=template&id=a96f3ce2&\"\nimport script from \"./DateInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DateInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"nz-publication-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{class:[_vm.selected ? 'has-icon-success' : ''],attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"citation\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus,\"disabled\":_vm.disabled},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar option = ref.option;\nreturn [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(option.citation)+\"\\n          \")])])]}}])}),_vm._v(\" \"),_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-field :label=\"label\" class=\"nz-publication-autocomplete\" :type=\"error ? 'is-danger' : null\" :message=\"message\">\n    <b-field grouped>\n      <b-autocomplete\n        :value=\"value\"\n        :data=\"data\"\n        field=\"citation\"\n        :loading=\"loading\"\n        @input=\"onInput\"\n        @select=\"onSelect\"\n        :icon=\"icon\"\n        :placeholder=\"placeholder\"\n        expanded\n        :autofocus=\"autofocus\"\n        :disabled=\"disabled\"\n        :class=\"[selected ? 'has-icon-success' : '']\"\n      >\n        <template #default=\"{ option }\">\n          <div class=\"media\">\n            <div class=\"media-content\">\n              {{ option.citation }}\n            </div>\n          </div>\n        </template>\n      </b-autocomplete>\n      <slot />\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nimport axios from 'axios'\nimport _debounce from 'lodash/debounce'\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'nzPublicationAutocomplete',\n\n  props: {\n    label: {\n      type: String,\n      default: 'Publication'\n    },\n    placeholder: {\n      type: String,\n      default: 'Search for publication...'\n    },\n    publication: {\n      type: Object,\n      default: null\n    },\n    route: {\n      type: String,\n      default: 'api.autocomplete.publications.index'\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    error: Boolean,\n    message: {\n      type: String,\n      default: null\n    },\n    except: {},\n    autofocus: Boolean,\n    disabled: Boolean\n  },\n\n  data() {\n    return {\n      data: [],\n      selected: this.publication || null,\n      loading: false\n    }\n  },\n\n  computed: {\n    icon() {\n      return this.selected ? 'check' : 'search'\n    }\n  },\n\n  watch: {\n    publication(value) {\n      this.selected = value\n    }\n  },\n\n  methods: {\n    fetchData: _debounce(function() {\n      if (!this.value) return\n\n      this.data = []\n      this.loading = true\n\n      let params = {\n        citation: this.value,\n      }\n\n      if (this.except) {\n        params.except = this.except\n      }\n\n      axios.get(route(this.route), { params }).then(({ data }) => {\n        data.data.forEach((item) => this.data.push(item))\n        this.loading = false\n      }, response => {\n        this.loading = false\n      })\n    }, 500),\n\n    onSelect(user) {\n      this.selected = user\n\n      this.$emit('select', user)\n    },\n\n    onInput(value) {\n      const currentValue = this.getValue(this.selected)\n      if (currentValue && currentValue !== value) {\n          this.onSelect(null)\n      }\n\n      this.$emit('input', value)\n\n      this.fetchData()\n    },\n\n    focusOnInput() {\n      this.$el.querySelector('input').focus()\n    },\n\n    /**\n     * Return display text for the input.\n     * If object, get value from path, or else just the value.\n     */\n    getValue(option) {\n      if (!option) return\n\n      return typeof option === 'object'\n        ? _get(option, 'citation')\n        : option\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationAutocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationAutocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicationAutocomplete.vue?vue&type=template&id=f4987a24&\"\nimport script from \"./PublicationAutocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationAutocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spatial-input\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.field_observations.map')}},[_c('gmap-map',{staticStyle:{\"width\":\"100%\",\"min-height\":\"400px\"},attrs:{\"center\":_vm.centerCoordinates,\"zoom\":_vm.center.zoom,\"options\":{streetViewControl:false}},on:{\"click\":_vm.setMarker,\"zoom_changed\":_vm.onZoomChanged}},[_c('gmap-marker',{attrs:{\"position\":_vm.position,\"clickable\":true,\"draggable\":true},on:{\"dragend\":_vm.setMarker}}),_vm._v(\" \"),(_vm.position && _vm.newAccuracy)?_c('gmap-circle',{attrs:{\"center\":_vm.position,\"radius\":_vm.newAccuracy,\"editable\":true,\"options\":{ strokeWeight: .75 }},on:{\"radius_changed\":_vm.updateRadius}}):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"has-text-right\"},[(_vm.mapHasErrors)?_c('span',{staticClass:\"has-text-danger is-size-7\"},[_vm._v(_vm._s(_vm.trans('Some fields have errors')))]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"button is-white is-small is-text\",class:{'has-text-danger': _vm.mapHasErrors},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showDetails = !_vm.showDetails}}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.details')))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDetails),expression:\"showDetails\"}]},[_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.latitude')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('latitude')},attrs:{\"placeholder\":\"f.e. 42.5234\"},domProps:{\"value\":_vm.latitude},on:{\"input\":_vm.onLatitudeInput}})]),_vm._v(\" \"),(_vm.errors.has('latitude'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('latitude'))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.longitude')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('longitude')},attrs:{\"placeholder\":\"f.e. 19.1234\"},domProps:{\"value\":_vm.longitude},on:{\"input\":_vm.onLongitudeInput}})]),_vm._v(\" \"),(_vm.errors.has('longitude'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('longitude'))}}):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"field is-expanded\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.accuracy_m')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",attrs:{\"placeholder\":\"f.e. 100\"},domProps:{\"value\":_vm.accuracy},on:{\"input\":_vm.onAccuracyInput}})]),_vm._v(\" \"),(_vm.errors.has('accuracy'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('accuracy'))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.elevation_m')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",attrs:{\"placeholder\":\"f.e. 500\"},domProps:{\"value\":_vm.elevation},on:{\"input\":_vm.onElevationInput}})]),_vm._v(\" \"),(_vm.errors.has('elevation'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('elevation'))}}):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.location')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('location')},attrs:{\"placeholder\":\"Location\"},domProps:{\"value\":_vm.location},on:{\"input\":_vm.onLocationInput}})]),_vm._v(\" \"),(_vm.errors.has('location'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('location'))}}):_vm._e()]),_vm._v(\" \"),_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"spatial-input\">\n    <b-field :label=\"trans('labels.field_observations.map')\" class=\"is-required\">\n      <gmap-map\n        style=\"width: 100%; min-height: 400px\"\n        :center=\"centerCoordinates\"\n        :zoom=\"center.zoom\"\n        @click=\"setMarker\"\n        @zoom_changed=\"onZoomChanged\"\n        :options=\"{streetViewControl:false}\"\n      >\n        <gmap-marker\n          :position=\"position\"\n          :clickable=\"true\"\n          :draggable=\"true\"\n          @dragend=\"setMarker\"\n        />\n\n        <gmap-circle\n          v-if=\"position && newAccuracy\"\n          :center=\"position\"\n          :radius=\"newAccuracy\"\n          :editable=\"true\"\n          @radius_changed=\"updateRadius\"\n          :options=\"{ strokeWeight: .75 }\"\n        />\n      </gmap-map>\n    </b-field>\n\n    <div class=\"has-text-right\">\n      <span v-if=\"mapHasErrors\" class=\"has-text-danger is-size-7\">{{ trans('Some fields have errors') }}</span>\n\n      <button type=\"button\" class=\"button is-white is-small is-text\" :class=\"{'has-text-danger': mapHasErrors}\" @click=\"showDetails = !showDetails\">{{ trans('labels.field_observations.details') }}</button>\n    </div>\n\n    <div v-show=\"showDetails\">\n      <div class=\"field is-grouped\">\n        <div class=\"field is-expanded is-required\">\n          <label class=\"label is-small\">{{ trans('labels.field_observations.latitude') }}</label>\n\n          <div class=\"control is-fullwidth\">\n            <input class=\"input is-small\" :class=\"{'is-danger': errors.has('latitude')}\" :value=\"latitude\" @input=\"onLatitudeInput\" placeholder=\"f.e. 42.5234\">\n          </div>\n\n          <p class=\"help is-danger\" v-if=\"errors.has('latitude')\" v-text=\"errors.first('latitude')\"></p>\n        </div>\n\n        <div class=\"field is-expanded is-required\">\n          <label class=\"label is-small\">{{ trans('labels.field_observations.longitude') }}</label>\n\n          <div class=\"control is-fullwidth\">\n            <input class=\"input is-small\" :class=\"{'is-danger': errors.has('longitude')}\" :value=\"longitude\" @input=\"onLongitudeInput\" placeholder=\"f.e. 19.1234\">\n          </div>\n\n          <p class=\"help is-danger\" v-if=\"errors.has('longitude')\" v-text=\"errors.first('longitude')\"></p>\n        </div>\n      </div>\n\n      <div class=\"field is-grouped\">\n        <div class=\"field is-expanded\">\n          <label class=\"label is-small\">{{ trans('labels.field_observations.accuracy_m') }}</label>\n\n          <div class=\"control is-fullwidth\">\n            <input class=\"input is-small\" :value=\"accuracy\" @input=\"onAccuracyInput\" placeholder=\"f.e. 100\">\n          </div>\n\n          <p class=\"help is-danger\" v-if=\"errors.has('accuracy')\" v-text=\"errors.first('accuracy')\"></p>\n        </div>\n\n        <div class=\"field is-expanded is-required\">\n          <label class=\"label is-small\">{{ trans('labels.field_observations.elevation_m') }}</label>\n\n          <div class=\"control is-fullwidth\">\n            <input class=\"input is-small\" :value=\"elevation\" @input=\"onElevationInput\" placeholder=\"f.e. 500\">\n          </div>\n\n          <p class=\"help is-danger\" v-if=\"errors.has('elevation')\" v-text=\"errors.first('elevation')\"></p>\n        </div>\n      </div>\n\n      <div class=\"field is-expanded\">\n        <label class=\"label is-small\">{{ trans('labels.field_observations.location') }}</label>\n\n        <div class=\"control is-fullwidth\">\n          <input class=\"input is-small\" :class=\"{'is-danger': errors.has('location')}\" :value=\"location\" @input=\"onLocationInput\" placeholder=\"Location\">\n        </div>\n\n        <p class=\"help is-danger\" v-if=\"errors.has('location')\" v-text=\"errors.first('location')\"></p>\n      </div>\n\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nimport _debounce from 'lodash/debounce'\n\nconst ZOOM_ONE = 6144000\n\nexport default {\n  name: 'nzSpatialInput',\n\n  props: {\n    accuracy: Number,\n    elevation: {\n      type: Number,\n      default: 100\n    },\n    latitude: {\n      type: Number,\n      default: 41.0\n    },\n    longitude: {\n      type: Number,\n      default: 19.0\n    },\n    location: {\n      type: [String, Number],\n      default: ''\n    },\n    errors: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    hasOtherErrors: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      emptyAccuracy: this.calculateEmptyAccuracy(window.App.gmaps.center.zoom),\n      showDetails: false,\n      elevationService: null,\n      center: window.App.gmaps.center\n    }\n  },\n\n  computed: {\n    /**\n     * Position object from coordinates.\n     *\n     * @return {Object}\n     */\n    position() {\n      if (!this.coordinatesSet) {\n        return null\n      }\n\n      return {lat: this.latitude, lng: this.longitude}\n    },\n\n    /**\n     * Check if coordinate are set.\n     *\n     * @return {Boolean}\n     */\n    coordinatesSet() {\n      return !(isNaN(this.latitude)||\n        this.latitude === null ||\n        isNaN(this.longitude) ||\n        this.longitude === null\n      )\n    },\n\n    /**\n     * Check if any of the fields has an error.\n     *\n     * @return {Boolean}\n     */\n    mapHasErrors() {\n      return this.hasOtherErrors ||\n          this.errors.has('latitude') ||\n          this.errors.has('longitude') ||\n          this.errors.has('elevation') ||\n          this.errors.has('accuracy') ||\n          this.errors.has('location')\n    },\n\n    newAccuracy () {\n      return this.accuracy || this.emptyAccuracy\n    },\n\n    centerCoordinates() {\n      return this.position || {\n        lat: this.center.latitude,\n        lng: this.center.longitude\n      }\n    }\n  },\n\n  watch: {\n    /**\n     * Get elevation when coordinates change.\n     */\n    position(value) {\n      if (this.coordinatesSet) {\n        this.getElevation(value)\n      }\n    },\n  },\n\n  created() {\n    this.setCurrentLocationAsMapCenter()\n  },\n\n  methods: {\n    /**\n     * Cast to number or null.\n     *\n     * @param  {any} value\n     * @return {Number}\n     */\n    castNumber(value) {\n      return isNaN(value) || value === '' ? null : Number(value)\n    },\n\n    /**\n     * Handle location input.\n     * @param {Object} event\n     */\n    onLocationInput(event) {\n      this.updateLocation(event.target.value)\n    },\n\n    /**\n     * Sync location property.\n     *\n     * @param {String} value\n     */\n    updateLocation(value) {\n      this.$emit('update:location', value)\n    },\n\n    /**\n     * Handle longitude input.\n     * @param  {[type]} event [description]\n     * @return {[type]}       [description]\n     */\n    onLongitudeInput: _debounce(function (event) {\n      this.updateLongitude(event.target.value)\n    }, 1000),\n\n    /**\n     * Sync longitude property.\n     *\n     * @param {Number} value\n     */\n    updateLongitude(value) {\n      this.$emit('update:longitude', this.castNumber(value))\n    },\n\n    /**\n     * Handle latitude input.\n     *\n     * @param {Object} event\n     */\n    onLatitudeInput: _debounce(function (event) {\n      this.updateLatitude(event.target.value)\n    }, 1000),\n\n    /**\n     * Sync latitude property.\n     *\n     * @param {Number} value\n     */\n    updateLatitude(value) {\n      this.$emit('update:latitude', this.castNumber(value))\n    },\n\n    /**\n    * Handle accuracy input.\n    *\n    * @param {Object} event\n    */\n    onAccuracyInput: _debounce(function (event) {\n      this.updateAccuracy(event.target.value)\n    }, 1000),\n\n    /**\n     * Sync accuracy property.\n     *\n     * @param {Number} value\n     */\n    updateAccuracy(value) {\n      this.$emit('update:accuracy', this.castNumber(value))\n    },\n\n    /**\n     * Handle elevation input.\n     *\n     * @param {Object} event\n     */\n    onElevationInput(event) {\n      this.updateElevation(event.target.value)\n    },\n\n    /**\n     * Sync elevation property.\n     *\n     * @param {Number} value\n     */\n    updateElevation(value) {\n      this.$emit('update:elevation', this.castNumber(value))\n    },\n\n    /**\n     * Update coordinates from marker position.\n     *\n     * @param {Object} position\n     */\n    setMarker(position) {\n      let lat = position.latLng.lat()\n      let lng = position.latLng.lng()\n\n      this.updateLatitude(lat)\n      this.updateLongitude(lng)\n    },\n\n    /**\n     * Update accuracy from circle radius on gmaps.\n     *\n     * @param  {Number} value\n     */\n    updateRadius(value) {\n      let radius = parseInt(value)\n\n      if (this.accuracy === null && radius === this.emptyAccuracy) {\n        return\n      }\n\n      this.updateAccuracy(radius)\n    },\n\n    /**\n     * Get elevation using Google's service.\n     *\n     * @param  {Object} position\n     */\n    getElevation(position) {\n      // Do nothing if we still don't have gmaps library loaded.\n      if (!google || !google.maps || !google.maps.ElevationService) {\n        return\n      }\n\n      // We don't initialize service when component is created\n      // because Gmap library probably isn't loaded yet,\n      // so we do it on first use of this method.\n      if (!this.elevationService) {\n        this.elevationService = new google.maps.ElevationService()\n      }\n\n      this.elevationService.getElevationForLocations({\n        locations: [position]\n      }, (results, status) => {\n        if (status != google.maps.ElevationStatus.OK || !results.length) {\n          return\n        }\n\n        const elevation = parseInt(results[0].elevation)\n\n        this.$emit('elevation-fetched', elevation)\n\n        this.updateElevation(elevation)\n      })\n    },\n\n    /**\n     * Recalculate default accuracy when zoom is changed.\n     * @param  {Number} zoom\n     */\n    onZoomChanged(zoom) {\n      this.emptyAccuracy = this.calculateEmptyAccuracy(zoom)\n    },\n\n    /**\n     * Calculate accuracy based on map zoom.\n     * @param  {Number} zoom\n     * @return {Number}\n     */\n    calculateEmptyAccuracy(zoom) {\n      return parseInt(ZOOM_ONE / Math.pow(2, zoom))\n    },\n\n    /**\n     * Use browser location to set map center.\n     */\n    setCurrentLocationAsMapCenter() {\n      // We don't want to use this feature if the marker is set.\n      if (!navigator.geolocation || this.position) {\n        return\n      }\n\n      navigator.geolocation.getCurrentPosition(position => {\n        if (this.position) {\n          return\n        }\n\n        this.center.latitude = position.coords.latitude\n        this.center.longitude = position.coords.longitude\n        this.center.zoom = 10\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpatialInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpatialInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SpatialInput.vue?vue&type=template&id=6d8e5d56&\"\nimport script from \"./SpatialInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SpatialInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"nz-taxon-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[(_vm.haveThumbnail)?_c('img',{attrs:{\"width\":\"32\",\"src\":this.selected.thumbnail_url}}):_vm._e(),_vm._v(\" \"),_c('b-autocomplete',{ref:\"autocomplete\",class:[_vm.selected ? 'has-icon-success' : ''],attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"name\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus,\"check-infinite-scroll\":\"\"},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect,\"infinite-scroll\":_vm.loadMore},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enterPressed($event)}},scopedSlots:_vm._u([{key:\"detault\",fn:function(ref){\nvar option = ref.option;\nreturn [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[(option.thumbnail_url)?_c('img',{attrs:{\"width\":\"32\",\"src\":option.thumbnail_url}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(option.name)+_vm._s(option.native_name ? (\" (\" + (option.native_name) + \")\") : \"\")+\"\\n          \")])])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-field\n    :label=\"label\"\n    class=\"nz-taxon-autocomplete\"\n    :type=\"error ? 'is-danger' : null\"\n    :message=\"message\"\n  >\n    <b-field grouped>\n      <img width=\"32\" :src=\"this.selected.thumbnail_url\" v-if=\"haveThumbnail\" />\n      <b-autocomplete\n        ref=\"autocomplete\"\n        :value=\"value\"\n        :data=\"data\"\n        field=\"name\"\n        :loading=\"loading\"\n        @input=\"onInput\"\n        @select=\"onSelect\"\n        :icon=\"icon\"\n        :placeholder=\"placeholder\"\n        expanded\n        :autofocus=\"autofocus\"\n        @keydown.native.enter=\"enterPressed\"\n        :class=\"[selected ? 'has-icon-success' : '']\"\n        check-infinite-scroll\n        @infinite-scroll=\"loadMore\"\n      >\n        <template #detault=\"{ option }\">\n          <div class=\"media\">\n            <div class=\"media-left\">\n              <img\n                width=\"32\"\n                :src=\"option.thumbnail_url\"\n                v-if=\"option.thumbnail_url\"\n              />\n            </div>\n            <div class=\"media-content\">\n              {{ option.name\n              }}{{ option.native_name ? ` (${option.native_name})` : \"\" }}\n            </div>\n          </div>\n        </template>\n      </b-autocomplete>\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport _debounce from \"lodash/debounce\";\nimport _get from \"lodash/get\";\n\nexport default {\n  name: \"nzTaxonAutocomplete\",\n\n  props: {\n    label: {\n      type: String,\n      default: \"Taxon\",\n    },\n    placeholder: {\n      type: String,\n      default: \"Search for taxon...\",\n    },\n    taxon: {\n      type: Object,\n      default: null,\n    },\n    url: {\n      type: String,\n      default: () => route(\"api.taxa.index\"),\n    },\n    value: {\n      type: String,\n      default: \"\",\n    },\n    error: Boolean,\n    message: {\n      type: String,\n      default: null,\n    },\n    except: {},\n    autofocus: Boolean\n  },\n\n  data() {\n    return {\n      data: [],\n      selected: this.taxon || null,\n      loading: false,\n      page: 1,\n      isLastPage: false\n    }\n  },\n\n  computed: {\n    haveThumbnail() {\n      return this.selected && this.selected.thumbnail_url\n    },\n\n    icon() {\n      return this.selected ? \"check\" : \"search\"\n    }\n  },\n\n  watch: {\n    taxon(value) {\n      this.selected = value\n    }\n  },\n\n  methods: {\n    fetchData: _debounce(function () {\n      if (!this.value || this.isLastPage) return\n\n      this.loading = true\n\n      let params = {\n        name: this.value,\n        limit: 20,\n        page: this.page\n      }\n\n      if (this.except) {\n        params.except = this.except\n      }\n\n      axios.get(this.url, { params }).then(\n        ({ data }) => {\n          data.data.forEach((item) => this.data.push(item));\n          this.isLastPage = data.meta.last_page <= this.page\n          this.loading = false\n        },\n        (response) => {\n          this.loading = false\n        }\n      );\n    }, 500),\n\n    onSelect(taxon) {\n      this.selected = taxon\n\n      this.$emit('select', taxon)\n    },\n\n    onInput(value) {\n      const currentValue = this.getValue(this.selected);\n      if (currentValue && currentValue !== value) {\n        this.onSelect(null)\n      }\n\n      this.$emit('input', value)\n\n      this.page = 1\n      this.data = []\n      this.isLastPage = false\n\n      this.fetchData()\n    },\n\n    focusOnInput() {\n      this.$el.querySelector('input').focus()\n    },\n\n    /**\n     * Return display text for the input.\n     * If object, get value from path, or else just the value.\n     */\n    getValue(option) {\n      if (!option) return\n\n      return typeof option === 'object' ? _get(option, 'name') : option\n    },\n\n    enterPressed() {\n      if (!this.$refs.autocomplete.isActive) {\n        this.$emit('name')\n      }\n    },\n\n    loadMore() {\n      if (this.isLastPage) return\n\n      this.page++\n\n      this.fetchData()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonAutocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonAutocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaxonAutocomplete.vue?vue&type=template&id=10427632&\"\nimport script from \"./TaxonAutocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./TaxonAutocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}