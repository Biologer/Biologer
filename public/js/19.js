(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{BiGR:function(t,e,r){var i=r("nmnc"),a=r("03A+"),o=r("Z0cm"),n=i?i.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||a(t)||!!(n&&t&&t[n])}},FZoo:function(t,e,r){var i=r("MrPd"),a=r("4uTw"),o=r("wJg7"),n=r("GoyQ"),s=r("9Nap");t.exports=function(t,e,r,l){if(!n(t))return t;for(var u=-1,c=(e=a(e,t)).length,m=c-1,f=t;null!=f&&++u<c;){var d=s(e[u]),_=r;if(u!=m){var b=f[d];void 0===(_=l?l(b,d,f):void 0)&&(_=n(b)?b:o(e[u+1])?[]:{})}i(f,d,_),f=f[d]}return t}},FfPP:function(t,e,r){var i=r("idmN"),a=r("hgQt");t.exports=function(t,e){return i(t,e,(function(e,r){return a(t,r)}))}},JZM8:function(t,e,r){var i=r("FfPP"),a=r("xs/l")((function(t,e){return null==t?{}:i(t,e)}));t.exports=a},LmMd:function(t,e,r){"use strict";r.r(e);var i=r("5YJQ"),a=r.n(i),o=r("JkKK"),n=r("mwIZ"),s=r.n(n),l=r("J2m7"),u=r.n(l),c=r("JZM8"),m=r.n(c),f=r("mk2N"),d=r("pY92"),_=r("KUSn"),b=r("l90O"),p=r("TO/g"),v=r("uuKk");function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var x={name:"nzLiteratureObservationForm",mixins:[d.a,f.a],components:{NzDateInput:_.a,NzSpatialInput:b.a,NzPublicationAutocomplete:p.a,NzTaxonAutocomplete:v.a},props:{submitMoreWithSameTaxon:Boolean,observation:{type:Object,default:function(){return{original_date:null,original_locality:null,original_elevation:null,original_coordinates:null,original_identification:null,original_identification_validity:null,other_original_data:null,collecting_start_year:null,collecting_start_month:null,collecting_end_year:null,collecting_end_month:null,place_where_referenced_in_publication:null,publication_id:null,taxon_id:null,year:Object(o.a)().year(),month:Object(o.a)().month()+1,day:Object(o.a)().date(),is_original_data:!0,cited_publication_id:null,latitude:null,longitude:null,location:null,accuracy:null,elevation:null,minimum_elevation:null,maximum_elevation:null,georeferenced_by:null,georeferenced_date:null,observer:null,identifier:null,note:null,sex:null,number:null,project:null,found_on:null,habitat:null,stage_id:null,time:null,dataset:null,taxon:null,publication:null,cited_publication:null}}},sexes:{type:Object,default:function(){return{}}},validityOptions:{type:[Array,Object],default:function(){return[]}}},data:function(){return{keepAfterSubmit:this.getAttributesToKeep(),submittingWithoutRedirectWithSameTaxon:!1,locale:window.App.locale,taxonName:s()(this.observation,"taxon.name",""),publicationCitation:s()(this.observation,"publication.citation",""),citedPublication:s()(this.observation,"cited_publication.citation","")}},computed:{stages:function(){return this.form.taxon?this.form.taxon.stages:[]},time:function(){return this.form.time?Object(o.a)(this.form.time,"HH:mm").toDate():null},georeferencedDate:{get:function(){var t=Object(o.a)(this.form.georeferenced_date);return t.isValid()?t.toDate():null},set:function(t){this.form.georeferenced_date=Object(o.a)(t).format("YYYY-MM-DD")}}},created:function(){this.restoreState()},methods:{otherPersistentKeys:function(){return["taxonName","publicationCitation","citedPublication"]},newForm:function(){return new a.a(g(g({},this.observation),{},{reason:null}),{resetOnSuccess:!1})},onTaxonSelect:function(t){var e=this;this.form.taxon=t||null,this.form.taxon_id=t?t.id:null,this.taxonName=t?t.name:null,!u()(this.stages,(function(t){return t.id===e.form.stage_id}))&&(this.form.stage_id=null)},onPublicationSelect:function(t){this.form.publication=t||null,this.form.publication_id=t?t.id:null,this.publicationCitation=t?t.citation:null},onCitedPublicationSelect:function(t){this.form.cited_publication=t||null,this.form.cited_publication_id=t?t.id:null,this.citedPublication=t?t.citation:null},onTimeInput:function(t){this.form.time=t?Object(o.a)(t).format("HH:mm"):null},getAttributesToKeep:function(){return["location","accuracy","elevation","latitude","longitude","year","month","day","project","observer","identifier","dataset","publication","publication_id","cited_publication","cited_publication_id","is_original_data","minimum_elevation","maximum_elevation","original_locality","original_elevation","original_coordinates","georeferenced_by","georeferenced_date"]},hookAfterSubmitWithoutRedirect:function(){this.taxonName=""},handleIsOriginalDataInput:function(t){t&&this.onCitedPublicationSelect(null),this.form.is_original_data=t},addNewPublication:function(){this.saveState(),window.location.href=route("admin.publications.create")},dateFormater:function(t){return Object(o.a)(t).format("DD.MM.YYYY")},handleElevationFetched:function(t){this.form.minimum_elevation=t,this.form.maximum_elevation=t},submitWithoutRedirectWithSameTaxon:function(){if(!this.form.processing)return this.submitOnlyDirty&&!this.isDirty()?this.notifyNoChanges():this.shouldConfirmSubmit?this.confirmSubmit(this.performSubmitWithoutRedirectWithSameTaxon):void this.performSubmitWithoutRedirectWithSameTaxon()},performSubmitWithoutRedirectWithSameTaxon:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.submittingWithoutRedirectWithSameTaxon=!0,this.confirmingSubmit=!1,this.shouldAskReason&&(this.form.reason=e),this.form[this.method.toLowerCase()](this.action).then(this.onSuccessfulSubmitWithoutRedirectWithSameTaxon).catch((function(e){t.submittingWithoutRedirectWithSameTaxon=!1,t.onFailedSubmit(e)}))},onSuccessfulSubmitWithoutRedirectWithSameTaxon:function(){this.submittingWithoutRedirectWithSameTaxon=!1,this.$buefy.toast.open({message:this.trans("Saved successfully"),type:"is-success"});var t=m()(this.form.data(),this.keepAfterSubmit.concat(["original_identification_validity","place_where_referenced_in_publication","taxon","taxon_id","original_identification"]));this.form.reset(),this.form.populate(t)}}},C=r("KHd+"),S=Object(C.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"literature-observation-form",attrs:{action:t.action,method:"POST",lang:t.locale}},[r("div",{staticClass:"mb-8"},[r("nz-publication-autocomplete",{ref:"publicationAutocomplete",staticClass:"is-required",attrs:{publication:t.form.publication,error:t.form.errors.has("publication_id"),message:t.form.errors.has("publication_id")?t.form.errors.first("publication_id"):null,autofocus:"autofocus",label:t.trans("labels.literature_observations.publication"),placeholder:t.trans("labels.literature_observations.search_for_publication")},on:{select:t.onPublicationSelect},model:{value:t.publicationCitation,callback:function(e){t.publicationCitation=e},expression:"publicationCitation"}},[r("a",{staticClass:"button",attrs:{title:t.trans("labels.literature_observations.add_new_publication"),href:t.$ziggy("admin.publications.create")},on:{click:function(e){return e.preventDefault(),t.addNewPublication(e)}}},[r("b-icon",{attrs:{icon:"plus"}})],1)]),t._v(" "),r("b-field",{staticClass:"is-required",attrs:{label:t.trans("labels.literature_observations.is_original_data"),error:t.form.errors.has("is_original_data"),message:t.form.errors.has("is_original_data")?t.form.errors.first("is_original_data"):null}},[r("b-select",{attrs:{value:t.form.is_original_data,expanded:""},on:{input:t.handleIsOriginalDataInput}},[r("option",{domProps:{value:!0}},[t._v(t._s(t.trans("labels.literature_observations.original_data")))]),t._v(" "),r("option",{domProps:{value:!1}},[t._v(t._s(t.trans("labels.literature_observations.citation")))])])],1),t._v(" "),r("nz-publication-autocomplete",{directives:[{name:"show",rawName:"v-show",value:!t.form.is_original_data,expression:"!form.is_original_data"}],staticClass:"is-required",attrs:{publication:t.form.cited_publication,error:t.form.errors.has("cited_publication_id"),message:t.form.errors.has("cited_publication_id")?t.form.errors.first("cited_publication_id"):null,label:t.trans("labels.literature_observations.cited_publication"),placeholder:t.trans("labels.literature_observations.search_for_publication")},on:{select:t.onCitedPublicationSelect},model:{value:t.citedPublication,callback:function(e){t.citedPublication=e},expression:"citedPublication"}},[r("a",{staticClass:"button",attrs:{title:t.trans("labels.literature_observations.add_new_publication"),href:t.$ziggy("admin.publications.create")},on:{click:function(e){return e.preventDefault(),t.addNewPublication(e)}}},[r("b-icon",{attrs:{icon:"plus"}})],1)]),t._v(" "),r("nz-taxon-autocomplete",{ref:"taxonAutocomplete",staticClass:"is-required",attrs:{taxon:t.form.taxon,error:t.form.errors.has("taxon_id"),message:t.form.errors.has("taxon_id")?t.form.errors.first("taxon_id"):null,autofocus:"autofocus",label:t.trans("labels.literature_observations.taxon"),placeholder:t.trans("labels.literature_observations.search_for_taxon")},on:{select:t.onTaxonSelect},model:{value:t.taxonName,callback:function(e){t.taxonName=e},expression:"taxonName"}}),t._v(" "),r("nz-date-input",{attrs:{year:t.form.year,month:t.form.month,day:t.form.day,errors:t.form.errors,label:t.trans("labels.literature_observations.date"),placeholders:{year:t.trans("labels.literature_observations.year"),month:t.trans("labels.literature_observations.month"),day:t.trans("labels.literature_observations.day")}},on:{"update:year":function(e){return t.$set(t.form,"year",e)},"update:month":function(e){return t.$set(t.form,"month",e)},"update:day":function(e){return t.$set(t.form,"day",e)}}}),t._v(" "),r("div",[r("h2",{staticClass:"is-size-4"},[t._v(t._s(t.trans("labels.literature_observations.verbatim_data")))]),t._v(" "),r("b-field",{staticClass:"is-required",attrs:{label:t.trans("labels.literature_observations.original_identification"),type:t.form.errors.has("original_identification")?"is-danger":null,message:t.form.errors.has("original_identification")?t.form.errors.first("original_identification"):null}},[r("b-input",{attrs:{name:"original_identification"},model:{value:t.form.original_identification,callback:function(e){t.$set(t.form,"original_identification",e)},expression:"form.original_identification"}})],1),t._v(" "),r("b-field",{staticClass:"is-required",attrs:{label:t.trans("labels.literature_observations.original_identification_validity"),type:t.form.errors.has("original_identification_validity")?"is-danger":null,message:t.form.errors.has("original_identification_validity")?t.form.errors.first("original_identification_validity"):null}},[r("b-select",{attrs:{name:"original_identification_validity",expanded:""},model:{value:t.form.original_identification_validity,callback:function(e){t.$set(t.form,"original_identification_validity",e)},expression:"form.original_identification_validity"}},t._l(t.validityOptions,(function(e,i){return r("option",{key:i,domProps:{value:i}},[t._v(t._s(e))])})),0)],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.original_date"),type:t.form.errors.has("original_date")?"is-danger":null,message:t.form.errors.has("original_date")?t.form.errors.first("original_date"):null}},[r("b-input",{attrs:{name:"original_date"},model:{value:t.form.original_date,callback:function(e){t.$set(t.form,"original_date",e)},expression:"form.original_date"}})],1),t._v(" "),r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.original_locality"),type:t.form.errors.has("original_locality")?"is-danger":null,message:t.form.errors.has("original_locality")?t.form.errors.first("original_locality"):null}},[r("b-input",{model:{value:t.form.original_locality,callback:function(e){t.$set(t.form,"original_locality",e)},expression:"form.original_locality"}})],1)],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.original_coordinates"),type:t.form.errors.has("original_coordinates")?"is-danger":null,message:t.form.errors.has("original_coordinates")?t.form.errors.first("original_coordinates"):null}},[r("b-input",{model:{value:t.form.original_coordinates,callback:function(e){t.$set(t.form,"original_coordinates",e)},expression:"form.original_coordinates"}})],1),t._v(" "),r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.original_elevation"),type:t.form.errors.has("original_elevation")?"is-danger":null,message:t.form.errors.has("original_elevation")?t.form.errors.first("original_elevation"):null}},[r("b-input",{attrs:{placeholder:t.trans("labels.literature_observations.original_elevation_placeholder")},model:{value:t.form.original_elevation,callback:function(e){t.$set(t.form,"original_elevation",e)},expression:"form.original_elevation"}})],1)],1),t._v(" "),r("b-field",{staticClass:"mb-8",attrs:{label:t.trans("labels.literature_observations.other_original_data"),type:t.form.errors.has("other_original_data")?"is-danger":null,message:t.form.errors.has("other_original_data")?t.form.errors.first("other_original_data"):null}},[r("b-input",{attrs:{type:"textarea"},model:{value:t.form.other_original_data,callback:function(e){t.$set(t.form,"other_original_data",e)},expression:"form.other_original_data"}})],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.collecting_start_year"),type:t.form.errors.has("collecting_start_year")?"is-danger":null,message:t.form.errors.has("collecting_start_year")?t.form.errors.first("collecting_start_year"):null}},[r("b-input",{model:{value:t.form.collecting_start_year,callback:function(e){t.$set(t.form,"collecting_start_year",e)},expression:"form.collecting_start_year"}})],1),t._v(" "),r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.collecting_start_month"),type:t.form.errors.has("collecting_start_month")?"is-danger":null,message:t.form.errors.has("collecting_start_month")?t.form.errors.first("collecting_start_month"):null}},[r("b-input",{model:{value:t.form.collecting_start_month,callback:function(e){t.$set(t.form,"collecting_start_month",e)},expression:"form.collecting_start_month"}})],1)],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.collecting_end_year"),type:t.form.errors.has("collecting_end_year")?"is-danger":null,message:t.form.errors.has("collecting_end_year")?t.form.errors.first("collecting_end_year"):null}},[r("b-input",{model:{value:t.form.collecting_end_year,callback:function(e){t.$set(t.form,"collecting_end_year",e)},expression:"form.collecting_end_year"}})],1),t._v(" "),r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.collecting_end_month"),type:t.form.errors.has("collecting_end_month")?"is-danger":null,message:t.form.errors.has("collecting_end_month")?t.form.errors.first("collecting_end_month"):null}},[r("b-input",{model:{value:t.form.collecting_end_month,callback:function(e){t.$set(t.form,"collecting_end_month",e)},expression:"form.collecting_end_month"}})],1)],1)],1),t._v(" "),r("nz-spatial-input",{staticClass:"mb-4",attrs:{latitude:t.form.latitude,longitude:t.form.longitude,location:t.form.location,accuracy:t.form.accuracy,elevation:t.form.elevation,errors:t.form.errors,"has-other-errors":t.form.errors.has("minimum_elevation")||t.form.errors.has("maximum_elevation")},on:{"update:latitude":function(e){return t.$set(t.form,"latitude",e)},"update:longitude":function(e){return t.$set(t.form,"longitude",e)},"update:location":function(e){return t.$set(t.form,"location",e)},"update:accuracy":function(e){return t.$set(t.form,"accuracy",e)},"update:elevation":function(e){return t.$set(t.form,"elevation",e)},"elevation-fetched":t.handleElevationFetched}},[r("b-field",{attrs:{label:t.trans("labels.literature_observations.minimum_elevation_m"),type:t.form.errors.has("minimum_elevation")?"is-danger":null,message:t.form.errors.has("minimum_elevation")?t.form.errors.first("minimum_elevation"):null,"custom-class":"is-small"}},[r("b-input",{attrs:{type:"number",size:"is-small"},model:{value:t.form.minimum_elevation,callback:function(e){t.$set(t.form,"minimum_elevation",t._n(e))},expression:"form.minimum_elevation"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.maximum_elevation_m"),type:t.form.errors.has("maximum_elevation")?"is-danger":null,message:t.form.errors.has("maximum_elevation")?t.form.errors.first("maximum_elevation"):null,"custom-class":"is-small"}},[r("b-input",{attrs:{type:"number",size:"is-small"},model:{value:t.form.maximum_elevation,callback:function(e){t.$set(t.form,"maximum_elevation",t._n(e))},expression:"form.maximum_elevation"}})],1)],1),t._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.trans("labels.literature_observations.georeferenced_by"),type:t.form.errors.has("georeferenced_by")?"is-danger":null,message:t.form.errors.has("georeferenced_by")?t.form.errors.first("georeferenced_by"):null}},[r("b-input",{model:{value:t.form.georeferenced_by,callback:function(e){t.$set(t.form,"georeferenced_by",t._n(e))},expression:"form.georeferenced_by"}})],1)],1),t._v(" "),r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.trans("labels.literature_observations.georeferenced_date"),type:t.form.errors.has("georeferenced_date")?"is-danger":null,message:t.form.errors.has("georeferenced_date")?t.form.errors.first("georeferenced_date"):null}},[r("b-datepicker",{attrs:{"max-date":new Date,"mobile-native":!1,"date-formatter":t.dateFormater,"first-day-of-week":1,placeholder:"DD.MM.YYYY"},model:{value:t.georeferencedDate,callback:function(e){t.georeferencedDate=e},expression:"georeferencedDate"}},[r("button",{staticClass:"button is-danger",attrs:{type:"button"},on:{click:function(e){t.form.georeferenced_date=null}}},[r("b-icon",{attrs:{icon:"close"}}),t._v(" "),r("span",[t._v("Clear")])],1)])],1)],1)]),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.stage"),type:t.form.errors.has("stage_id")?"is-danger":null,message:t.form.errors.has("stage_id")?t.form.errors.first("stage_id"):null}},[r("b-select",{attrs:{disabled:!t.stages.length,expanded:"expanded"},model:{value:t.form.stage_id,callback:function(e){t.$set(t.form,"stage_id",e)},expression:"form.stage_id"}},[r("option",{domProps:{value:null}},[t._v(t._s(t.trans("labels.literature_observations.choose_a_stage")))]),t._v(" "),t._l(t.stages,(function(e){return r("option",{key:e.id,domProps:{value:e.id,textContent:t._s(t.trans("stages."+e.name))}})}))],2)],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.sex"),type:t.form.errors.has("sex")?"is-danger":null,message:t.form.errors.has("sex")?t.form.errors.first("sex"):null}},[r("b-select",{attrs:{expanded:"expanded"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[r("option",{domProps:{value:null}},[t._v(t._s(t.trans("labels.literature_observations.choose_a_value")))]),t._v(" "),t._l(t.sexes,(function(e,i){return r("option",{key:i,domProps:{value:i,textContent:t._s(e)}})}))],2)],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.number"),type:t.form.errors.has("number")?"is-danger":null,message:t.form.errors.has("number")?t.form.errors.first("number"):null}},[r("b-input",{attrs:{type:"number"},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}})],1),t._v(" "),r("div",{staticClass:"mt-4"},[r("b-field",{attrs:{label:t.trans("labels.literature_observations.note"),error:t.form.errors.has("note"),message:t.form.errors.has("note")?t.form.errors.first("note"):null}},[r("b-input",{attrs:{type:"textarea"},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.habitat"),type:t.form.errors.has("habitat")?"is-danger":null,message:t.form.errors.has("habitat")?t.form.errors.first("habitat"):null}},[r("b-input",{model:{value:t.form.habitat,callback:function(e){t.$set(t.form,"habitat",e)},expression:"form.habitat"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.found_on"),type:t.form.errors.has("found_on")?"is-danger":null,message:t.form.errors.has("found_on")?t.form.errors.first("found_on"):null}},[r("label",{staticClass:"label",attrs:{slot:"label",for:"found_on"},slot:"label"},[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.found_on_tooltip")},expression:"{content: trans('labels.literature_observations.found_on_tooltip')}"}],staticClass:"is-dashed"},[t._v("\n            "+t._s(t.trans("labels.literature_observations.found_on"))+"\n          ")])]),t._v(" "),r("b-input",{attrs:{id:"found_on",name:"found_on"},model:{value:t.form.found_on,callback:function(e){t.$set(t.form,"found_on",e)},expression:"form.found_on"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.time"),type:t.form.errors.has("time")?"is-danger":null,message:t.form.errors.has("time")?t.form.errors.first("time"):null}},[r("b-timepicker",{attrs:{value:t.time,placeholder:t.trans("labels.literature_observations.click_to_select"),icon:"clock-o","mobile-native":!1},on:{input:t.onTimeInput}},[r("button",{staticClass:"button is-danger",attrs:{type:"button"},on:{click:function(e){t.form.time=null}}},[r("b-icon",{attrs:{icon:"close"}})],1)])],1),t._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("div",{staticClass:"field"},[r("label",{staticClass:"label",attrs:{for:"project"}},[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.project_tooltip")},expression:"{content: trans('labels.literature_observations.project_tooltip')}"}],staticClass:"is-dashed"},[t._v("\n                "+t._s(t.trans("labels.literature_observations.project"))+"\n              ")])]),t._v(" "),r("b-input",{attrs:{id:"project",name:"project"},model:{value:t.form.project,callback:function(e){t.$set(t.form,"project",e)},expression:"form.project"}}),t._v(" "),t.form.errors.has("project")?r("p",{staticClass:"help",class:{"is-danger":t.form.errors.has("project")},domProps:{innerHTML:t._s(t.form.errors.first("project"))}}):t._e()],1)]),t._v(" "),r("div",{staticClass:"column"},[r("div",{staticClass:"field"},[r("label",{staticClass:"label",attrs:{for:"dataset"}},[t._v("\n              "+t._s(t.trans("labels.literature_observations.dataset"))+"\n            ")]),t._v(" "),r("b-input",{attrs:{id:"dataset",name:"dataset"},model:{value:t.form.dataset,callback:function(e){t.$set(t.form,"dataset",e)},expression:"form.dataset"}}),t._v(" "),t.form.errors.has("dataset")?r("p",{staticClass:"help",class:{"is-danger":t.form.errors.has("dataset")},domProps:{innerHTML:t._s(t.form.errors.first("dataset"))}}):t._e()],1)])]),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.observer"),type:t.form.errors.has("observer")?"is-danger":null,message:t.form.errors.has("observer")?t.form.errors.first("observer"):null}},[r("b-input",{attrs:{name:"observer"},model:{value:t.form.observer,callback:function(e){t.$set(t.form,"observer",e)},expression:"form.observer"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.identifier"),type:t.form.errors.has("identifier")?"is-danger":null,message:t.form.errors.has("identifier")?t.form.errors.first("identifier"):null}},[r("b-input",{attrs:{name:"identifier"},model:{value:t.form.identifier,callback:function(e){t.$set(t.form,"identifier",e)},expression:"form.identifier"}})],1)],1)],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.place_where_referenced_in_publication"),type:t.form.errors.has("place_where_referenced_in_publication")?"is-danger":null,message:t.form.errors.has("place_where_referenced_in_publication")?t.form.errors.first("place_where_referenced_in_publication"):null}},[r("b-input",{attrs:{placeholder:t.trans("labels.literature_observations.place_where_referenced_in_publication_placeholder")},model:{value:t.form.place_where_referenced_in_publication,callback:function(e){t.$set(t.form,"place_where_referenced_in_publication",e)},expression:"form.place_where_referenced_in_publication"}})],1),t._v(" "),r("hr"),t._v(" "),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.save_tooltip")},expression:"{content: trans('labels.literature_observations.save_tooltip')}"}],staticClass:"button is-primary",class:{"is-loading":t.submittingWithRedirect},attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.submitWithRedirect(e)}}},[t._v("\n    "+t._s(t.trans("buttons.save"))+"\n  ")]),t._v(" "),t.submitMore?r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.save_more_tooltip")},expression:"{content: trans('labels.literature_observations.save_more_tooltip')}"}],staticClass:"button is-primary",class:{"is-outlined":!t.submittingWithoutRedirect,"is-loading":t.submittingWithoutRedirect},attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.submitWithoutRedirect(e)}}},[t._v("\n    "+t._s(t.trans("buttons.save_more"))+"\n  ")]):t._e(),t._v(" "),t.submitMoreWithSameTaxon?r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.save_more_same_taxon_tooltip")},expression:"{content: trans('labels.literature_observations.save_more_same_taxon_tooltip')}"}],staticClass:"button is-primary",class:{"is-outlined":!t.submittingWithoutRedirectWithSameTaxon,"is-loading":t.submittingWithoutRedirectWithSameTaxon},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.submitWithoutRedirectWithSameTaxon(e)}}},[t._v("\n    "+t._s(t.trans("labels.literature_observations.save_more_same_taxon"))+"\n  ")]):t._e(),t._v(" "),r("a",{staticClass:"button is-text",attrs:{href:t.cancelUrl},on:{click:t.onCancel}},[t._v(t._s(t.trans("buttons.cancel")))])],1)}),[],!1,null,null,null);e.default=S.exports},QIyF:function(t,e,r){var i=r("Kz5y");t.exports=function(){return i.Date.now()}},"TO/g":function(t,e,r){"use strict";var i=r("vDqi"),a=r.n(i),o=r("sEfC"),n=r.n(o),s=r("mwIZ"),l=r.n(s);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c={name:"nzPublicationAutocomplete",props:{label:{type:String,default:"Publication"},placeholder:{type:String,default:"Search for publication..."},publication:{type:Object,default:null},route:{type:String,default:"api.autocomplete.publications.index"},value:{type:String,default:""},error:Boolean,message:{type:String,default:null},except:{},autofocus:Boolean,disabled:Boolean},data:function(){return{data:[],selected:this.publication||null,loading:!1}},computed:{icon:function(){return this.selected?"check":"search"}},watch:{publication:function(t){this.selected=t}},methods:{fetchData:n()((function(){var t=this;if(this.value){this.data=[],this.loading=!0;var e={citation:this.value};this.except&&(e.except=this.except),a.a.get(route(this.route),{params:e}).then((function(e){e.data.data.forEach((function(e){return t.data.push(e)})),t.loading=!1}),(function(e){t.loading=!1}))}}),500),onSelect:function(t){this.selected=t,this.$emit("select",t)},onInput:function(t){var e=this.getValue(this.selected);e&&e!==t&&this.onSelect(null),this.$emit("input",t),this.fetchData()},focusOnInput:function(){this.$el.querySelector("input").focus()},getValue:function(t){if(t)return"object"===u(t)?l()(t,"citation"):t}}},m=r("KHd+"),f=Object(m.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-field",{staticClass:"nz-publication-autocomplete",attrs:{label:t.label,type:t.error?"is-danger":null,message:t.message}},[r("b-field",{attrs:{grouped:""}},[r("b-autocomplete",{attrs:{value:t.value,data:t.data,field:"citation",loading:t.loading,icon:t.icon,placeholder:t.placeholder,expanded:"",autofocus:t.autofocus,disabled:t.disabled},on:{input:t.onInput,select:t.onSelect},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"media"},[r("div",{staticClass:"media-content"},[t._v("\n            "+t._s(e.option.citation)+"\n          ")])])]}}])}),t._v(" "),t._t("default")],2)],1)}),[],!1,null,null,null);e.a=f.exports},TYy9:function(t,e,r){var i=r("XGnz");t.exports=function(t){return(null==t?0:t.length)?i(t,1):[]}},XGnz:function(t,e,r){var i=r("CH3K"),a=r("BiGR");t.exports=function t(e,r,o,n,s){var l=-1,u=e.length;for(o||(o=a),s||(s=[]);++l<u;){var c=e[l];r>0&&o(c)?r>1?t(c,r-1,o,n,s):i(s,c):n||(s[s.length]=c)}return s}},"Y+p1":function(t,e,r){var i=r("wF/u");t.exports=function(t,e){return i(t,e)}},idmN:function(t,e,r){var i=r("ZWtO"),a=r("FZoo"),o=r("4uTw");t.exports=function(t,e,r){for(var n=-1,s=e.length,l={};++n<s;){var u=e[n],c=i(t,u);r(c,u)&&a(l,o(u,t),c)}return l}},sEfC:function(t,e,r){var i=r("GoyQ"),a=r("QIyF"),o=r("tLB3"),n=Math.max,s=Math.min;t.exports=function(t,e,r){var l,u,c,m,f,d,_=0,b=!1,p=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var r=l,i=u;return l=u=void 0,_=e,m=t.apply(i,r)}function g(t){return _=t,f=setTimeout(x,e),b?h(t):m}function y(t){var r=t-d;return void 0===d||r>=e||r<0||p&&t-_>=c}function x(){var t=a();if(y(t))return C(t);f=setTimeout(x,function(t){var r=e-(t-d);return p?s(r,c-(t-_)):r}(t))}function C(t){return f=void 0,v&&l?h(t):(l=u=void 0,m)}function S(){var t=a(),r=y(t);if(l=arguments,u=this,d=t,r){if(void 0===f)return g(d);if(p)return clearTimeout(f),f=setTimeout(x,e),h(d)}return void 0===f&&(f=setTimeout(x,e)),m}return e=o(e)||0,i(r)&&(b=!!r.leading,c=(p="maxWait"in r)?n(o(r.maxWait)||0,e):c,v="trailing"in r?!!r.trailing:v),S.cancel=function(){void 0!==f&&clearTimeout(f),_=0,l=d=u=f=void 0},S.flush=function(){return void 0===f?m:C(a())},S}},"xs/l":function(t,e,r){var i=r("TYy9"),a=r("Ioao"),o=r("wclG");t.exports=function(t){return o(a(t,void 0,i),t+"")}}}]);
//# sourceMappingURL=19.js.map?id=002b4d18fcfca7c998fe