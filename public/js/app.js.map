{"version":3,"sources":["webpack:///./resources/js/bootstrap.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./resources/js/components/inputs/ColumnsPicker.vue?bebd","webpack:///./resources/js/components/imports/FieldObservationsImport.vue?64c8","webpack:///./resources/js/tooltip.js","webpack:///./resources/js/components/Navbar.js","webpack:///resources/js/components/notifications/Notification.vue","webpack:///./resources/js/components/notifications/FieldObservationApproved.js","webpack:///./resources/js/components/notifications/FieldObservationEdited.js","webpack:///./resources/js/components/notifications/FieldObservationForApproval.js","webpack:///./resources/js/components/notifications/FieldObservationMovedToPending.js","webpack:///./resources/js/components/notifications/FieldObservationMarkedUnidentifiable.js","webpack:///./resources/js/components/notifications/Notification.vue?d34c","webpack:///./resources/js/components/Sidebar.vue?d2a3","webpack:///resources/js/components/Sidebar.vue","webpack:///./resources/js/components/notifications/Notification.vue","webpack:///./resources/js/components/notifications/Notification.vue?1695","webpack:///./resources/js/components/Sidebar.vue","webpack:///./resources/js/components/Sidebar.vue?18ed","webpack:///./resources/js/components/Announcement.vue?3f96","webpack:///resources/js/components/Announcement.vue","webpack:///./resources/js/components/Announcement.vue","webpack:///./resources/js/components/Announcement.vue?86b1","webpack:///./resources/js/components/Captcha.vue?5cbb","webpack:///resources/js/components/Captcha.vue","webpack:///./resources/js/components/Captcha.vue","webpack:///./resources/js/components/Captcha.vue?67b1","webpack:///./resources/js/components/ImageModal.vue?a0e2","webpack:///resources/js/components/ImageModal.vue","webpack:///./resources/js/components/ImageModal.vue","webpack:///./resources/js/components/ImageModal.vue?f78d","webpack:///./resources/js/components/Slider.vue?7eef","webpack:///resources/js/components/Slider.vue","webpack:///./resources/js/components/Slider.vue","webpack:///./resources/js/components/Slider.vue?8711","webpack:///./resources/js/components/GroupTaxaSearch.vue?b7ae","webpack:///resources/js/components/GroupTaxaSearch.vue","webpack:///./resources/js/components/GroupTaxaSearch.vue","webpack:///./resources/js/components/GroupTaxaSearch.vue?ac3f","webpack:///./resources/js/components/GroupTaxaSearchButton.vue?e288","webpack:///resources/js/components/GroupTaxaSearchButton.vue","webpack:///./resources/js/components/GroupTaxaSearchButton.vue","webpack:///./resources/js/components/GroupTaxaSearchButton.vue?4dac","webpack:///./resources/js/components/inputs/DateInput.vue?e061","webpack:///resources/js/components/inputs/DateInput.vue","webpack:///./resources/js/components/inputs/DateInput.vue","webpack:///./resources/js/components/inputs/DateInput.vue?b9c2","webpack:///./resources/js/Croppr.js","webpack:///./resources/js/components/ImageCropModal.vue?7cdd","webpack:///resources/js/components/ImageCropModal.vue","webpack:///./resources/js/components/inputs/PhotoUpload.vue?7763","webpack:///resources/js/components/inputs/PhotoUpload.vue","webpack:///./resources/js/components/ImageCropModal.vue","webpack:///./resources/js/components/ImageCropModal.vue?9faf","webpack:///./resources/js/components/inputs/PhotoUpload.vue","webpack:///./resources/js/components/inputs/PhotoUpload.vue?2c7f","webpack:///./resources/js/components/inputs/SpatialInput.vue?4894","webpack:///resources/js/components/inputs/SpatialInput.vue","webpack:///./resources/js/components/inputs/SpatialInput.vue","webpack:///./resources/js/components/inputs/SpatialInput.vue?1219","webpack:///resources/js/components/inputs/PublicationAutocomplete.vue","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue?9c07","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue?6fa7","webpack:///resources/js/components/inputs/TaxonAutocomplete.vue","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue?b12f","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue?0331","webpack:///resources/js/components/inputs/UserAutocomplete.vue","webpack:///./resources/js/components/inputs/UserAutocomplete.vue?9f60","webpack:///./resources/js/components/inputs/UserAutocomplete.vue","webpack:///./resources/js/components/inputs/UserAutocomplete.vue?200d","webpack:///resources/js/components/inputs/Wysiwyg.vue","webpack:///./resources/js/components/inputs/Wysiwyg.vue?47c0","webpack:///./resources/js/components/inputs/Wysiwyg.vue","webpack:///./resources/js/components/inputs/Wysiwyg.vue?3183","webpack:///./resources/js/components/sortable/SortableHandle.vue?8ce6","webpack:///resources/js/components/sortable/SortableHandle.vue","webpack:///./resources/js/components/sortable/SortableHandle.vue","webpack:///./resources/js/components/sortable/SortableItem.vue?1b9d","webpack:///resources/js/components/sortable/SortableItem.vue","webpack:///./resources/js/components/sortable/SortableItem.vue","webpack:///resources/js/components/sortable/SortableList.vue","webpack:///./resources/js/components/sortable/SortableList.vue?23c5","webpack:///./resources/js/components/inputs/ColumnsPicker.vue?4ede","webpack:///resources/js/components/inputs/ColumnsPicker.vue","webpack:///./resources/js/components/sortable/SortableList.vue","webpack:///./resources/js/components/inputs/ColumnsPicker.vue","webpack:///./resources/js/components/inputs/ColumnsPicker.vue?4bd8","webpack:///resources/js/components/inputs/DatetimePicker.vue","webpack:///./resources/js/components/inputs/DatetimePicker.vue?6014","webpack:///./resources/js/components/inputs/DatetimePicker.vue","webpack:///./resources/js/components/inputs/DatetimePicker.vue?2822","webpack:///./resources/js/components/table/TableMobileSort.vue?bfd5","webpack:///resources/js/components/table/TableMobileSort.vue","webpack:///resources/js/components/table/Table.vue","webpack:///./resources/js/components/table/Table.vue?e3a1","webpack:///./resources/js/components/table/TableMobileSort.vue","webpack:///./resources/js/components/table/TableMobileSort.vue?3196","webpack:///./resources/js/components/table/Table.vue","webpack:///./resources/js/components/table/Table.vue?e422","webpack:///./resources/js/mixins/FilterableTableMixin.js","webpack:///./resources/js/expiring-storage.js","webpack:///./resources/js/mixins/PersistentTableMixin.js","webpack:///./resources/js/components/exports/ExportDownloadModal.vue?2dea","webpack:///resources/js/components/exports/ExportDownloadModal.vue","webpack:///./resources/js/components/exports/ExportDownloadModal.vue","webpack:///./resources/js/components/exports/ExportDownloadModal.vue?3088","webpack:///resources/js/components/tables/TaxaTable.vue","webpack:///./resources/js/components/tables/TaxaTable.vue?16aa","webpack:///./resources/js/components/tables/TaxaTable.vue","webpack:///./resources/js/components/tables/TaxaTable.vue?d149","webpack:///./resources/js/components/tables/UsersTable.vue?d49d","webpack:///resources/js/components/tables/UsersTable.vue","webpack:///./resources/js/components/tables/UsersTable.vue","webpack:///./resources/js/components/tables/UsersTable.vue?42ea","webpack:///./resources/js/components/tables/ViewGroupsTable.vue?942a","webpack:///resources/js/components/tables/ViewGroupsTable.vue","webpack:///./resources/js/components/tables/ViewGroupsTable.vue","webpack:///./resources/js/components/tables/ViewGroupsTable.vue?59ca","webpack:///./resources/js/components/tables/AnnouncementsTable.vue?9fa6","webpack:///resources/js/components/tables/AnnouncementsTable.vue","webpack:///./resources/js/components/tables/AnnouncementsTable.vue","webpack:///./resources/js/components/tables/AnnouncementsTable.vue?7f41","webpack:///resources/js/components/tables/FieldObservationsTable.vue","webpack:///./resources/js/components/tables/FieldObservationsTable.vue?d84c","webpack:///./resources/js/components/tables/FieldObservationsTable.vue","webpack:///./resources/js/components/tables/FieldObservationsTable.vue?a496","webpack:///./resources/js/components/tables/LiteratureObservationsTable.vue?8162","webpack:///resources/js/components/tables/LiteratureObservationsTable.vue","webpack:///./resources/js/components/tables/LiteratureObservationsTable.vue","webpack:///./resources/js/components/tables/LiteratureObservationsTable.vue?bea4","webpack:///./resources/js/components/forms/RegistrationForm.js","webpack:///./resources/js/components/forms/UserForm.vue?4861","webpack:///resources/js/components/forms/UserForm.vue","webpack:///./resources/js/components/forms/UserForm.vue","webpack:///./resources/js/components/forms/UserForm.vue?e068","webpack:///./resources/js/mixins/FormMixin.js","webpack:///resources/js/components/forms/TaxonForm.vue","webpack:///./resources/js/components/forms/TaxonForm.vue?1fd2","webpack:///./resources/js/components/forms/TaxonForm.vue","webpack:///./resources/js/components/forms/TaxonForm.vue?3f91","webpack:///./resources/js/models/user.js","webpack:///resources/js/components/forms/FieldObservationForm.vue","webpack:///./resources/js/components/forms/FieldObservationForm.vue?4c26","webpack:///./resources/js/mixins/UserMixin.js","webpack:///./resources/js/components/forms/FieldObservationForm.vue","webpack:///./resources/js/components/forms/FieldObservationForm.vue?a1fb","webpack:///resources/js/components/forms/LiteratureObservationForm.vue","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue?eaad","webpack:///./resources/js/mixins/PersistentForm.js","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue?b09b","webpack:///resources/js/components/forms/ViewGroupForm.vue","webpack:///./resources/js/components/forms/ViewGroupForm.vue?4af1","webpack:///./resources/js/components/forms/ViewGroupForm.vue","webpack:///./resources/js/components/forms/ViewGroupForm.vue?e8ed","webpack:///resources/js/components/forms/AnnouncementForm.vue","webpack:///./resources/js/components/forms/AnnouncementForm.vue?58f5","webpack:///./resources/js/components/forms/AnnouncementForm.vue","webpack:///./resources/js/components/forms/AnnouncementForm.vue?6adc","webpack:///./resources/js/components/inputs/PublicationAttachmentUpload.vue?1e5a","webpack:///resources/js/components/inputs/PublicationAttachmentUpload.vue","webpack:///./resources/js/components/inputs/PublicationAttachmentUpload.vue","webpack:///./resources/js/components/inputs/PublicationAttachmentUpload.vue?7618","webpack:///resources/js/components/forms/PublicationForm.vue","webpack:///./resources/js/components/forms/PublicationForm.vue?8668","webpack:///./resources/js/components/forms/PublicationForm.vue","webpack:///./resources/js/components/forms/PublicationForm.vue?cd6d","webpack:///./resources/js/components/activity/FieldObservationApproved.vue?e785","webpack:///resources/js/components/activity/FieldObservationApproved.vue","webpack:///./resources/js/components/activity/FieldObservationApproved.vue","webpack:///./resources/js/components/activity/FieldObservationApproved.vue?bf4d","webpack:///./resources/js/components/activity/FieldObservationCreated.vue?7349","webpack:///resources/js/components/activity/FieldObservationCreated.vue","webpack:///./resources/js/components/activity/FieldObservationCreated.vue","webpack:///./resources/js/components/activity/FieldObservationCreated.vue?bf2a","webpack:///./resources/js/components/activity/FieldObservationMarkedUnidentifiable.vue?0c61","webpack:///resources/js/components/activity/FieldObservationMarkedUnidentifiable.vue","webpack:///./resources/js/components/activity/FieldObservationMarkedUnidentifiable.vue","webpack:///./resources/js/components/activity/FieldObservationMarkedUnidentifiable.vue?a50d","webpack:///./resources/js/components/activity/FieldObservationMovedToPending.vue?04de","webpack:///resources/js/components/activity/FieldObservationMovedToPending.vue","webpack:///./resources/js/components/activity/FieldObservationMovedToPending.vue","webpack:///./resources/js/components/activity/FieldObservationMovedToPending.vue?336e","webpack:///resources/js/components/activity/FieldObservationUpdated.vue","webpack:///./resources/js/components/activity/FieldObservationUpdated.vue?f0f0","webpack:///./resources/js/components/activity/FieldObservationUpdated.vue","webpack:///./resources/js/components/activity/FieldObservationUpdated.vue?6b82","webpack:///resources/js/components/activity/FieldObservationActivityLog.vue","webpack:///./resources/js/components/activity/FieldObservationActivityLog.vue?5b7e","webpack:///./resources/js/components/activity/FieldObservationActivityLog.vue","webpack:///./resources/js/components/activity/FieldObservationActivityLog.vue?7c6d","webpack:///./resources/js/components/activity/LiteratureObservationCreated.vue?cd05","webpack:///resources/js/components/activity/LiteratureObservationCreated.vue","webpack:///./resources/js/components/activity/LiteratureObservationCreated.vue","webpack:///./resources/js/components/activity/LiteratureObservationCreated.vue?e7f5","webpack:///resources/js/components/activity/LiteratureObservationUpdated.vue","webpack:///./resources/js/components/activity/LiteratureObservationUpdated.vue?f3a2","webpack:///./resources/js/components/activity/LiteratureObservationUpdated.vue","webpack:///./resources/js/components/activity/LiteratureObservationUpdated.vue?b422","webpack:///resources/js/components/activity/LiteratureObservationActivityLog.vue","webpack:///./resources/js/components/activity/LiteratureObservationActivityLog.vue?b57c","webpack:///./resources/js/components/activity/LiteratureObservationActivityLog.vue","webpack:///./resources/js/components/activity/LiteratureObservationActivityLog.vue?88de","webpack:///./resources/js/components/activity/TaxonCreated.vue?775d","webpack:///resources/js/components/activity/TaxonCreated.vue","webpack:///./resources/js/components/activity/TaxonCreated.vue","webpack:///./resources/js/components/activity/TaxonCreated.vue?f261","webpack:///resources/js/components/activity/TaxonUpdated.vue","webpack:///./resources/js/components/activity/TaxonUpdated.vue?c11c","webpack:///./resources/js/components/activity/TaxonUpdated.vue","webpack:///./resources/js/components/activity/TaxonUpdated.vue?97db","webpack:///resources/js/components/activity/TaxonActivityLog.vue","webpack:///./resources/js/components/activity/TaxonActivityLog.vue?b253","webpack:///./resources/js/components/activity/TaxonActivityLog.vue","webpack:///./resources/js/components/activity/TaxonActivityLog.vue?0f34","webpack:///resources/js/components/exports/CustomExport.vue","webpack:///./resources/js/components/exports/CustomExport.vue?6419","webpack:///./resources/js/components/exports/CustomExport.vue","webpack:///./resources/js/components/exports/CustomExport.vue?495c","webpack:///resources/js/components/exports/ExportModal.vue","webpack:///./resources/js/components/exports/ExportModal.vue?52b3","webpack:///./resources/js/components/exports/ExportModal.vue","webpack:///./resources/js/components/exports/ExportModal.vue?3d77","webpack:///./resources/js/components/imports/FieldObservationsImport.vue?453c","webpack:///resources/js/components/imports/FieldObservationsImport.vue","webpack:///./resources/js/components/imports/FieldObservationsImport.vue","webpack:///./resources/js/components/imports/FieldObservationsImport.vue?77e2","webpack:///./resources/js/components/FieldObservationApproval.vue?7273","webpack:///resources/js/components/FieldObservationApproval.vue","webpack:///./resources/js/components/FieldObservationApproval.vue","webpack:///./resources/js/components/FieldObservationApproval.vue?c316","webpack:///resources/js/components/OccurrenceChart.vue","webpack:///./resources/js/components/OccurrenceChart.vue?a279","webpack:///./resources/js/components/OccurrenceChart.vue","webpack:///./resources/js/components/OccurrenceChart.vue?aa07","webpack:///./resources/js/components/DeleteAccountModal.vue?4f22","webpack:///resources/js/components/DeleteAccountModal.vue","webpack:///./resources/js/components/DeleteAccountModal.vue","webpack:///./resources/js/components/DeleteAccountModal.vue?b323","webpack:///./resources/js/components/DeleteAccountButton.vue?099e","webpack:///resources/js/components/DeleteAccountButton.vue","webpack:///./resources/js/components/DeleteAccountButton.vue","webpack:///./resources/js/components/DeleteAccountButton.vue?5d34","webpack:///./resources/js/app.js","webpack:///./resources/js/components/imports/FieldObservationsImport.vue?d063","webpack:///./resources/js/components/inputs/ColumnsPicker.vue?4d59","webpack:///./resources/js/components/imports/FieldObservationsImport.vue?a32b","webpack:///./resources/js/components/inputs/ColumnsPicker.vue?a281"],"names":["window","axios","require","defaults","headers","common","interceptors","response","use","error","console","log","status","Promise","reject","location","href","route","url","token","document","head","querySelector","content","language","documentElement","lang","moment","momentLocale","locale","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","push","i","defaultOptions","defaultTemplate","name","props","hasUnread","Boolean","data","active","showSidebar","hasUnreadNotifications","this","methods","toggle","toggleSidebar","updateNotificationStatus","link","notification","field_observation_id","message","trans","curatorName","curator_name","causerName","causer_name","contributorName","contributor_name","components","nzNotification","_vm","_h","$createElement","_c","_self","class","isNotRead","staticClass","on","visitLinkAndMarkAsRead","domProps","_s","_v","createdAt","attrs","$event","preventDefault","markAsRead","_e","notifications","type","Array","default","activeTab","currentNotifications","created","addEventListener","keyPress","beforeDestroy","removeEventListener","hide","$emit","event","keyCode","markNotificationAsRead","post","notifications_ids","notificationId","callback","markAllNotificationsAsRead","length","_l","key","announcement","newAnnouncement","computed","sendRequestToMarkAsRead","announcement_id","then","title","nativeOn","String","imageUrl","refreshing","refresh","staticStyle","items","value","Number","newValue","openImage","watch","immediate","handler","registerKeyListener","next","prev","onClose","classList","remove","body","withThumbnails","thumbnailNumber","item","moreThanOne","goToPrevSlide","goToNextSlide","setCurrentSlide","index","isCurrent","image","directives","rawName","expression","caption","group","required","selected","first_species_id","species","onTaxonSelect","taxon","visitLink","model","$$v","showModal","parent","component","hasModalCard","$nextTick","modal","$el","focus","label","year","month","day","placeholders","errors","now","months","isThisYear","splice","days","isThisMonth","date","truncateDay","onYearInput","onMonthInput","onDayInput","has","first","Croppr","BaseCroppr","actualWidth","imageEl","naturalWidth","actualHeight","naturalHeight","factorX","offsetWidth","factorY","offsetHeight","box","Box","Math","round","x","y","width","height","redraw","mixins","canCancel","crop","newCrop","preserveRatio","mounted","ctrlIsPressed","ctrlIsNotPressed","isActive","handleScroll","croppr","onCropEnd","onInitialize","setBoxToRealPosition","savedScrollTop","style","top","scrollTop","cropImage","close","which","options","aspectRatio","NzImageCropModal","animation","maxWidth","newWidth","ref","cancel","withCrop","haveImage","thumbnailUrl","openCropModal","closeCropModal","path","hasExisting","license","handleLicenseChanged","showCropModal","$set","onInput","progress","text","accuracy","elevation","latitude","longitude","hasOtherErrors","emptyAccuracy","calculateEmptyAccuracy","App","gmaps","center","zoom","showDetails","elevationService","position","coordinatesSet","isNaN","mapHasErrors","newAccuracy","centerCoordinates","lat","lng","getElevation","setCurrentLocationAsMapCenter","castNumber","onLocationInput","updateLocation","target","onLongitudeInput","updateLongitude","onLatitudeInput","updateLatitude","onAccuracyInput","updateAccuracy","onElevationInput","updateElevation","setMarker","updateRadius","radius","google","maps","ElevationService","getElevationForLocations","locations","ElevationStatus","OK","results","onZoomChanged","parseInt","pow","navigator","geolocation","getCurrentPosition","streetViewControl","strokeWeight","_t","placeholder","publication","except","autofocus","disabled","loading","icon","fetchData","citation","params","forEach","onSelect","user","currentValue","focusOnInput","getValue","option","scopedSlots","_u","fn","haveThumbnail","thumbnail_url","limit","enterPressed","$refs","autocomplete","indexOf","_k","native_name","full_name","email","makeid","possible","charAt","floor","random","getDefaultHTML","inputId","trix","innerHTML","render","$slots","inject","add","handleClass","itemClass","provide","$scopedSlots","draggable","handle","mirror","constrainDimensions","oldIndex","newIndex","$once","sortable","destroy","SortableHandle","columns","allColumns","checkedColumns","allChecked","checked","filter","checkAll","FormElementMixin","inheritAttrs","Date","dayNames","isArray","config","weekdaysShort","monthNames","firstDayOfWeek","inline","minDate","maxDate","focusedDate","readonly","unselectableDates","unselectableDaysOfWeek","selectableDates","displayFormat","dateFormatter","Function","format","dateParser","parse","mobileNative","events","indicators","hourFormat","validator","incrementMinutes","dateSelected","focusedDateData","getMonth","getFullYear","hoursSelected","minutesSelected","meridienSelected","_elementRef","_isDatepicker","listOfYears","arrayOfYears","reverse","isFirstMonth","isLastMonth","isMobile","hours","isHourFormat24","formatNumber","minutes","meridiens","currentDate","dropdown","isValid","input","checkHtml5Validity","updateSelectedDate","onChange","formatValue","decrementMonth","isMinuteDisabled","isHourDisabled","minHours","minute","minMinutes","maxHours","unselectableTimes","time","getHours","size","expanded","undefined","header","iconPack","incrementMonth","onDateInput","onHoursChange","hour","onMinutesChange","onMeridienChange","meridien","_b","formatYYYYMMDD","onChangeNativePicker","$attrs","mobileSort","column","sort","currentSortColumn","isAsc","mobileCards","hasSortableColumns","newColumns","paginated","paginationOnTop","perPage","onPerPageChange","showing","newDataTotal","paginationSimple","paginationSize","newCurrentPage","pageChanged","tableClasses","focusable","pressedArrow","isAllChecked","stopPropagation","numeric","centered","sortIcon","visibleData","row","rowClass","isRowChecked","selectRow","hasDetailedVisible","toggleDetails","isVisibleDetailRow","checkRow","field","getValueByPath","detailed","columnCount","footer","hasCustomFooterSlot","checkable","showFilter","filterDefaults","newFilter","filterIsActive","clearFilter","applyFilter","reload","cached","JSON","localStorage","getItem","expires","removeItem","get","lifeTimeInMinutes","currentTime","getTime","setItem","stringify","cacheKey","cacheLifetime","storageKey","host","pathname","getPersistantKeys","saveState","expiringStorage","set","_pick","$data","restoreState","previousState","filename","FilterableTableMixin","PersistentTableMixin","perPageOptions","listRoute","editRoute","deleteRoute","empty","ranks","showActivityLog","exportColumns","exportUrl","total","sortField","sortOrder","defaultSortOrder","page","checkedRows","activityLog","showExportModal","hasActions","exportable","checkedIds","sortBy","addMissingValuesAfterRestoration","loadAsyncData","$on","withQuery","sort_by","per_page","onPageChange","onSort","order","confirmRemove","$buefy","dialog","confirm","confirmText","cancelText","onConfirm","editLink","openActivityLogModal","activity","rank","taxonId","includeChildTaxa","selectedTaxon","openExportModal","onExportDone","finishedExport","open","ExportDownloadModal","toast","duration","slot","rank_translation","search","onFilter","performSearch","clearSearch","first_name","last_name","institution","meta","from","to","filters","formatDateTime","m","_f","created_at","approvable","actionRunning","approving","movingToPending","markingAsUnidentifiable","viewLink","viewRoute","observationHasPhotos","observation","photos","openImageModal","modalImageIndex","modalImages","onCarouselClose","modalImagesIndex","confirmApprove","approve","bind","approveRoute","field_observation_ids","successfullyApproved","failedToApprove","confirmMarkingAsUnidentifiable","inputAttrs","maxlength","markAsUnidentifiable","markAsUnidentifiableRoute","reason","successfullyMarkedAsUnidentifiable","failedToMarkAsUnidentifiable","determineStatusIcon","determineStatusClass","validateReason","setCustomValidity","validity","valid","validationMessage","confirmMoveToPending","moveToPending","moveToPendingRoute","successfullyMovedToPending","failedToMoveToPending","observer","project","truncate","photo","mgrs10k","replace","exporting","initPasswordError","password","passwordWasOnceInvalid","passwordIsInvalid","passwordError","shouldBeDisabled","validatePassword","checkPassword","attribute","min","checkIfFixedPassword","action","method","roles","curated_taxa","redirect","filteredTaxa","curatedTaxa","form","roles_ids","curated_taxa_ids","resetOnSuccess","isCurator","onTaxonNameInput","fetchTaxa","submit","processing","toLowerCase","onSuccessfulSubmit","setTimeout","onFailedSubmit","role","redirectUrl","cancelUrl","submitMore","shouldConfirmSubmit","confirmSubmitMessage","shouldAskReason","shouldConfirmCancel","submitOnlyDirty","submitOnlyDirtyMessage","newForm","keepAfterSubmit","submittingWithRedirect","submittingWithoutRedirect","confirmingSubmit","confirmingCancel","Form","enter","ctrlKey","shiftKey","submitWithoutRedirect","submitWithRedirect","confirmSubmit","onCancel","promptForReason","prompt","notifyNoChanges","notifyNoChangesAndRedirect","isDirty","performSubmitWithRedirect","onSuccessfulSubmitWithRedirect","hookAfterSubmitWithRedirect","performSubmitWithoutRedirect","onSuccessfulSubmitWithoutRedirect","keep","reset","populate","hookAfterSubmitWithoutRedirect","_get","_isEqual","initial","confirmCancel","defaultTranslations","FormMixin","parent_id","rank_level","author","fe_id","fe_old_id","conservation_legislations","conservation_documents","red_lists","stages","restricted","allochthonous","invasive","conservationLegislations","conservationDocuments","redListCategories","redLists","nativeNames","descriptions","parentName","selectedParent","chosenRedList","rankOptions","availableRedLists","supportedLocales","shouldResetRank","stages_ids","conservation_legislations_ids","conservation_documents_ids","red_lists_data","description","addRedList","red_list_id","category","removeRedList","getRedListName","getRankLevel","focusOnTranslation","refInFor","stage","conservationLegislation","conservationDocument","addedRedList","User","_intersection","currentUser","isCuratorOrAdmin","hasRole","taxon_id","taxon_suggestion","identifier","note","sex","number","habitat","found_on","stage_id","found_dead","found_dead_note","data_license","image_license","types","observed_by_id","observed_by","identified_by_id","identified_by","dataset","licenses","sexes","observationTypes","showObserverIdentifier","getAttributesToKeep","showMoreDetails","observationTypeSearch","shouldClearType","exifExtracted","toDate","selectedObservationTypes","observation_types_ids","availableObservationTypes","isIdentified","identificationChanged","setDefaultObservationType","clearPhotos","taxonAutocomplete","updateIdentifier","onTimeInput","onPhotoUploaded","availableType","pushSelectedObservationType","promptToExtractExifData","onPhotoRemoved","selectedTypeIndex","onPhotoCropped","photoIndex","croppedImage","getObservationPhotoAttribute","updated","onTypeTyping","onTypeBackspace","exif","extractExifMessage","extractExifData","fillFromExif","onObserverSelect","onIdentifierSelect","onLicenseChanged","getFormKey","otherPersistentKeys","clearPersistedState","submitMoreWithSameTaxon","original_date","original_locality","original_elevation","original_coordinates","original_identification","original_identification_validity","place_where_referenced_in_publication","publication_id","is_original_data","cited_publication_id","minimum_elevation","maximum_elevation","georeferenced_by","georeferenced_date","cited_publication","validityOptions","submittingWithoutRedirectWithSameTaxon","taxonName","publicationCitation","citedPublication","georeferencedDate","val","onPublicationSelect","onCitedPublicationSelect","handleIsOriginalDataInput","addNewPublication","dateFormater","handleElevationFetched","submitWithoutRedirectWithSameTaxon","performSubmitWithoutRedirectWithSameTaxon","onSuccessfulSubmitWithoutRedirectWithSameTaxon","$ziggy","_n","rootGroups","names","taxa","isRoot","taxa_ids","image_url","image_path","only_observed_taxa","onImageUploaded","onImageRemoved","rootGroup","private","isEdit","attachmentName","attachmentFileName","reader","uploading","hasAttachment","file","upload","openUpload","click","makeForm","Accept","onUploadProgress","append","attachment","handleError","publicationTypes","chosenType","typeHasName","has_name","typeHasEditors","has_editors","typeRequiresEditors","requires_editors","typeHasPublisher","has_publisher","typeRequiresPublisher","requires_publisher","typeHasIssue","has_issue","typeRequiresIssue","requires_issue","typeHasPlace","has_place","typeRequiresPlace","requires_place","typeHasPageRange","has_page_range","nameLabel","titleLabel","addAuthor","authors","addEditor","editors","removeAuthor","removeItemFromField","removeEditor","removeErrorForItem","match","newErrors","errorField","record","handleAttachmentUploaded","attachment_id","handleRemovedAttachment","authorHasError","getAuthorError","editorHasError","getEditorError","publicationType","_","original_name","causer","subject_id","properties","formatedChanges","old","oldValue","activities","chooseActivityComponent","tag","onlyChecked","applyFilters","currentExport","selectedColumns","withHeader","assign","exportStatus","exportFinished","exportFailed","sendExportRequest","withData","with_header","startCheckingStatus","checkInterval","setInterval","checkExportStatus","clearInterval","isCustom","exportType","runningImport","cancellableStatuses","canSubmitForUser","canApproveCurated","showColumnsSelection","importing","currentImport","validationErrors","currentErrorsPage","submissionErrors","hasHeading","approveCurated","showSuccessMessage","cancelling","userId","canSubmit","validationFailed","saved","savingFailed","cancelled","importStatus","cancellable","userFullName","toggleColumns","resetForm","handleSuccessfulSubmit","handleFailedSubmit","interval","checkStatus","showValiadtionErrors","errors_url","handleFailedValidation","stopCheckingImport","handleFailedSaving","handleStored","import_id","setUserId","approveUrl","markAsUnidentifiableUrl","fieldObservation","busy","egg","larva","pupa","juvenile","adult","elevationLabel","monthsLabel","availableStages","visibleStages","ALL_STAGES","allStages","currentDateLineX","xForDate","filteredData","sortedData","maxElevation","max","minElevation","topElevationValue","ceil","bottomElevationValue","step","preparedPoints","yForZeroElevation","yForElevation","negativeElevations","steps","positiveElevations","progressInYear","optionColor","backgroundColor","borderRadius","display","border","point","color","_i","$$a","$$el","$$c","$$i","concat","slice","csrfToken","$parent","openModal","DeleteAccountModal","Vue","VueLazyload","attempt","Buefy","defaultIconPack","VTooltip","gmapsConfig","load","apiKey","libraries","VueGoogleMaps","prototype","Navbar","Sidebar","Announcement","Captcha","ImageModal","Slider","GroupTaxaSearchButton","Table","TaxaTable","UsersTable","ViewGroupsTable","AnnouncementsTable","FieldObservationsTable","LiteratureObservationsTable","DateInput","PhotoUpload","SpatialInput","PublicationAutocomplete","TaxonAutocomplete","UserAutocomplete","Wysiwyg","ColumnsPicker","DatetimePicker","RegistrationForm","FieldObservationForm","LiteratureObservationForm","TaxonForm","UserForm","ViewGroupForm","AnnouncementForm","PublicationForm","FieldObservationActivityLog","LiteratureObservationActivityLog","TaxonActivityLog","CustomExport","ExportModal","FieldObservationsImport","FieldObservationApproval","OccurrenceChart","DeleteAccountButton","string","args","defaultString","i18n","_eachRight","paramVal","paramKey","_replace","toString","_merge","directive","el","transform","locals"],"mappings":"iIAMAA,OAAOC,MAAQC,EAAQ,QAEvBF,OAAOC,MAAME,SAASC,QAAQC,OAAO,oBAAsB,iBAG3DL,OAAOC,MAAMK,aAAaC,SAASC,IAAI,SAAUD,GAE/C,OAAOA,GACN,SAAUE,GAEX,GADAC,QAAQC,IAAIF,IACRA,EAAMF,UAAsC,MAA1BE,EAAMF,SAASK,OAOrC,OAAOC,QAAQC,OAAOL,GANpBT,OAAOe,SAASC,KAAOhB,OAAOiB,MAAM,SAASC,QAejD,IAAIC,EAAQC,SAASC,KAAKC,cAAc,2BAEpCH,EACFnB,OAAOC,MAAME,SAASC,QAAQC,OAAO,gBAAkBc,EAAMI,QAE7Db,QAAQD,MAAM,yEAGhB,IAAIe,EAAWJ,SAASK,gBAAgBC,KAEpCF,IACFxB,OAAOC,MAAME,SAASC,QAAQC,OAAO,mBAAqBmB,GAI5DxB,OAAO2B,OAASzB,EAAQ,QACxBA,EAAQ,QACRA,EAAQ,QAER,IAAI0B,EAAeJ,EAEF,OAAbA,EACFI,EAAe,UACO,YAAbJ,IACTI,EAAe,MAGjB5B,OAAO2B,OAAOE,OAAOD,I,qBC3DrB,IAAIE,EAAM,CACT,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,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","file":"/js/app.js","sourcesContent":["/**\n * We'll load the axios HTTP library which allows us to easily issue requests\n * to our Laravel back-end. This library automatically handles sending the\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\n */\n\nwindow.axios = require('axios')\n\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\n\n// Add a response interceptor\nwindow.axios.interceptors.response.use(function (response) {\n  // Do something with response data\n  return response\n}, function (error) {\n  console.log(error)\n  if (error.response && error.response.status === 401) {\n    window.location.href = window.route('login').url()\n\n    return\n  }\n\n  // Do something with response error\n  return Promise.reject(error)\n})\n\n/**\n * Next we will register the CSRF Token as a common header with Axios so that\n * all outgoing HTTP requests automatically have it attached. This is just\n * a simple convenience so we don't have to attach every token manually.\n */\n\nlet token = document.head.querySelector('meta[name=\"csrf-token\"]')\n\nif (token) {\n  window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content\n} else {\n  console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token')\n}\n\nlet language = document.documentElement.lang\n\nif (language) {\n  window.axios.defaults.headers.common['Accept-Language'] = language\n}\n\n// Moment.js\nwindow.moment = require('moment')\nrequire('moment/locale/sr')\nrequire('moment/locale/sr-cyrl')\n\nlet momentLocale = language\n\nif (language === 'sr') {\n  momentLocale = 'sr-cyrl'\n} else if (language === 'sr-Latn') {\n  momentLocale = 'sr'\n}\n\nwindow.moment.locale(momentLocale)\n\n/**\n * Echo exposes an expressive API for subscribing to channels and listening\n * for events that are broadcast by Laravel. Echo and event broadcasting\n * allows your team to easily build robust real-time web applications.\n */\n\n// import Echo from 'laravel-echo'\n\n// window.Pusher = require('pusher-js')\n\n// window.Echo = new Echo({\n//     broadcaster: 'pusher',\n//     key: 'your-pusher-key'\n// });\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-SG\": \"zavE\",\n\t\"./en-SG.js\": \"zavE\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".columns-picker :focus {\\n  outline: none;\\n}\\n.columns-picker .panel-block {\\n  justify-content: space-between;\\n}\\n.columns-picker .panel-block:hover {\\n  cursor: default;\\n}\\n.columns-picker .panel-heading {\\n  padding-left: 0.6em;\\n}\\n.columns-picker .sortable-handle:hover {\\n  cursor: move;\\n}\\n.columns-picker .b-checkbox input[type=checkbox][disabled] + .check {\\n  opacity: 0.5;\\n}\", \"\"]);\n\n// exports\n","import mod from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsImport.vue?vue&type=style&index=0&id=9ca2001e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsImport.vue?vue&type=style&index=0&id=9ca2001e&lang=scss&scoped=true&\"","import _merge from 'lodash/merge'\n\nconst defaultOptions = {\n  defaultTemplate: '<div class=\"v-tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>'\n}\n\nexport function setTooltipOptions(VTooltip) {\n  VTooltip.options = _merge(VTooltip.options, defaultOptions)\n}\n","export default {\n  name: 'nzNavbar',\n\n  props: {\n    hasUnread: Boolean\n  },\n\n  data() {\n    return {\n      active: false,\n      showSidebar: false,\n      hasUnreadNotifications: this.hasUnread\n    }\n  },\n\n  methods: {\n    toggle() {\n      this.active = !this.active;\n    },\n\n    toggleSidebar() {\n        this.showSidebar = !this.showSidebar;\n    },\n\n    updateNotificationStatus(status) {\n      this.hasUnreadNotifications = status;\n    }\n  }\n}\n","<template>\n  <div v-if=\"type\" :class=\"{'has-background-light': isNotRead}\">\n    <div class=\"flex-1\" :class=\"{'is-clickable': link}\" @click=\"visitLinkAndMarkAsRead\">\n      <div v-html=\"message\" />\n\n      <span class=\"has-text-grey is-size-7\">{{ createdAt }}</span>\n    </div>\n\n    <a\n      href=\"#\"\n      v-if=\"isNotRead\"\n      @click.prevent=\"markAsRead\"\n      :title=\"trans('notifications.mark_as_read')\"\n    >\n      <b-icon icon=\"remove\" size=\"is-small\" />\n    </a>\n  </div>\n</template>\n\n<script>\n  import FieldObservationApproved from './FieldObservationApproved'\n  import FieldObservationEdited from './FieldObservationEdited'\n  import FieldObservationForApproval from './FieldObservationForApproval'\n  import FieldObservationMovedToPending from './FieldObservationMovedToPending'\n  import FieldObservationMarkedUnidentifiable from './FieldObservationMarkedUnidentifiable'\n\n  const NOTIFICATIONS_MAP = {\n    'App\\\\Notifications\\\\FieldObservationApproved': FieldObservationApproved,\n    'App\\\\Notifications\\\\FieldObservationEdited': FieldObservationEdited,\n    'App\\\\Notifications\\\\FieldObservationForApproval': FieldObservationForApproval,\n    'App\\\\Notifications\\\\FieldObservationMovedToPending': FieldObservationMovedToPending,\n    'App\\\\Notifications\\\\FieldObservationMarkedUnidentifiable': FieldObservationMarkedUnidentifiable\n  }\n\n  export default {\n    name: 'nzNotification',\n\n    props: {\n      notification: {\n        type: Object,\n        required: true\n      }\n    },\n\n    computed: {\n      type() {\n        return NOTIFICATIONS_MAP[this.notification.type]\n      },\n\n      isNotRead() {\n        return !this.notification.readAt;\n      },\n\n      data() {\n        return this.notification.data\n      },\n\n      createdAt() {\n        return moment(this.notification.created_at).format('D.M.YYYY HH:mm')\n      },\n\n      message() {\n        return this.type.message(this.notification)\n      },\n\n      link() {\n        return this.type.link(this.notification)\n      }\n    },\n\n    methods: {\n      /**\n       * Mark notification as read.\n       */\n      markAsRead() {\n        if (this.isNotRead) {\n          this.$emit('mark-read', this.notification.id)\n        }\n      },\n\n      /**\n       * Visit the notification link\n       * If the notification has not been read before, mark if as read.\n       */\n      visitLinkAndMarkAsRead() {\n        if (this.isNotRead) {\n          this.$emit('mark-read', this.notification.id, () => {\n            this.visitLink()\n          });\n        } else {\n          this.visitLink()\n        }\n      },\n\n      /**\n       * Visit the notification link.\n       */\n      visitLink() {\n        if (this.link) {\n          window.location.href = this.link\n        }\n      }\n    }\n  }\n</script>\n","export default {\n  link(notification) {\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    return trans('notifications.field_observations.approved', {\n      curatorName: notification.data.curator_name || trans('roles.curator')\n    })\n  }\n}\n","export default {\n  link(notification) {\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    return trans('notifications.field_observations.edited', {\n      causerName: notification.data.causer_name || trans('roles.curator')\n    })\n  }\n}\n","export default {\n  link(notification) {\n    return route('curator.pending-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    return trans('notifications.field_observations.for_approval', {\n      contributorName: notification.data.contributor_name || trans('roles.contributor')\n    })\n  }\n}\n","export default {\n  link(notification) {\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    return trans('notifications.field_observations.moved_to_pending', {\n      curatorName: notification.data.curator_name || trans('roles.curator')\n    })\n  }\n}\n","export default {\n  link(notification) {\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    return trans('notifications.field_observations.marked_as_unidentifiable', {\n      curatorName: notification.data.curator_name || trans('roles.curator')\n    })\n  }\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notification.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"sidebar\" :class=\"{'is-active': active}\">\n    <div class=\"sidebar-header\">\n      <h3 class=\"title is-size-5\">{{ trans('notifications.title') }}</h3>\n    </div>\n\n    <div class=\"sidebar-body\">\n      <transition-group name=\"notification-list\" v-if=\"currentNotifications.length\">\n        <nz-notification\n          class=\"sidebar-block\"\n          v-for=\"notification in currentNotifications\"\n          :notification=\"notification\"\n          @mark-read=\"markNotificationAsRead\"\n          :key=\"notification.id\"\n        />\n      </transition-group>\n\n      <div class=\"sidebar-block justify-center py-8\" v-else>\n        {{ trans('notifications.no_new_notifications') }}\n      </div>\n    </div>\n\n    <footer class=\"sidebar-footer\">\n      <button type=\"button\" class=\"button\" @click=\"hide\">{{ trans('buttons.close') }}</button>\n\n      <button type=\"button\" class=\"button is-text\" @click=\"markAllNotificationsAsRead\" v-if=\"currentNotifications.length\">\n        {{ trans('notifications.mark_all_as_read') }}\n      </button>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport nzNotification from './notifications/Notification'\n\nexport default {\n  name: 'nzSidebar',\n\n  components: {\n    nzNotification\n  },\n\n  props: {\n    active: Boolean,\n\n    notifications: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      activeTab: 'notifications',\n      currentNotifications: this.notifications,\n    }\n  },\n\n  created () {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('keyup', this.keyPress)\n    }\n  },\n\n  beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('keyup', this.keyPress)\n    }\n  },\n\n  methods: {\n    /**\n     * Emit the event to close.\n     */\n    hide() {\n      this.$emit('close')\n    },\n\n    /**\n     * Handle ESC key.\n     *\n     * @param  {Event}  event\n     */\n    keyPress(event) {\n      // Esc key\n      if (event.keyCode === 27) this.hide()\n    },\n\n    /**\n     * Mark single notification as read.\n     *\n     * @param  {String}  notificationId\n     */\n    markNotificationAsRead(notificationId, callback) {\n      axios.post(route('api.my.read-notifications-batch.store'), {\n        notifications_ids: [notificationId]\n      }).then(() => {\n        this.currentNotifications = this.currentNotifications.filter(notification => {\n          return notification.id !== notificationId\n        })\n\n        this.$emit('update:has-unread-notifications', !!this.currentNotifications.length)\n\n        callback()\n      })\n    },\n\n    /**\n     * Mark all unread notifications as read.\n     */\n    markAllNotificationsAsRead() {\n      if (!this.currentNotifications.length) return\n\n      axios.post(route('api.my.read-notifications-batch.store'), {\n        notifications_ids: this.currentNotifications.map(notification => notification.id)\n      }).then(() => {\n        this.currentNotifications = []\n\n        this.$emit('update:has-unread-notifications', false)\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./Notification.vue?vue&type=template&id=67998bc0&\"\nimport script from \"./Notification.vue?vue&type=script&lang=js&\"\nexport * from \"./Notification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.type)?_c('div',{class:{'has-background-light': _vm.isNotRead}},[_c('div',{staticClass:\"flex-1\",class:{'is-clickable': _vm.link},on:{\"click\":_vm.visitLinkAndMarkAsRead}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.message)}}),_vm._v(\" \"),_c('span',{staticClass:\"has-text-grey is-size-7\"},[_vm._v(_vm._s(_vm.createdAt))])]),_vm._v(\" \"),(_vm.isNotRead)?_c('a',{attrs:{\"href\":\"#\",\"title\":_vm.trans('notifications.mark_as_read')},on:{\"click\":function($event){$event.preventDefault();return _vm.markAsRead($event)}}},[_c('b-icon',{attrs:{\"icon\":\"remove\",\"size\":\"is-small\"}})],1):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=d03bac86&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar\",class:{'is-active': _vm.active}},[_c('div',{staticClass:\"sidebar-header\"},[_c('h3',{staticClass:\"title is-size-5\"},[_vm._v(_vm._s(_vm.trans('notifications.title')))])]),_vm._v(\" \"),_c('div',{staticClass:\"sidebar-body\"},[(_vm.currentNotifications.length)?_c('transition-group',{attrs:{\"name\":\"notification-list\"}},_vm._l((_vm.currentNotifications),function(notification){return _c('nz-notification',{key:notification.id,staticClass:\"sidebar-block\",attrs:{\"notification\":notification},on:{\"mark-read\":_vm.markNotificationAsRead}})}),1):_c('div',{staticClass:\"sidebar-block justify-center py-8\"},[_vm._v(\"\\n      \"+_vm._s(_vm.trans('notifications.no_new_notifications'))+\"\\n    \")])],1),_vm._v(\" \"),_c('footer',{staticClass:\"sidebar-footer\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.hide}},[_vm._v(_vm._s(_vm.trans('buttons.close')))]),_vm._v(\" \"),(_vm.currentNotifications.length)?_c('button',{staticClass:\"button is-text\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.markAllNotificationsAsRead}},[_vm._v(\"\\n      \"+_vm._s(_vm.trans('notifications.mark_all_as_read'))+\"\\n    \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Announcement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Announcement.vue?vue&type=script&lang=js&\"","<template>\n  <article class=\"message is-info shadow\" v-if=\"newAnnouncement\">\n    <div class=\"message-body flex justify-between\">\n      <div class=\"\">\n        {{ newAnnouncement.title }}\n      </div>\n\n      <div class=\"message-actions\">\n        <a :href=\"link\">Read more</a>\n\n        <b-icon icon=\"check\" @click.native=\"markAsRead\" title=\"Mark as read\" class=\"is-clickable\" />\n      </div>\n    </div>\n  </article>\n</template>\n\n<script>\nexport default {\n  name: 'nzAnnouncement',\n\n  props: {\n    announcement: Object\n  },\n\n  data() {\n    return {\n      newAnnouncement: this.announcement\n    }\n  },\n\n  computed: {\n    link() {\n      return route('announcements.show', { announcement: this.newAnnouncement.id })\n    }\n  },\n\n  methods: {\n    sendRequestToMarkAsRead() {\n      return axios.post('/api/read-announcements', {\n        announcement_id: this.newAnnouncement.id,\n      })\n    },\n\n    markAsRead() {\n      this.sendRequestToMarkAsRead().then(() => {\n        this.newAnnouncement = null\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./Announcement.vue?vue&type=template&id=2101ee9e&\"\nimport script from \"./Announcement.vue?vue&type=script&lang=js&\"\nexport * from \"./Announcement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.newAnnouncement)?_c('article',{staticClass:\"message is-info shadow\"},[_c('div',{staticClass:\"message-body flex justify-between\"},[_c('div',{},[_vm._v(\"\\n      \"+_vm._s(_vm.newAnnouncement.title)+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"message-actions\"},[_c('a',{attrs:{\"href\":_vm.link}},[_vm._v(\"Read more\")]),_vm._v(\" \"),_c('b-icon',{staticClass:\"is-clickable\",attrs:{\"icon\":\"check\",\"title\":\"Mark as read\"},nativeOn:{\"click\":function($event){return _vm.markAsRead($event)}}})],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Captcha.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Captcha.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"is-flex is-flex-center\">\n    <img class=\"image\" style=\"height: 60px\" :src=\"imageUrl\" alt=\"CAPTCHA Image\">\n\n    <button type=\"button\" class=\"button is-small ml-2\" @click=\"refresh\">\n      <b-icon icon=\"refresh\" size=\"is-small\"/>\n    </button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'nzCaptcha',\n\n  props: {\n    url: String,\n  },\n\n  data() {\n    return {\n      imageUrl: this.url,\n      refreshing: false\n    }\n  },\n\n  methods: {\n    refresh() {\n      if (this.refreshing) return\n\n      this.refreshing = true\n\n      axios.get(this.imageUrl + '&refresh').then(({ data }) => {\n        this.imageUrl = data.url\n        this.refreshing = false\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./Captcha.vue?vue&type=template&id=658eb78a&\"\nimport script from \"./Captcha.vue?vue&type=script&lang=js&\"\nexport * from \"./Captcha.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"is-flex is-flex-center\"},[_c('img',{staticClass:\"image\",staticStyle:{\"height\":\"60px\"},attrs:{\"src\":_vm.imageUrl,\"alt\":\"CAPTCHA Image\"}}),_vm._v(\" \"),_c('button',{staticClass:\"button is-small ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.refresh}},[_c('b-icon',{attrs:{\"icon\":\"refresh\",\"size\":\"is-small\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageModal.vue?vue&type=script&lang=js&\"","<template>\n  <b-modal :active.sync=\"active\" :can-cancel=\"['escape', 'x']\" @close=\"onClose\">\n    <div class=\"image-modal\">\n      <img :src=\"openImage\">\n\n      <div class=\"image-modal-navigation\" v-if=\"items.length > 1\">\n        <div class=\"image-modal-previous\" @click=\"prev\">\n          <i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>\n        </div>\n\n        <div class=\"image-modal-next\" @click=\"next\">\n          <i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>\n        </div>\n      </div>\n    </div>\n  </b-modal>\n</template>\n\n<script>\nexport default {\n  name: 'nzImageModal',\n\n  props: {\n    items: {\n      type: Array,\n      default: () => []\n    },\n    value: {\n      type: Number,\n      default: 0\n    }\n  },\n\n  data() {\n    return {\n      newValue: this.value,\n      active: true\n    }\n  },\n\n  computed: {\n    openImage() {\n      return this.items[this.newValue]\n    }\n  },\n\n  watch: {\n    newValue() {\n      this.$emit('input', this.newValue)\n    },\n\n    openImage: {\n      immediate: true,\n      handler(value) {\n        this.active = Boolean(value)\n      }\n    }\n  },\n\n  created() {\n    document.addEventListener('keyup', this.registerKeyListener)\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('keyup', this.registerKeyListener)\n  },\n\n  methods: {\n    next() {\n      let newValue = this.newValue + 1\n\n      if (newValue >= this.items.length) {\n        newValue = 0\n      }\n\n      this.newValue = newValue\n    },\n\n    prev() {\n      let newValue = this.newValue - 1\n\n      if (newValue < 0) {\n        newValue = this.items.length - 1\n      }\n\n      this.newValue = newValue\n    },\n\n    registerKeyListener(e) {\n      const key = e.which || e.keyCode\n\n      if (key === 37) { // left arrow\n        this.prev()\n      } else if (key === 39) { // right arrow\n        this.next()\n      }\n    },\n\n    onClose(e) {\n      this.active = false\n\n      // Buefy modal component sets these classes and\n      // if we don't remove them scroll will not work.\n      document.documentElement.classList.remove('is-clipped')\n      document.body.classList.remove('is-noscroll')\n\n      this.$emit('close', e)\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./ImageModal.vue?vue&type=template&id=82126584&\"\nimport script from \"./ImageModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"active\":_vm.active,\"can-cancel\":['escape', 'x']},on:{\"update:active\":function($event){_vm.active=$event},\"close\":_vm.onClose}},[_c('div',{staticClass:\"image-modal\"},[_c('img',{attrs:{\"src\":_vm.openImage}}),_vm._v(\" \"),(_vm.items.length > 1)?_c('div',{staticClass:\"image-modal-navigation\"},[_c('div',{staticClass:\"image-modal-previous\",on:{\"click\":_vm.prev}},[_c('i',{staticClass:\"fa fa-chevron-left\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"image-modal-next\",on:{\"click\":_vm.next}},[_c('i',{staticClass:\"fa fa-chevron-right\",attrs:{\"aria-hidden\":\"true\"}})])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"slider\">\n    <!-- Slideshow container -->\n    <div class=\"slide-container\">\n      <!-- Full-width images with number and caption text -->\n      <div class=\"slide\" v-for=\"(image, index) in items\" v-show=\"isCurrent(index)\">\n        <div class=\"slide-image-container\">\n          <img v-lazy=\"image.url\">\n\n            <div class=\"slide-caption\" v-if=\"image.caption\" v-html=\"image.caption\"></div>\n        </div>\n      </div>\n\n      <!-- Next and previous buttons -->\n      <a class=\"prev flex is-flex-center\" @click=\"goToPrevSlide\" v-if=\"moreThanOne\" :title=\"trans('pagination.previous')\">\n        <b-icon icon=\"chevron-left\" size=\"is-small\" aria-hidden=\"true\" />\n      </a>\n      <a class=\"next flex is-flex-center\" @click=\"goToNextSlide\" v-if=\"moreThanOne\" :title=\"trans('pagination.next')\">\n          <b-icon icon=\"chevron-right\" size=\"is-small\" aria-hidden=\"true\" />\n      </a>\n    </div>\n\n    <tn-slider class='thumbnails' :index='item' :count='thumbnailNumber' v-if=\"withThumbnails && moreThanOne\">\n      <tn-item\n        v-for='(image,i) in items'\n        :key=\"i\"\n        @on-item-click='setCurrentSlide(i)'\n        :class=\"{'active': isCurrent(i)}\"\n      >\n        <img v-lazy=\"image.url\">\n\n        <div class=\"inner-shadow\"></div>\n      </tn-item>\n    </tn-slider>\n\n    <!-- The dots/circles -->\n    <div class=\"dots\" v-else-if=\"moreThanOne\">\n      <div\n        v-for=\"(image, index) in items\"\n        class=\"dot\"\n        :class=\"{'active': isCurrent(index)}\"\n        @click=\"setCurrentSlide(index)\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'thumbnail-slider/dist/thumbnailSlider.css'\nimport { TnSlider, TnItem } from 'thumbnail-slider'\n\nexport default {\n  name: 'nzSlider',\n\n  components: {\n    'tn-item': TnItem,\n    'tn-slider': TnSlider,\n  },\n\n  props: {\n    items: {\n      type: Array,\n      default: () => []\n    },\n\n    withThumbnails: {\n      type: Boolean,\n      default: true\n    },\n\n    thumbnailNumber: {\n      type: Number,\n      default: 5\n    }\n  },\n\n  data() {\n    return {\n      item: 0,\n    }\n  },\n\n  computed: {\n    moreThanOne() {\n      return this.items.length > 1\n    }\n  },\n\n  methods: {\n    goToPrevSlide() {\n      if (this.item > 0) {\n        this.item--\n      } else {\n        this.item = this.items.length - 1\n      }\n    },\n\n    goToNextSlide() {\n      if (this.item < this.items.length - 1) {\n        this.item++\n      } else {\n        this.item = 0\n      }\n    },\n\n    setCurrentSlide(index) {\n      this.item = index\n    },\n\n    isCurrent(index) {\n      return this.item === index\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./Slider.vue?vue&type=template&id=245d9ec5&\"\nimport script from \"./Slider.vue?vue&type=script&lang=js&\"\nexport * from \"./Slider.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"slider\"},[_c('div',{staticClass:\"slide-container\"},[_vm._l((_vm.items),function(image,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCurrent(index)),expression:\"isCurrent(index)\"}],staticClass:\"slide\"},[_c('div',{staticClass:\"slide-image-container\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(image.url),expression:\"image.url\"}]}),_vm._v(\" \"),(image.caption)?_c('div',{staticClass:\"slide-caption\",domProps:{\"innerHTML\":_vm._s(image.caption)}}):_vm._e()])])}),_vm._v(\" \"),(_vm.moreThanOne)?_c('a',{staticClass:\"prev flex is-flex-center\",attrs:{\"title\":_vm.trans('pagination.previous')},on:{\"click\":_vm.goToPrevSlide}},[_c('b-icon',{attrs:{\"icon\":\"chevron-left\",\"size\":\"is-small\",\"aria-hidden\":\"true\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.moreThanOne)?_c('a',{staticClass:\"next flex is-flex-center\",attrs:{\"title\":_vm.trans('pagination.next')},on:{\"click\":_vm.goToNextSlide}},[_c('b-icon',{attrs:{\"icon\":\"chevron-right\",\"size\":\"is-small\",\"aria-hidden\":\"true\"}})],1):_vm._e()],2),_vm._v(\" \"),(_vm.withThumbnails && _vm.moreThanOne)?_c('tn-slider',{staticClass:\"thumbnails\",attrs:{\"index\":_vm.item,\"count\":_vm.thumbnailNumber}},_vm._l((_vm.items),function(image,i){return _c('tn-item',{key:i,class:{'active': _vm.isCurrent(i)},on:{\"on-item-click\":function($event){return _vm.setCurrentSlide(i)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(image.url),expression:\"image.url\"}]}),_vm._v(\" \"),_c('div',{staticClass:\"inner-shadow\"})])}),1):(_vm.moreThanOne)?_c('div',{staticClass:\"dots\"},_vm._l((_vm.items),function(image,index){return _c('div',{staticClass:\"dot\",class:{'active': _vm.isCurrent(index)},on:{\"click\":function($event){return _vm.setCurrentSlide(index)}}})}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupTaxaSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupTaxaSearch.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"modal-card group-taxa-search\">\n    <header class=\"modal-card-head\">\n      <p class=\"modal-card-title\">{{ trans('navigation.find_in_group') }}</p>\n    </header>\n\n    <section class=\"modal-card-body\">\n      <nz-taxon-autocomplete\n        v-model=\"name\"\n        @select=\"onTaxonSelect\"\n        autofocus\n        :url=\"url\"\n        :label=\"trans('labels.field_observations.taxon')\"\n        :placeholder=\"trans('labels.field_observations.search_for_taxon')\"\n        @enter=\"visitLink\"\n      />\n    </section>\n\n    <footer class=\"modal-card-foot\" style=\"justify-content: flex-end\">\n      <a :href=\"link\" class=\"button is-primary\" :disabled=\"!link\">\n        <i class=\"fa fa-arrow-right\" />\n      </a>\n    </footer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzGroupTaxaSearch',\n\n  props: {\n    group: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      name: '',\n      selected: null\n    }\n  },\n\n  computed: {\n    link() {\n      return this.selected && this.selected.first_species_id ? route('groups.species.show', {\n        group: this.group,\n        species: this.selected.first_species_id\n      }) : null;\n    },\n\n    url() {\n      return route('api.groups.taxa.index', { group: this.group });\n    }\n  },\n\n  methods: {\n    onTaxonSelect(taxon) {\n      this.selected = taxon;\n    },\n\n    visitLink() {\n      if (this.link) {\n        window.location.href = this.link;\n      }\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./GroupTaxaSearch.vue?vue&type=template&id=3ccb195a&\"\nimport script from \"./GroupTaxaSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupTaxaSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-card group-taxa-search\"},[_c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('navigation.find_in_group')))])]),_vm._v(\" \"),_c('section',{staticClass:\"modal-card-body\"},[_c('nz-taxon-autocomplete',{attrs:{\"autofocus\":\"\",\"url\":_vm.url,\"label\":_vm.trans('labels.field_observations.taxon'),\"placeholder\":_vm.trans('labels.field_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect,\"enter\":_vm.visitLink},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('footer',{staticClass:\"modal-card-foot\",staticStyle:{\"justify-content\":\"flex-end\"}},[_c('a',{staticClass:\"button is-primary\",attrs:{\"href\":_vm.link,\"disabled\":!_vm.link}},[_c('i',{staticClass:\"fa fa-arrow-right\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupTaxaSearchButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupTaxaSearchButton.vue?vue&type=script&lang=js&\"","<template>\n  <button\n    type=\"button\"\n    class=\"button has-text-hidden-tablet-only\"\n    @click=\"showModal\"\n    :title=\"trans('navigation.find_in_group')\"\n  >\n    <b-icon\n      icon=\"search\"\n      size=\"is-small\"\n      class=\"has-text-grey\"\n    />\n\n    <span class=\"is-hidden-tablet-only\">\n      {{ trans('navigation.find_in_group') }}\n    </span>\n  </button>\n</template>\n\n<script>\nimport nzGroupTaxaSearch from './GroupTaxaSearch'\n\nexport default {\n  name: 'nzGroupTaxaSearchButton',\n\n  props: {\n    group: {\n      type: Number,\n      required: true\n    }\n  },\n\n  methods: {\n    showModal() {\n      const modal = this.$buefy.modal.open({\n        parent: this,\n        component: nzGroupTaxaSearch,\n        hasModalCard: true,\n        props: {\n            group: this.group\n        }\n      })\n\n      this.$nextTick(() => {\n        modal.$el.querySelector('input').focus()\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./GroupTaxaSearchButton.vue?vue&type=template&id=1b1ee0d9&\"\nimport script from \"./GroupTaxaSearchButton.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupTaxaSearchButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"button has-text-hidden-tablet-only\",attrs:{\"type\":\"button\",\"title\":_vm.trans('navigation.find_in_group')},on:{\"click\":_vm.showModal}},[_c('b-icon',{staticClass:\"has-text-grey\",attrs:{\"icon\":\"search\",\"size\":\"is-small\"}}),_vm._v(\" \"),_c('span',{staticClass:\"is-hidden-tablet-only\"},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('navigation.find_in_group'))+\"\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateInput.vue?vue&type=script&lang=js&\"","<template>\n  <b-field :label=\"label\">\n    <b-field expanded grouped>\n      <b-field\n        :type=\"errors.has('year') ? 'is-danger': ''\"\n        :message=\"errors.has('year') ? errors.first('year'): ''\"\n        expanded\n      >\n        <b-input :placeholder=\"placeholders.year\" :value=\"year\" @input=\"onYearInput\" />\n      </b-field>\n\n      <b-field\n        :type=\"errors.has('month') ? 'is-danger': ''\"\n        :message=\"errors.has('month') ? errors.first('month'): ''\"\n        expanded\n      >\n        <b-select :placeholder=\"placeholders.month\" :value=\"month\" @input=\"onMonthInput\" expanded>\n          <option :value=\"null\"></option>\n          <option v-for=\"(month, index) in months\" :value=\"(index + 1)\" v-text=\"month\"></option>\n        </b-select>\n      </b-field>\n\n      <b-field\n        :type=\"errors.has('day') ? 'is-danger': ''\"\n        :message=\"errors.has('day') ? errors.first('day'): ''\"\n        expanded\n      >\n        <b-select :placeholder=\"placeholders.day\" :value=\"day\" @input=\"onDayInput\" expanded>\n          <option :value=\"null\"></option>\n          <option v-for=\"day in days\" :value=\"day\" v-text=\"day\"></option>\n        </b-select>\n      </b-field>\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nimport _range from 'lodash/range'\n\nexport default {\n  name: 'nzDateInput',\n\n  props: {\n    label: {\n      type: String,\n      default: 'Date'\n    },\n\n    year: {\n      type: Number,\n      default: moment().year()\n    },\n\n    month: {\n      type: Number,\n      default: moment().month() + 1\n    },\n\n    day: {\n      type: Number,\n      default: moment().date()\n    },\n\n    placeholders: {\n      type: Object,\n      default() {\n        return {\n          year: 'Year',\n          month: 'Month',\n          day: 'Day'\n        }\n      }\n    },\n\n    errors: {\n      type: Object,\n      default: () => ({ has: () => false })\n    }\n  },\n\n  computed: {\n    now() {\n      return moment()\n    },\n\n    months() {\n      if (!this.year || this.year > moment().year()) return []\n\n      const isThisYear = this.year === moment().year()\n\n      let months = moment.months()\n\n      if (isThisYear) months.splice(moment().month() + 1)\n\n      return months\n    },\n\n    days() {\n      const haveDate = this.year && this.month\n\n      if (!haveDate) return []\n\n      const isThisMonth = this.year === moment().year() && (this.month - 1) === moment().month()\n\n      let days = moment({\n        year: this.year,\n        month: this.month - 1,\n      }).daysInMonth()\n\n      if (isThisMonth) days = moment().date()\n\n      return _range(1, days + 1)\n    }\n  },\n\n  watch: {\n    year() {\n      if (this.year > moment().year() || this.months.length < this.month -1)  {\n          this.onMonthInput(null)\n      }\n\n      this.truncateDay()\n    },\n\n    month() {\n      this.truncateDay()\n    }\n  },\n\n  methods: {\n    truncateDay() {\n      if (this.days.length < this.day)  {\n          this.onDayInput(null)\n      }\n    },\n\n    onYearInput(value) {\n      this.$emit('update:year', +value || null)\n    },\n\n    onMonthInput(value) {\n      this.$emit('update:month', value)\n    },\n\n    onDayInput(value) {\n      this.$emit('update:day', value)\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./DateInput.vue?vue&type=template&id=3bb2a982&\"\nimport script from \"./DateInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DateInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{attrs:{\"label\":_vm.label}},[_c('b-field',{attrs:{\"expanded\":\"\",\"grouped\":\"\"}},[_c('b-field',{attrs:{\"type\":_vm.errors.has('year') ? 'is-danger': '',\"message\":_vm.errors.has('year') ? _vm.errors.first('year'): '',\"expanded\":\"\"}},[_c('b-input',{attrs:{\"placeholder\":_vm.placeholders.year,\"value\":_vm.year},on:{\"input\":_vm.onYearInput}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"type\":_vm.errors.has('month') ? 'is-danger': '',\"message\":_vm.errors.has('month') ? _vm.errors.first('month'): '',\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.placeholders.month,\"value\":_vm.month,\"expanded\":\"\"},on:{\"input\":_vm.onMonthInput}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.months),function(month,index){return _c('option',{domProps:{\"value\":(index + 1),\"textContent\":_vm._s(month)}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"type\":_vm.errors.has('day') ? 'is-danger': '',\"message\":_vm.errors.has('day') ? _vm.errors.first('day'): '',\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.placeholders.day,\"value\":_vm.day,\"expanded\":\"\"},on:{\"input\":_vm.onDayInput}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.days),function(day){return _c('option',{domProps:{\"value\":day,\"textContent\":_vm._s(day)}})})],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import BaseCroppr from 'croppr'\nimport Box from 'croppr/src/box'\n\nexport default class Croppr extends BaseCroppr {\n  setBoxToRealPosition(value) {\n    const actualWidth = this.imageEl.naturalWidth\n    const actualHeight = this.imageEl.naturalHeight\n    const factorX = actualWidth / this.imageEl.offsetWidth\n    const factorY = actualHeight / this.imageEl.offsetHeight\n\n    this.box = new Box(\n      Math.round(value.x / factorX),\n      Math.round(value.y / factorY),\n      Math.round((value.x + value.width) / factorX),\n      Math.round((value.y + value.height) / factorY)\n    )\n\n    this.redraw()\n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCropModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCropModal.vue?vue&type=script&lang=js&\"","<template>\n  <transition :name=\"animation\">\n    <div v-if=\"isActive\" class=\"modal is-active\">\n      <div class=\"modal-background\"/>\n\n      <div\n        class=\"animation-content modal-content\"\n        :style=\"{ maxWidth: newWidth }\"\n      >\n        <img\n          :src=\"imageUrl\"\n          class=\"image\"\n          alt=\"Cropped image\"\n          ref=\"cropModalImage\"\n        >\n      </div>\n\n      <button\n        type=\"button\"\n        class=\"modal-close is-large\"\n        @click=\"cancel('x')\"\n      />\n\n      <button\n        type=\"button\"\n        class=\"modal-action\"\n        @click=\"cropImage\"\n      >\n        <b-icon icon=\"check\"/>\n      </button>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport Croppr from '@/Croppr'\nimport bModal from 'buefy/src/components/modal/Modal'\n\nexport default {\n  name: 'nzImageCropModal',\n\n  mixins: [bModal],\n\n  props: {\n    canCancel: {\n      type: [Array, Boolean],\n      default: () => ['escape', 'x']\n    },\n    imageUrl: String,\n    crop: Object\n  },\n\n  data() {\n    return {\n\t\t\tcroppr: null,\n      newCrop: this.crop,\n      preserveRatio: false\n    }\n  },\n\n  mounted() {\n    document.addEventListener('keydown', this.ctrlIsPressed)\n    document.addEventListener('keyup', this.ctrlIsNotPressed)\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.ctrlIsPressed)\n    document.removeEventListener('keyup', this.ctrlIsNotPressed)\n  },\n\n  watch: {\n    isActive(value) {\n      this.handleScroll()\n\n      this.croppr =  null\n\n      if (value) {\n        this.$nextTick(() => {\n          this.croppr = new Croppr(this.$refs.cropModalImage, {\n            onCropEnd: (value) => {\n              this.newCrop = value\n            },\n\n            onInitialize: (croppr) => {\n              if (this.newCrop) {\n                croppr.setBoxToRealPosition(this.newCrop)\n              }\n            }\n          })\n        })\n      }\n    }\n  },\n\n  methods: {\n    handleScroll() {\n      if (typeof window === 'undefined') return\n\n      this.savedScrollTop = !this.savedScrollTop\n        ? document.documentElement.scrollTop\n        : this.savedScrollTop\n\n      document.body.classList.toggle('is-noscroll', this.isActive)\n\n      if (this.isActive) {\n        document.body.style.top = `-${this.savedScrollTop}px`\n        return\n      }\n\n      document.documentElement.scrollTop = this.savedScrollTop\n      document.body.style.top = null\n      this.savedScrollTop = null\n    },\n\n    cropImage() {\n      this.$emit('update:crop', this.newCrop)\n\n      this.close()\n    },\n\n    ctrlIsPressed(e) {\n      if (e.which == 17 && this.croppr) {\n        this.croppr.options.aspectRatio = this.croppr.box.height() / this.croppr.box.width()\n      }\n    },\n\n    ctrlIsNotPressed(e) {\n      if (e.which == 17  && this.croppr) {\n        this.croppr.options.aspectRatio = null\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoUpload.vue?vue&type=script&lang=js&\"","<template>\n\t<b-field v-if=\"!haveImage\" :message=\"error || null\" :type=\"error ? 'is-danger' : null\" expanded>\n\t\t<b-upload @input=\"onInput\" drag-drop type=\"is-fullwidth\">\n\t\t\t<section class=\"section\">\n\t\t\t\t<div class=\"has-text-centered\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<b-icon\n\t\t\t\t\t\t\ticon=\"upload\"\n\t\t\t\t\t\t\tsize=\"is-medium\">\n\t\t\t\t\t\t</b-icon>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<progress class=\"progress is-primary is-small\" :value=\"progress\" max=\"100\" v-if=\"uploading\">{{ progress }}%</progress>\n\n\t\t\t\t\t<div v-else>{{ text }}</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</b-upload>\n\t</b-field>\n\n\t<div class=\"card\" v-else>\n\t\t<div class=\"card-image\">\n\t\t\t<figure class=\"has-magnifier has-text-centered\" @click=\"showModal = true\">\n\t\t\t\t<img :src=\"thumbnailUrl\" alt=\"Uploaded photo\" class=\"max-h-36\" />\n\t\t\t\t<div class=\"image-magnifier\">\n\t\t\t\t\t<b-icon icon=\"expand\" size=\"is-medium\" />\n\t\t\t\t</div>\n\t\t\t</figure>\n\t  </div>\n\n\t\t<footer class=\"card-footer\" v-if=\"haveImage\">\n\t\t\t<div class=\"card-footer-item flex-col\">\n\t\t\t\t<div class=\"mb-4 w-full flex justify-between\">\n\t\t\t\t\t<button\n            type=\"button\"\n            class=\"button is-outlined is-small mr-2\"\n            v-if=\"withCrop\"\n            @click=\"openCropModal\"\n            @close=\"closeCropModal\"\n          >\n            <b-icon icon=\"crop\" />\n          </button>\n\n\t\t\t\t\t<button type=\"button\" class=\"delete is-danger is-medium\" @click=\"remove\" v-if=\"image.path || hasExisting\"></button>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"w-full\" v-if=\"withLicense\">\n\t\t\t\t\t<b-select :value=\"image.license\" @input=\"handleLicenseChanged\" expanded>\n\t\t\t\t\t\t<option :value=\"null\">{{ trans('labels.field_observations.default') }}</option>\n\t\t\t\t\t\t<option v-for=\"(label, value) in licenses\" :value=\"value\" v-text=\"label\"></option>\n\t\t\t\t\t</b-select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</footer>\n\n\t\t<nz-image-crop-modal :active.sync=\"showCropModal\" :crop.sync=\"image.crop\" :image-url=\"image.url\" v-if=\"haveImage\"/>\n\n\t\t<nz-image-modal :items=\"[thumbnailUrl]\" v-if=\"showModal\" @close=\"showModal = false\"/>\n\t</div>\n</template>\n\n<script>\nimport loadImage from 'blueimp-load-image'\nimport NzImageCropModal from '@/components/ImageCropModal'\n\nexport default {\n\tname: 'nzPhotoUpload',\n\n  components: {\n    NzImageCropModal\n  },\n\n  props: {\n\t\timageUrl: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\timagePath: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t},\n\t\timageLicense: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: null\n\t\t},\n\t\tlicenses: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\ttext: String,\n\t\twithLicense: {\n      type: Boolean,\n      default: true\n    },\n    withCrop: {\n      type: Boolean,\n      default: true\n    }\n\t},\n\n  data() {\n    return {\n    \timage: {\n\t\t\t\turl: this.imageUrl,\n\t\t\t\tpath: this.imagePath,\n\t\t\t\tcrop: null,\n\t\t\t\tlicense: this.imageLicense\n\t\t\t},\n\t\t\tcroppedImageUrl: null,\n\t\t\treader: null,\n\t\t\tuploading: false,\n\t\t\tprogress: 0,\n\t\t\thasExisting: !!this.imageUrl,\n\t\t\terror: null,\n\t\t\tshowCropModal: false,\n\t\t\tshowModal: false\n    }\n  },\n\n\twatch: {\n\t\t'image.crop': function (value) {\n\t\t\tthis.$emit('cropped', this.image)\n\n\t\t\tif (!value) {\n\t\t\t\tthis.croppedImageUrl = null\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.cropThumbnail(value)\n\t\t}\n\t},\n\n\tcomputed: {\n\t\thaveImage() {\n\t\t\treturn !!this.image.url\n\t\t},\n\n\t\tthumbnailUrl() {\n\t\t\treturn this.croppedImageUrl || this.image.url\n\t\t}\n\t},\n\n\tmethods: {\n\t\tselectImage() {\n\t\t\tthis.$refs.input.click()\n\t\t},\n\n\t\tonInput(file) {\n\t\t\tthis.error = null\n\n\t\t\tif (!file) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.upload(file)\n\t\t},\n\n\t\tupload(file) {\n\t\t\tthis.uploading = true\n\t\t\treturn axios.post(route('api.photo-uploads.store'), this.makeForm(file), {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t\tAccept: 'application/json'\n\t\t\t\t},\n\t\t\t\tonUploadProgress: progressEvent => {\n\t\t\t\t   this.progress = Math.floor((progressEvent.loaded * 100) / progressEvent.total)\n\t\t\t\t}\n\t\t\t}).then(response => {\n\t\t\t\tthis.image.path = response.data.file\n\t\t\t\tthis.image.exif = response.data.exif\n\t\t\t\tthis.image.license = null\n\t\t\t\tthis.uploading = false\n\t\t\t\tthis.progress = 0\n\n\t\t\t\tthis.$emit('uploaded', this.image)\n\n        loadImage(file, canvas => {\n          this.image.url = canvas.toDataURL()\n        }, { orientation: true })\n\t\t\t}).catch(this.handleError)\n\t\t},\n\n\t\tmakeForm(file) {\n\t\t\tlet form = new FormData()\n\n\t\t\tform.append('file', file)\n\n\t\t\treturn form\n\t\t},\n\n\t\tremove() {\n\t\t\tif (this.hasExisting) {\n\t\t\t\tthis.hasExisting = false\n\t\t\t\treturn this.clearPhoto()\n\t\t\t}\n\n\t\t\taxios.delete(route('api.photo-uploads.destroy', this.image.path)).then(() => {\n\t\t\t\tthis.clearPhoto()\n\t\t\t})\n\t\t},\n\n\t\tclearPhoto() {\n\t\t\tthis.$emit('removed', this.image)\n\n\t\t\tthis.image.path = null\n\t\t\tthis.image.url = null\n\t\t\tthis.image.crop = null\n\t\t\tthis.image.license = null\n\t\t\tthis.croppedImageUrl = null\n\t\t},\n\n\t\thandleError(error) {\n\t\t\tthis.uploading = false\n\t\t\tthis.progress = 0\n\t\t\tthis.image.url = null\n\t\t\t// Clear the input so we can select the same image if needed.\n\t\t\tthis.$el.querySelector('input[type=\"file\"]').value = ''\n\n\t\t\tif (!error.response) {\n\t\t\t\treturn this.$buefy.toast.open({\n\t\t\t\t\tduration: 5000,\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\tposition: 'is-top',\n\t\t\t\t\ttype: 'is-danger'\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.error = error.response.data.errors.file[0] || this.trans('Error')\n\t\t},\n\n\t\topenCropModal() {\n\t\t\tthis.showCropModal = true\n\t\t},\n\n\t\tcloseCropModal() {\n\t\t\tthis.showCropModal = false\n\t\t},\n\n\t\tcropThumbnail(crop) {\n\t\t\t// Create image\n\t\t\tconst image = document.createElement('img')\n\t\t\timage.src = this.image.url\n\n\t\t\t// Draw canvas\n\t\t\tconst canvas = document.createElement('canvas')\n\n  \t\tcanvas.setAttribute('width', crop.width)\n  \t\tcanvas.setAttribute('height', crop.height)\n\n  \t\tconst context = canvas.getContext('2d')\n  \t\tcontext.drawImage(image, -crop.x, -crop.y)\n\n\t\t\tthis.croppedImageUrl = canvas.toDataURL()\n\t\t},\n\n\t\t/**\n\t\t * Handle license change.\n\t\t *\n\t\t * @param {String|Number} license\n\t\t */\n\t\thandleLicenseChanged(license) {\n\t\t\tthis.image.license = license\n\t\t\tthis.$emit('license-changed', license)\n\t\t}\n\t}\n}\n</script>\n","import { render, staticRenderFns } from \"./ImageCropModal.vue?vue&type=template&id=035960ca&\"\nimport script from \"./ImageCropModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageCropModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":_vm.animation}},[(_vm.isActive)?_c('div',{staticClass:\"modal is-active\"},[_c('div',{staticClass:\"modal-background\"}),_vm._v(\" \"),_c('div',{staticClass:\"animation-content modal-content\",style:({ maxWidth: _vm.newWidth })},[_c('img',{ref:\"cropModalImage\",staticClass:\"image\",attrs:{\"src\":_vm.imageUrl,\"alt\":\"Cropped image\"}})]),_vm._v(\" \"),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancel('x')}}}),_vm._v(\" \"),_c('button',{staticClass:\"modal-action\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cropImage}},[_c('b-icon',{attrs:{\"icon\":\"check\"}})],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./PhotoUpload.vue?vue&type=template&id=80bd6a88&\"\nimport script from \"./PhotoUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotoUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.haveImage)?_c('b-field',{attrs:{\"message\":_vm.error || null,\"type\":_vm.error ? 'is-danger' : null,\"expanded\":\"\"}},[_c('b-upload',{attrs:{\"drag-drop\":\"\",\"type\":\"is-fullwidth\"},on:{\"input\":_vm.onInput}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"has-text-centered\"},[_c('div',[_c('b-icon',{attrs:{\"icon\":\"upload\",\"size\":\"is-medium\"}})],1),_vm._v(\" \"),(_vm.uploading)?_c('progress',{staticClass:\"progress is-primary is-small\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.progress}},[_vm._v(_vm._s(_vm.progress)+\"%\")]):_c('div',[_vm._v(_vm._s(_vm.text))])])])])],1):_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-image\"},[_c('figure',{staticClass:\"has-magnifier has-text-centered\",on:{\"click\":function($event){_vm.showModal = true}}},[_c('img',{staticClass:\"max-h-36\",attrs:{\"src\":_vm.thumbnailUrl,\"alt\":\"Uploaded photo\"}}),_vm._v(\" \"),_c('div',{staticClass:\"image-magnifier\"},[_c('b-icon',{attrs:{\"icon\":\"expand\",\"size\":\"is-medium\"}})],1)])]),_vm._v(\" \"),(_vm.haveImage)?_c('footer',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"card-footer-item flex-col\"},[_c('div',{staticClass:\"mb-4 w-full flex justify-between\"},[(_vm.withCrop)?_c('button',{staticClass:\"button is-outlined is-small mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openCropModal,\"close\":_vm.closeCropModal}},[_c('b-icon',{attrs:{\"icon\":\"crop\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.image.path || _vm.hasExisting)?_c('button',{staticClass:\"delete is-danger is-medium\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.remove}}):_vm._e()]),_vm._v(\" \"),(_vm.withLicense)?_c('div',{staticClass:\"w-full\"},[_c('b-select',{attrs:{\"value\":_vm.image.license,\"expanded\":\"\"},on:{\"input\":_vm.handleLicenseChanged}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.default')))]),_vm._v(\" \"),_vm._l((_vm.licenses),function(label,value){return _c('option',{domProps:{\"value\":value,\"textContent\":_vm._s(label)}})})],2)],1):_vm._e()])]):_vm._e(),_vm._v(\" \"),(_vm.haveImage)?_c('nz-image-crop-modal',{attrs:{\"active\":_vm.showCropModal,\"crop\":_vm.image.crop,\"image-url\":_vm.image.url},on:{\"update:active\":function($event){_vm.showCropModal=$event},\"update:crop\":function($event){return _vm.$set(_vm.image, \"crop\", $event)}}}):_vm._e(),_vm._v(\" \"),(_vm.showModal)?_c('nz-image-modal',{attrs:{\"items\":[_vm.thumbnailUrl]},on:{\"close\":function($event){_vm.showModal = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpatialInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpatialInput.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"spatial-input\">\n    <b-field :label=\"trans('labels.field_observations.map')\" class=\"is-required\">\n      <gmap-map\n        style=\"width: 100%; min-height: 400px\"\n        :center=\"centerCoordinates\"\n        :zoom=\"center.zoom\"\n        @click=\"setMarker\"\n        @zoom_changed=\"onZoomChanged\"\n        :options=\"{streetViewControl:false}\"\n      >\n        <gmap-marker\n          :position=\"position\"\n          :clickable=\"true\"\n          :draggable=\"true\"\n          @dragend=\"setMarker\"\n        />\n\n        <gmap-circle\n          v-if=\"position && newAccuracy\"\n          :center=\"position\"\n          :radius=\"newAccuracy\"\n          :editable=\"true\"\n          @radius_changed=\"updateRadius\"\n          :options=\"{ strokeWeight: .75 }\"\n        />\n      </gmap-map>\n    </b-field>\n\n    <div class=\"has-text-right\">\n      <span v-if=\"mapHasErrors\" class=\"has-text-danger is-size-7\">{{ trans('Some fields have errors') }}</span>\n\n      <button type=\"button\" class=\"button is-white is-small is-text\" :class=\"{'has-text-danger': mapHasErrors}\" @click=\"showDetails = !showDetails\">{{ trans('labels.field_observations.details') }}</button>\n    </div>\n\n    <div v-show=\"showDetails\">\n      <div class=\"field is-grouped\">\n        <div class=\"field is-expanded is-required\">\n          <label class=\"label is-small\">{{ trans('labels.field_observations.latitude') }}</label>\n\n          <div class=\"control is-fullwidth\">\n            <input class=\"input is-small\" :class=\"{'is-danger': errors.has('latitude')}\" :value=\"latitude\" @input=\"onLatitudeInput\" placeholder=\"f.e. 42.5234\">\n          </div>\n\n          <p class=\"help is-danger\" v-if=\"errors.has('latitude')\" v-text=\"errors.first('latitude')\"></p>\n        </div>\n\n        <div class=\"field is-expanded is-required\">\n          <label class=\"label is-small\">{{ trans('labels.field_observations.longitude') }}</label>\n\n          <div class=\"control is-fullwidth\">\n            <input class=\"input is-small\" :class=\"{'is-danger': errors.has('longitude')}\" :value=\"longitude\" @input=\"onLongitudeInput\" placeholder=\"f.e. 19.1234\">\n          </div>\n\n          <p class=\"help is-danger\" v-if=\"errors.has('longitude')\" v-text=\"errors.first('longitude')\"></p>\n        </div>\n      </div>\n\n      <div class=\"field is-grouped\">\n        <div class=\"field is-expanded\">\n          <label class=\"label is-small\">{{ trans('labels.field_observations.accuracy_m') }}</label>\n\n          <div class=\"control is-fullwidth\">\n            <input class=\"input is-small\" :value=\"accuracy\" @input=\"onAccuracyInput\" placeholder=\"f.e. 100\">\n          </div>\n\n          <p class=\"help is-danger\" v-if=\"errors.has('accuracy')\" v-text=\"errors.first('accuracy')\"></p>\n        </div>\n\n        <div class=\"field is-expanded is-required\">\n          <label class=\"label is-small\">{{ trans('labels.field_observations.elevation_m') }}</label>\n\n          <div class=\"control is-fullwidth\">\n            <input class=\"input is-small\" :value=\"elevation\" @input=\"onElevationInput\" placeholder=\"f.e. 500\">\n          </div>\n\n          <p class=\"help is-danger\" v-if=\"errors.has('elevation')\" v-text=\"errors.first('elevation')\"></p>\n        </div>\n      </div>\n\n      <div class=\"field is-expanded\">\n        <label class=\"label is-small\">{{ trans('labels.field_observations.location') }}</label>\n\n        <div class=\"control is-fullwidth\">\n          <input class=\"input is-small\" :class=\"{'is-danger': errors.has('location')}\" :value=\"location\" @input=\"onLocationInput\" placeholder=\"Location\">\n        </div>\n\n        <p class=\"help is-danger\" v-if=\"errors.has('location')\" v-text=\"errors.first('location')\"></p>\n      </div>\n\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nimport _debounce from 'lodash/debounce'\n\nconst ZOOM_ONE = 6144000\n\nexport default {\n  name: 'nzSpatialInput',\n\n  props: {\n    accuracy: Number,\n    elevation: {\n      type: Number,\n      default: 100\n    },\n    latitude: {\n      type: Number,\n      default: 41.0\n    },\n    longitude: {\n      type: Number,\n      default: 19.0\n    },\n    location: {\n      type: [String, Number],\n      default: ''\n    },\n    errors: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    hasOtherErrors: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      emptyAccuracy: this.calculateEmptyAccuracy(window.App.gmaps.center.zoom),\n      showDetails: false,\n      elevationService: null,\n      center: window.App.gmaps.center\n    }\n  },\n\n  computed: {\n    /**\n     * Position object from coordinates.\n     *\n     * @return {Object}\n     */\n    position() {\n      if (!this.coordinatesSet) {\n        return null\n      }\n\n      return {lat: this.latitude, lng: this.longitude}\n    },\n\n    /**\n     * Check if coordinate are set.\n     *\n     * @return {Boolean}\n     */\n    coordinatesSet() {\n      return !(isNaN(this.latitude)||\n        this.latitude === null ||\n        isNaN(this.longitude) ||\n        this.longitude === null\n      )\n    },\n\n    /**\n     * Check if any of the fields has an error.\n     *\n     * @return {Boolean}\n     */\n    mapHasErrors() {\n      return this.hasOtherErrors ||\n          this.errors.has('latitude') ||\n          this.errors.has('longitude') ||\n          this.errors.has('elevation') ||\n          this.errors.has('accuracy') ||\n          this.errors.has('location')\n    },\n\n    newAccuracy () {\n      return this.accuracy || this.emptyAccuracy\n    },\n\n    centerCoordinates() {\n      return this.position || {\n        lat: this.center.latitude,\n        lng: this.center.longitude\n      }\n    }\n  },\n\n  watch: {\n    /**\n     * Get elevation when coordinates change.\n     */\n    position(value) {\n      if (this.coordinatesSet) {\n        this.getElevation(value)\n      }\n    },\n  },\n\n  created() {\n    this.setCurrentLocationAsMapCenter()\n  },\n\n  methods: {\n    /**\n     * Cast to number or null.\n     *\n     * @param  {any} value\n     * @return {Number}\n     */\n    castNumber(value) {\n      return isNaN(value) || value === '' ? null : Number(value)\n    },\n\n    /**\n     * Handle location input.\n     * @param {Object} event\n     */\n    onLocationInput(event) {\n      this.updateLocation(event.target.value)\n    },\n\n    /**\n     * Sync location property.\n     *\n     * @param {String} value\n     */\n    updateLocation(value) {\n      this.$emit('update:location', value)\n    },\n\n    /**\n     * Handle longitude input.\n     * @param  {[type]} event [description]\n     * @return {[type]}       [description]\n     */\n    onLongitudeInput: _debounce(function (event) {\n      this.updateLongitude(event.target.value)\n    }, 1000),\n\n    /**\n     * Sync longitude property.\n     *\n     * @param {Number} value\n     */\n    updateLongitude(value) {\n      this.$emit('update:longitude', this.castNumber(value))\n    },\n\n    /**\n     * Handle latitude input.\n     *\n     * @param {Object} event\n     */\n    onLatitudeInput: _debounce(function (event) {\n      this.updateLatitude(event.target.value)\n    }, 1000),\n\n    /**\n     * Sync latitude property.\n     *\n     * @param {Number} value\n     */\n    updateLatitude(value) {\n      this.$emit('update:latitude', this.castNumber(value))\n    },\n\n    /**\n    * Handle accuracy input.\n    *\n    * @param {Object} event\n    */\n    onAccuracyInput: _debounce(function (event) {\n      this.updateAccuracy(event.target.value)\n    }, 1000),\n\n    /**\n     * Sync accuracy property.\n     *\n     * @param {Number} value\n     */\n    updateAccuracy(value) {\n      this.$emit('update:accuracy', this.castNumber(value))\n    },\n\n    /**\n     * Handle elevation input.\n     *\n     * @param {Object} event\n     */\n    onElevationInput(event) {\n      this.updateElevation(event.target.value)\n    },\n\n    /**\n     * Sync elevation property.\n     *\n     * @param {Number} value\n     */\n    updateElevation(value) {\n      this.$emit('update:elevation', this.castNumber(value))\n    },\n\n    /**\n     * Update coordinates from marker position.\n     *\n     * @param {Object} position\n     */\n    setMarker(position) {\n      let lat = position.latLng.lat()\n      let lng = position.latLng.lng()\n\n      this.updateLatitude(lat)\n      this.updateLongitude(lng)\n    },\n\n    /**\n     * Update accuracy from circle radius on gmaps.\n     *\n     * @param  {Number} value\n     */\n    updateRadius(value) {\n      let radius = parseInt(value)\n\n      if (this.accuracy === null && radius === this.emptyAccuracy) {\n        return\n      }\n\n      this.updateAccuracy(radius)\n    },\n\n    /**\n     * Get elevation using Google's service.\n     *\n     * @param  {Object} position\n     */\n    getElevation(position) {\n      // Do nothing if we still don't have gmaps library loaded.\n      if (!google || !google.maps || !google.maps.ElevationService) {\n        return\n      }\n\n      // We don't initialize service when component is created\n      // because Gmap library probably isn't loaded yet,\n      // so we do it on first use of this method.\n      if (!this.elevationService) {\n        this.elevationService = new google.maps.ElevationService()\n      }\n\n      this.elevationService.getElevationForLocations({\n        locations: [position]\n      }, (results, status) => {\n        if (status != google.maps.ElevationStatus.OK || !results.length) {\n          return\n        }\n\n        const elevation = parseInt(results[0].elevation)\n\n        this.$emit('elevation-fetched', elevation)\n\n        this.updateElevation(elevation)\n      })\n    },\n\n    /**\n     * Recalculate default accuracy when zoom is changed.\n     * @param  {Number} zoom\n     */\n    onZoomChanged(zoom) {\n      this.emptyAccuracy = this.calculateEmptyAccuracy(zoom)\n    },\n\n    /**\n     * Calculate accuracy based on map zoom.\n     * @param  {Number} zoom\n     * @return {Number}\n     */\n    calculateEmptyAccuracy(zoom) {\n      return parseInt(ZOOM_ONE / Math.pow(2, zoom))\n    },\n\n    /**\n     * Use browser location to set map center.\n     */\n    setCurrentLocationAsMapCenter() {\n      // We don't want to use this feature if the marker is set.\n      if (!navigator.geolocation || this.position) {\n        return\n      }\n\n      navigator.geolocation.getCurrentPosition(position => {\n        if (this.position) {\n          return\n        }\n\n        this.center.latitude = position.coords.latitude\n        this.center.longitude = position.coords.longitude\n        this.center.zoom = 10\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./SpatialInput.vue?vue&type=template&id=6d8e5d56&\"\nimport script from \"./SpatialInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SpatialInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spatial-input\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.field_observations.map')}},[_c('gmap-map',{staticStyle:{\"width\":\"100%\",\"min-height\":\"400px\"},attrs:{\"center\":_vm.centerCoordinates,\"zoom\":_vm.center.zoom,\"options\":{streetViewControl:false}},on:{\"click\":_vm.setMarker,\"zoom_changed\":_vm.onZoomChanged}},[_c('gmap-marker',{attrs:{\"position\":_vm.position,\"clickable\":true,\"draggable\":true},on:{\"dragend\":_vm.setMarker}}),_vm._v(\" \"),(_vm.position && _vm.newAccuracy)?_c('gmap-circle',{attrs:{\"center\":_vm.position,\"radius\":_vm.newAccuracy,\"editable\":true,\"options\":{ strokeWeight: .75 }},on:{\"radius_changed\":_vm.updateRadius}}):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"has-text-right\"},[(_vm.mapHasErrors)?_c('span',{staticClass:\"has-text-danger is-size-7\"},[_vm._v(_vm._s(_vm.trans('Some fields have errors')))]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"button is-white is-small is-text\",class:{'has-text-danger': _vm.mapHasErrors},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showDetails = !_vm.showDetails}}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.details')))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDetails),expression:\"showDetails\"}]},[_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.latitude')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('latitude')},attrs:{\"placeholder\":\"f.e. 42.5234\"},domProps:{\"value\":_vm.latitude},on:{\"input\":_vm.onLatitudeInput}})]),_vm._v(\" \"),(_vm.errors.has('latitude'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('latitude'))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.longitude')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('longitude')},attrs:{\"placeholder\":\"f.e. 19.1234\"},domProps:{\"value\":_vm.longitude},on:{\"input\":_vm.onLongitudeInput}})]),_vm._v(\" \"),(_vm.errors.has('longitude'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('longitude'))}}):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"field is-expanded\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.accuracy_m')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",attrs:{\"placeholder\":\"f.e. 100\"},domProps:{\"value\":_vm.accuracy},on:{\"input\":_vm.onAccuracyInput}})]),_vm._v(\" \"),(_vm.errors.has('accuracy'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('accuracy'))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.elevation_m')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",attrs:{\"placeholder\":\"f.e. 500\"},domProps:{\"value\":_vm.elevation},on:{\"input\":_vm.onElevationInput}})]),_vm._v(\" \"),(_vm.errors.has('elevation'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('elevation'))}}):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.location')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('location')},attrs:{\"placeholder\":\"Location\"},domProps:{\"value\":_vm.location},on:{\"input\":_vm.onLocationInput}})]),_vm._v(\" \"),(_vm.errors.has('location'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('location'))}}):_vm._e()]),_vm._v(\" \"),_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-field :label=\"label\" class=\"nz-publication-autocomplete\" :type=\"error ? 'is-danger' : null\" :message=\"message\">\n    <b-field grouped>\n      <b-autocomplete\n        :value=\"value\"\n        :data=\"data\"\n        field=\"citation\"\n        :loading=\"loading\"\n        @input=\"onInput\"\n        @select=\"onSelect\"\n        :icon=\"icon\"\n        :placeholder=\"placeholder\"\n        expanded\n        :autofocus=\"autofocus\"\n        :disabled=\"disabled\"\n      >\n        <template slot-scope=\"props\">\n          <div class=\"media\">\n            <div class=\"media-content\">\n              {{ props.option.citation }}\n            </div>\n          </div>\n        </template>\n      </b-autocomplete>\n\n      <slot />\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nimport axios from 'axios'\nimport _debounce from 'lodash/debounce'\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'nzPublicationAutocomplete',\n\n  props: {\n    label: {\n      type: String,\n      default: 'Publication'\n    },\n    placeholder: {\n      type: String,\n      default: 'Search for publication...'\n    },\n    publication: {\n      type: Object,\n      default: null\n    },\n    route: {\n      type: String,\n      default: 'api.autocomplete.publications.index'\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    error: Boolean,\n    message: {\n      type: String,\n      default: null\n    },\n    except: {},\n    autofocus: Boolean,\n    disabled: Boolean\n  },\n\n  data() {\n    return {\n      data: [],\n      selected: this.publication || null,\n      loading: false\n    }\n  },\n\n  computed: {\n    icon() {\n      return this.selected ? 'check' : 'search'\n    }\n  },\n\n  watch: {\n    publication(value) {\n      this.selected = value\n    }\n  },\n\n  methods: {\n    fetchData: _debounce(function() {\n      if (!this.value) return\n\n      this.data = []\n      this.loading = true\n\n      let params = {\n        citation: this.value,\n      }\n\n      if (this.except) {\n        params.except = this.except\n      }\n\n      axios.get(route(this.route), { params }).then(({ data }) => {\n        data.data.forEach((item) => this.data.push(item))\n        this.loading = false\n      }, response => {\n        this.loading = false\n      })\n    }, 500),\n\n    onSelect(user) {\n      this.selected = user\n\n      this.$emit('select', user)\n    },\n\n    onInput(value) {\n      const currentValue = this.getValue(this.selected)\n      if (currentValue && currentValue !== value) {\n          this.onSelect(null)\n      }\n\n      this.$emit('input', value)\n\n      this.fetchData()\n    },\n\n    focusOnInput() {\n      this.$el.querySelector('input').focus()\n    },\n\n    /**\n     * Return display text for the input.\n     * If object, get value from path, or else just the value.\n     */\n    getValue(option) {\n      if (!option) return\n\n      return typeof option === 'object'\n        ? _get(option, 'citation')\n        : option\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationAutocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationAutocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicationAutocomplete.vue?vue&type=template&id=84ec607a&\"\nimport script from \"./PublicationAutocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationAutocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"nz-publication-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"citation\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus,\"disabled\":_vm.disabled},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(props.option.citation)+\"\\n          \")])])]}}])}),_vm._v(\" \"),_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-field :label=\"label\" class=\"nz-taxon-autocomplete\" :type=\"error ? 'is-danger' : null\" :message=\"message\">\n    <b-field grouped>\n      <img width=\"32\" :src=\"this.selected.thumbnail_url\" v-if=\"haveThumbnail\">\n\n      <b-autocomplete\n        ref=\"autocomplete\"\n        :value=\"value\"\n        :data=\"data\"\n        field=\"name\"\n        :loading=\"loading\"\n        @input=\"onInput\"\n        @select=\"onSelect\"\n        :icon=\"icon\"\n        :placeholder=\"placeholder\"\n        expanded\n        :autofocus=\"autofocus\"\n        @keydown.native.enter=\"enterPressed\"\n      >\n        <template slot-scope=\"props\">\n          <div class=\"media\">\n            <div class=\"media-left\">\n              <img width=\"32\" :src=\"props.option.thumbnail_url\" v-if=\"props.option.thumbnail_url\">\n            </div>\n\n            <div class=\"media-content\">\n              {{ props.option.name }}{{ props.option.native_name ? ` (${props.option.native_name})` : ''}}\n            </div>\n          </div>\n        </template>\n\n      </b-autocomplete>\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nimport axios from 'axios'\nimport _debounce from 'lodash/debounce'\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'nzTaxonAutocomplete',\n\n  props: {\n    label: {\n      type: String,\n      default: 'Taxon'\n    },\n    placeholder: {\n      type: String,\n      default: 'Search for taxon...'\n    },\n    taxon: {\n      type: Object,\n      default: null\n    },\n    url: {\n      type: String,\n      default: () => route('api.taxa.index')\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    error: Boolean,\n    message: {\n      type: String,\n      default: null\n    },\n    except: {},\n    autofocus: Boolean\n  },\n\n  data() {\n    return {\n      data: [],\n      selected: this.taxon || null,\n      loading: false\n    }\n  },\n\n  computed: {\n    haveThumbnail() {\n      return this.selected && this.selected.thumbnail_url\n    },\n\n    icon() {\n      return this.selected ? 'check' : 'search'\n    }\n  },\n\n  watch: {\n    taxon(value) {\n      this.selected = value\n    }\n  },\n\n  methods: {\n    fetchData: _debounce(function() {\n      if (!this.value) return\n\n      this.data = []\n      this.loading = true\n\n      let params = {\n        name: this.value,\n        limit: 20,\n      }\n\n      if (this.except) {\n        params.except = this.except\n      }\n\n      axios.get(this.url, {\n        params\n      }).then(({\n        data\n      }) => {\n        data.data.forEach(item => this.data.push(item))\n        this.loading = false\n      }, response => {\n        this.loading = false\n      })\n    }, 500),\n\n    onSelect(taxon) {\n      this.selected = taxon\n\n      this.$emit('select', taxon)\n    },\n\n    onInput(value) {\n      const currentValue = this.getValue(this.selected)\n      if (currentValue && currentValue !== value) {\n        this.onSelect(null)\n      }\n\n      this.$emit('input', value)\n\n      this.fetchData()\n    },\n\n    focusOnInput() {\n      this.$el.querySelector('input').focus()\n    },\n\n    /**\n     * Return display text for the input.\n     * If object, get value from path, or else just the value.\n     */\n    getValue(option) {\n      if (!option) return\n\n      return typeof option === 'object'\n        ? _get(option, 'name')\n        : option\n    },\n\n    enterPressed() {\n      if (!this.$refs.autocomplete.isActive) {\n        this.$emit('enter')\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonAutocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonAutocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaxonAutocomplete.vue?vue&type=template&id=cedb826c&\"\nimport script from \"./TaxonAutocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./TaxonAutocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"nz-taxon-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[(_vm.haveThumbnail)?_c('img',{attrs:{\"width\":\"32\",\"src\":this.selected.thumbnail_url}}):_vm._e(),_vm._v(\" \"),_c('b-autocomplete',{ref:\"autocomplete\",attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"name\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enterPressed($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[(props.option.thumbnail_url)?_c('img',{attrs:{\"width\":\"32\",\"src\":props.option.thumbnail_url}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(props.option.name)+_vm._s(props.option.native_name ? (\" (\" + (props.option.native_name) + \")\") : '')+\"\\n          \")])])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-field :label=\"label\" class=\"nz-user-autocomplete\" :type=\"error ? 'is-danger' : null\" :message=\"message\">\n    <b-field grouped>\n      <b-autocomplete\n        :value=\"value\"\n        :data=\"data\"\n        field=\"full_name\"\n        :loading=\"loading\"\n        @input=\"onInput\"\n        @select=\"onSelect\"\n        :icon=\"icon\"\n        :placeholder=\"placeholder\"\n        expanded\n        :autofocus=\"autofocus\"\n        :disabled=\"disabled\"\n      >\n        <template slot-scope=\"props\">\n          <div class=\"media\">\n            <div class=\"media-content\">\n              {{ props.option.full_name }} <small>&lt;{{ props.option.email }}&gt;</small>\n            </div>\n          </div>\n        </template>\n\n      </b-autocomplete>\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nimport axios from 'axios'\nimport _debounce from 'lodash/debounce'\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'nzUserAutocomplete',\n\n  props: {\n    label: {\n      type: String,\n      default: 'User'\n    },\n    placeholder: {\n      type: String,\n      default: 'Search for user...'\n    },\n    user: {\n      type: Object,\n      default: null\n    },\n    route: {\n      type: String,\n      default: 'api.autocomplete.users.index'\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    error: Boolean,\n    message: {\n      type: String,\n      default: null\n    },\n    except: {},\n    autofocus: Boolean,\n    disabled: Boolean\n  },\n\n  data() {\n    return {\n      data: [],\n      selected: this.user || null,\n      loading: false\n    }\n  },\n\n  computed: {\n    icon() {\n      return this.selected ? 'check' : null\n    }\n  },\n\n  watch: {\n    user(value) {\n      this.selected = value\n    }\n  },\n\n  methods: {\n    fetchData: _debounce(function() {\n      if (!this.value) return\n\n      this.data = []\n      this.loading = true\n\n      let params = {\n        name: this.value,\n      }\n\n      if (this.except) {\n        params.except = this.except\n      }\n\n      axios.get(route(this.route), { params }).then(({ data }) => {\n        data.data.forEach((item) => this.data.push(item))\n        this.loading = false\n      }, response => {\n        this.loading = false\n      })\n    }, 500),\n\n    onSelect(user) {\n      this.selected = user\n\n      this.$emit('select', user)\n    },\n\n    onInput(value) {\n      const currentValue = this.getValue(this.selected)\n      if (currentValue && currentValue !== value) {\n        this.onSelect(null)\n      }\n\n      this.$emit('input', value)\n\n      this.fetchData()\n    },\n\n    focusOnInput() {\n      this.$el.querySelector('input').focus()\n    },\n\n    /**\n     * Return display text for the input.\n     * If object, get value from path, or else just the value.\n     */\n    getValue(option) {\n      if (!option) return\n\n      return typeof option === 'object'\n        ? _get(option, 'full_name')\n        : option\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAutocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAutocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAutocomplete.vue?vue&type=template&id=5566d9c1&\"\nimport script from \"./UserAutocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAutocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"nz-user-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"full_name\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus,\"disabled\":_vm.disabled},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(props.option.full_name)+\" \"),_c('small',[_vm._v(\"<\"+_vm._s(props.option.email)+\">\")])])])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wysiwyg\">\n    <input :id=\"inputId\" type=\"hidden\" :name=\"name\" :value=\"value\" ref=\"input\">\n\n    <trix-editor ref=\"trix\" :input=\"inputId\"></trix-editor>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport Trix from 'trix'\n\nVue.config.ignoredElements = ['trix-editor']\n\nlet { lang } = Trix.config\n\nTrix.config.toolbar = {\n  getDefaultHTML: () => `\n    <div class=\"trix-button-row\">\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\" tabindex=\"-1\">${lang.bold}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\" tabindex=\"-1\">${lang.italic}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"#{lang.strike}\" tabindex=\"-1\">${lang.strike}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"${lang.link}\" tabindex=\"-1\">${lang.link}</button>\n      </span>\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\" tabindex=\"-1\">${lang.undo}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\" tabindex=\"-1\">${lang.redo}</button>\n      </span>\n    </div>\n    <div class=\"trix-dialogs\" data-trix-dialogs>\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n        <div class=\"trix-dialog__link-fields\">\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" required data-trix-input>\n          <div class=\"trix-button-group\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n}\n\nfunction makeid() {\n  let text = \"\"\n  const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"\n\n  for (let i = 0; i < 5; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length))\n  }\n\n  return text;\n}\n\nexport default {\n  name: 'nzWysiwyg',\n\n  props: {\n    name: String,\n    value: String\n  },\n\n  data() {\n    return {\n      inputId: makeid()\n    }\n  },\n\n  mounted() {\n    this.$refs.trix.addEventListener('trix-change', this.onInput)\n  },\n\n  beforeDestroy() {\n    this.$refs.trix.removeEventListener('trix-change', this.onInput)\n  },\n\n  methods: {\n    onInput(e) {\n      this.$emit('input', e.target.innerHTML)\n    },\n\n    focus() {\n      this.$refs.trix.focus()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wysiwyg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wysiwyg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Wysiwyg.vue?vue&type=template&id=95efe7ba&\"\nimport script from \"./Wysiwyg.vue?vue&type=script&lang=js&\"\nexport * from \"./Wysiwyg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wysiwyg\"},[_c('input',{ref:\"input\",attrs:{\"id\":_vm.inputId,\"type\":\"hidden\",\"name\":_vm.name},domProps:{\"value\":_vm.value}}),_vm._v(\" \"),_c('trix-editor',{ref:\"trix\",attrs:{\"input\":_vm.inputId}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortableHandle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortableHandle.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  render() {\n    return this.$slots.default[0]\n  },\n  inject: ['handleClass'],\n  mounted() {\n    this.$el.classList.add(this.handleClass)\n  }\n}\n</script>\n","var render, staticRenderFns\nimport script from \"./SortableHandle.vue?vue&type=script&lang=js&\"\nexport * from \"./SortableHandle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortableItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortableItem.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  render() {\n    return this.$slots.default[0]\n  },\n  inject: ['itemClass'],\n  mounted() {\n    this.$el.classList.add(this.itemClass)\n  }\n}\n</script>\n","var render, staticRenderFns\nimport script from \"./SortableItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SortableItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { Sortable } from '@shopify/draggable'\n\nfunction move(items, oldIndex, newIndex) {\n  const itemRemovedArray = [\n    ...items.slice(0, oldIndex),\n    ...items.slice(oldIndex + 1, items.length)\n  ]\n\n  return [\n    ...itemRemovedArray.slice(0, newIndex),\n    items[oldIndex],\n    ...itemRemovedArray.slice(newIndex, itemRemovedArray.length)\n  ]\n}\n\nexport default {\n  props: {\n    value: {\n      required: true,\n    },\n    itemClass: {\n      default: 'sortable-item',\n    },\n    handleClass: {\n      default: 'sortable-handle',\n    },\n  },\n  provide() {\n    return {\n      itemClass: this.itemClass,\n      handleClass: this.handleClass,\n    }\n  },\n  render() {\n    return this.$scopedSlots.default({\n      items: this.value,\n    })\n  },\n  mounted() {\n    const sortable = new Sortable(this.$el, {\n      draggable: `.${this.itemClass}`,\n      handle: `.${this.handleClass}`,\n      mirror: {\n        constrainDimensions: true,\n      },\n    }).on('sortable:stop', ({ oldIndex, newIndex }) => {\n      this.$emit('input', move(this.value, oldIndex, newIndex))\n    })\n\n    this.$once('hook:beforeDestroy', () => {\n      sortable.destroy()\n    })\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortableList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SortableList.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnsPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnsPicker.vue?vue&type=script&lang=js&\"","<template>\n  <sortable-list v-model=\"allColumns\" class=\"columns-picker\">\n    <div class=\"panel\" slot-scope=\"{ items }\">\n      <div class=\"panel-heading\">\n        <b-checkbox :value=\"allChecked\" @change.native=\"checkAll\" />{{ title }}\n      </div>\n      <sortable-item v-for=\"(item) in items\" :key=\"item.value\">\n        <div class=\"panel-block\">\n          <b-checkbox\n            v-model=\"checkedColumns\"\n            :disabled=\"item.required\"\n            :required=\"item.required\"\n            :native-value=\"item.value\"\n          >\n            {{ item.label }}\n          </b-checkbox>\n\n          <sortable-handle>\n            <b-icon icon=\"arrows-v\" size=\"is-small\"/>\n          </sortable-handle>\n        </div>\n      </sortable-item>\n    </div>\n  </sortable-list>\n</template>\n\n<script>\nimport _uniq from 'lodash/uniq'\nimport { SortableHandle, SortableItem, SortableList } from '../sortable'\n\nexport default {\n  name: 'nzColumnsPicker',\n\n  components: {\n    SortableHandle, SortableItem, SortableList\n  },\n\n  props: {\n    value: {\n      type: Array,\n      default: () =>[]\n    },\n\n    columns: {\n      type: Array,\n      required: true\n    },\n\n    title: {\n      type: String,\n      default: () => 'Columns'\n    }\n  },\n\n  data() {\n    return {\n      allColumns: this.columns,\n      checkedColumns: _uniq(this.value.concat(this.columns.filter((column) => column.required).map((column) => column.value))),\n    }\n  },\n\n  computed: {\n    allChecked() {\n      return this.checkedColumns.length && this.checkedColumns.length === this.columns.length\n    },\n\n    checked() {\n      return this.allColumns.map((column) => column.value)\n        .filter((column) => this.checkedColumns.includes(column))\n    },\n\n    required() {\n      return this.allColumns.filter((column) => column.required)\n    }\n  },\n\n  watch: {\n    checked: {\n      immediate: true,\n      handler() {\n        this.$emit('input', this.checked)\n      }\n    }\n  },\n\n  methods: {\n    checkAll(event) {\n      if (event.target.checked) {\n        this.checkedColumns = this.allColumns.map((column) => column.value)\n      } else {\n        this.checkedColumns = this.required.map((column) => column.value)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .columns-picker {\n    :focus {\n      outline: none;\n    }\n\n    .panel-block {\n      &:hover {\n        cursor: default;\n      }\n\n      justify-content: space-between;\n    }\n\n    .panel-heading {\n      padding-left: 0.6em;\n    }\n\n    .sortable-handle {\n      &:hover {\n        cursor: move;\n      }\n    }\n\n    .b-checkbox {\n      input[type=\"checkbox\"][disabled] + .check {\n          opacity: 0.5;\n      }\n    }\n  }\n</style>\n","var render, staticRenderFns\nimport script from \"./SortableList.vue?vue&type=script&lang=js&\"\nexport * from \"./SortableList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./ColumnsPicker.vue?vue&type=template&id=1776e883&\"\nimport script from \"./ColumnsPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./ColumnsPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ColumnsPicker.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('sortable-list',{staticClass:\"columns-picker\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar items = ref.items;\nreturn _c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"panel-heading\"},[_c('b-checkbox',{attrs:{\"value\":_vm.allChecked},nativeOn:{\"change\":function($event){return _vm.checkAll($event)}}}),_vm._v(_vm._s(_vm.title)+\"\\n    \")],1),_vm._v(\" \"),_vm._l((items),function(item){return _c('sortable-item',{key:item.value},[_c('div',{staticClass:\"panel-block\"},[_c('b-checkbox',{attrs:{\"disabled\":item.required,\"required\":item.required,\"native-value\":item.value},model:{value:(_vm.checkedColumns),callback:function ($$v) {_vm.checkedColumns=$$v},expression:\"checkedColumns\"}},[_vm._v(\"\\n          \"+_vm._s(item.label)+\"\\n        \")]),_vm._v(\" \"),_c('sortable-handle',[_c('b-icon',{attrs:{\"icon\":\"arrows-v\",\"size\":\"is-small\"}})],1)],1)])})],2)}}]),model:{value:(_vm.allColumns),callback:function ($$v) {_vm.allColumns=$$v},expression:\"allColumns\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"datepicker control\" :class=\"[size, {'is-expanded': expanded}]\">\n    <b-dropdown\n      v-if=\"!isMobile || inline\"\n      ref=\"dropdown\"\n      :position=\"position\"\n      :disabled=\"disabled\"\n      :inline=\"inline\"\n    >\n      <b-input\n        v-if=\"!inline\"\n        ref=\"input\"\n        slot=\"trigger\"\n        autocomplete=\"off\"\n        :value=\"formatValue(dateSelected)\"\n        :placeholder=\"placeholder\"\n        :size=\"size\"\n        :icon=\"icon\"\n        :icon-pack=\"iconPack\"\n        :rounded=\"rounded\"\n        :loading=\"loading\"\n        :disabled=\"disabled\"\n        :readonly=\"readonly\"\n        v-bind=\"$attrs\"\n        @change.native=\"onChange($event.target.value)\"\n        @focus=\"$emit('focus', $event)\"\n        @blur=\"$emit('blur', $event) && checkHtml5Validity()\n      />\n\n      <b-dropdown-item :disabled=\"disabled\" custom>\n          <header class=\"datepicker-header\">\n            <template v-if=\"$slots.header !== undefined && $slots.header.length\">\n              <slot name=\"header\" />\n            </template>\n\n            <div v-else class=\"pagination field is-centered\">\n\n            <a\n              v-if=\"!isFirstMonth && !disabled\"\n              class=\"pagination-previous\"\n              role=\"button\"\n              href=\"#\"\n              :disabled=\"disabled\"\n              @click.prevent=\"decrementMonth\"\n              @keydown.enter.prevent=\"decrementMonth\"\n              @keydown.space.prevent=\"decrementMonth\"\n            >\n              <b-icon\n                icon=\"chevron-left\"\n                :pack=\"iconPack\"\n                both\n                type=\"is-primary is-clickable\"\n              />\n            </a>\n\n            <a\n              v-show=\"!isLastMonth && !disabled\"\n              class=\"pagination-next\"\n              role=\"button\"\n              href=\"#\"\n              :disabled=\"disabled\"\n              @click.prevent=\"incrementMonth\"\n              @keydown.enter.prevent=\"incrementMonth\"\n              @keydown.space.prevent=\"incrementMonth\"\n            >\n              <b-icon\n                icon=\"chevron-right\"\n                :pack=\"iconPack\"\n                both\n                type=\"is-primary is-clickable\"\n              />\n            </a>\n\n            <div class=\"pagination-list\">\n              <b-field>\n                <b-select\n                  v-model=\"focusedDateData.month\"\n                  :disabled=\"disabled\"\n                >\n                  <option\n                    v-for=\"(month, index) in monthNames\"\n                    :value=\"index\"\n                    :key=\"month\"\n                  >\n                    {{ month }}\n                  </option>\n                </b-select>\n\n                <b-select\n                  v-model=\"focusedDateData.year\"\n                  :disabled=\"disabled\"\n                >\n                  <option\n                    v-for=\"year in listOfYears\"\n                    :value=\"year\"\n                    :key=\"year\"\n                  >\n                    {{ year }}\n                  </option>\n                </b-select>\n              </b-field>\n            </div>\n          </div>\n        </header>\n\n        <b-datepicker-table\n          :value=\"dateSelected\"\n          @input=\"onDateInput\"\n          :day-names=\"dayNames\"\n          :month-names=\"monthNames\"\n          :first-day-of-week=\"firstDayOfWeek\"\n          :min-date=\"minDate\"\n          :max-date=\"maxDate\"\n          :focused=\"focusedDateData\"\n          :disabled=\"disabled\"\n          :unselectable-dates=\"unselectableDates\"\n          :unselectable-days-of-week=\"unselectableDaysOfWeek\"\n          :selectable-dates=\"selectableDates\"\n          :events=\"events\"\n          :indicators=\"indicators\"\n          @close=\"$refs.dropdown.isActive = true\"\n        />\n\n        <b-field expanded>\n          <b-select\n            v-model=\"hoursSelected\"\n            @change.native=\"onHoursChange($event.target.value)\"\n            :disabled=\"disabled\"\n            placeholder=\"00\"\n            expanded\n          >\n            <option\n              v-for=\"hour in hours\"\n              :value=\"hour.value\"\n              :key=\"hour.value\"\n              :disabled=\"isHourDisabled(hour.value)\"\n            >\n              {{ hour.label }}\n            </option>\n          </b-select>\n\n          <b-select\n            v-model=\"minutesSelected\"\n            @change.native=\"onMinutesChange($event.target.value)\"\n            :disabled=\"disabled\"\n            placeholder=\"00\"\n            expanded\n          >\n            <option\n              v-for=\"minute in minutes\"\n              :value=\"minute.value\"\n              :key=\"minute.value\"\n              :disabled=\"isMinuteDisabled(minute.value)\"\n            >\n              {{ minute.label }}\n            </option>\n          </b-select>\n\n          <b-select\n            v-model=\"meridienSelected\"\n            @change.native=\"onMeridienChange($event.target.value)\"\n            v-if=\"!isHourFormat24\"\n            :disabled=\"disabled\"\n          >\n            <option\n              v-for=\"meridien in meridiens\"\n              :value=\"meridien\"\n              :key=\"meridien\"\n            >\n              {{ meridien }}\n            </option>\n          </b-select>\n        </b-field>\n\n        <footer\n          v-if=\"$slots.default !== undefined && $slots.default.length\"\n          class=\"datepicker-footer\"\n        >\n          <slot/>\n        </footer>\n      </b-dropdown-item>\n    </b-dropdown>\n\n    <b-input\n      v-else\n      ref=\"input\"\n      type=\"datetime\"\n      autocomplete=\"off\"\n      :value=\"formatYYYYMMDD(value)\"\n      :placeholder=\"placeholder\"\n      :size=\"size\"\n      :icon=\"icon\"\n      :icon-pack=\"iconPack\"\n      :loading=\"loading\"\n      :max=\"formatYYYYMMDD(maxDate)\"\n      :min=\"formatYYYYMMDD(minDate)\"\n      :disabled=\"disabled\"\n      :readonly=\"false\"\n      v-bind=\"$attrs\"\n      @change.native=\"onChangeNativePicker\"\n      @focus=\"$emit('focus', $event)\"\n      @blur=\"$emit('blur', $event) && checkHtml5Validity()\"\n    />\n  </div>\n</template>\n\n<script>\nimport FormElementMixin from 'buefy/src/utils/FormElementMixin'\nimport { isMobile } from 'buefy/src/utils/helpers'\nimport config from 'buefy/src/utils/config'\n\nimport DatepickerTable from 'buefy/src/components/datepicker/DatepickerTable'\n\nconst AM = 'AM'\nconst PM = 'PM'\nconst HOUR_FORMAT_24 = '24'\nconst HOUR_FORMAT_12 = '12'\n\nconst formatNumber = (value) => (value < 10 ? '0' : '') + value\n\nexport default {\n  name: 'nzDatetimePicker',\n\n  components: {\n    [DatepickerTable.name]: DatepickerTable,\n  },\n\n  mixins: [FormElementMixin],\n\n  inheritAttrs: false,\n\n  props: {\n    value: Date,\n    dayNames: {\n      type: Array,\n      default: () => {\n        if (Array.isArray(config.defaultDayNames)) {\n          return config.defaultDayNames\n        }\n\n        return moment.weekdaysShort()\n      }\n    },\n    monthNames: {\n      type: Array,\n      default: () => {\n        if (Array.isArray(config.defaultMonthNames)) {\n          return config.defaultMonthNames\n        }\n\n        return moment.months()\n      }\n    },\n    firstDayOfWeek: {\n      type: Number,\n      default: () => {\n        if (typeof config.defaultFirstDayOfWeek === 'number') {\n          return config.defaultFirstDayOfWeek\n        }\n\n        return 0\n      }\n    },\n    inline: Boolean,\n    minDate: Date,\n    maxDate: Date,\n    focusedDate: Date,\n    placeholder: String,\n    readonly: {\n      type: Boolean,\n      default: true\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    unselectableDates: Array,\n    unselectableDaysOfWeek: {\n      type: Array,\n      default: () => config.defaultUnselectableDaysOfWeek\n    },\n    selectableDates: Array,\n    displayFormat: {\n      type: String,\n      default: 'MM/DD/YYYY HH:mm'\n    },\n    dateFormatter: {\n      type: Function,\n      default: (date) => {\n        if (typeof config.defaultDateFormatter === 'function') {\n          return config.defaultDateFormatter(date)\n        }\n\n        return moment(date).format('MM/DD/YYYY HH:mm')\n      }\n    },\n    dateParser: {\n      type: Function,\n      default: (date) => {\n        if (typeof config.defaultDateParser === 'function') {\n          return config.defaultDateParser(date)\n        }\n\n        return new Date(Date.parse(date))\n      }\n    },\n    mobileNative: {\n      type: Boolean,\n      default: () => config.defaultDatepickerMobileNative\n    },\n    position: String,\n    events: Array,\n    indicators: {\n      type: String,\n      default: 'dots'\n    },\n    hourFormat: {\n      type: String,\n      default: HOUR_FORMAT_24,\n      validator: value => value === HOUR_FORMAT_24 || value === HOUR_FORMAT_12\n    },\n    incrementMinutes: {\n      type: Number,\n      default: 1\n    }\n  },\n\n  data() {\n    const focusedDate = this.value || this.focusedDate || new Date()\n\n    return {\n      dateSelected: this.value,\n      focusedDateData: {\n        month: focusedDate.getMonth(),\n        year: focusedDate.getFullYear()\n      },\n      hoursSelected: null,\n      minutesSelected: null,\n      meridienSelected: null,\n      _elementRef: 'input',\n      _isDatepicker: true,\n    }\n  },\n\n  computed: {\n    /*\n    * Returns an array of years for the year dropdown. If earliest/latest\n    * dates are set by props, range of years will fall within those dates.\n    */\n    listOfYears() {\n      const latestYear = this.maxDate\n        ? this.maxDate.getFullYear()\n        : (Math.max(new Date().getFullYear(), this.focusedDateData.year) + 3)\n\n      const earliestYear = this.minDate\n        ? this.minDate.getFullYear()\n        : 1900\n\n      const arrayOfYears = []\n      for (let i = earliestYear; i <= latestYear; i++) {\n          arrayOfYears.push(i)\n      }\n\n      return arrayOfYears.reverse()\n    },\n\n    isFirstMonth() {\n      if (!this.minDate) return false\n\n      const dateToCheck = new Date(this.focusedDateData.year, this.focusedDateData.month)\n      const date = new Date(this.minDate.getFullYear(), this.minDate.getMonth())\n\n      return dateToCheck <= date\n    },\n\n    isLastMonth() {\n      if (!this.maxDate) return false\n\n      const dateToCheck = new Date(this.focusedDateData.year, this.focusedDateData.month)\n      const date = new Date(this.maxDate.getFullYear(), this.maxDate.getMonth())\n\n      return dateToCheck >= date\n    },\n\n    isMobile() {\n      return this.mobileNative && isMobile.any()\n    },\n\n    hours() {\n      const hours = []\n      const numberOfHours = this.isHourFormat24 ? 24 : 12\n      for (let i = 0; i < numberOfHours; i++) {\n        let value = i\n        let label = value\n        if (!this.isHourFormat24) {\n          value = (i + 1)\n          label = value\n          if (this.meridienSelected === AM) {\n            if (value === 12) {\n                value = 0\n            }\n          } else if (this.meridienSelected === PM) {\n            if (value !== 12) {\n                value += 12\n            }\n          }\n        }\n        hours.push({\n          label: formatNumber(label),\n          value: value\n        })\n      }\n\n      return hours\n    },\n\n    minutes() {\n      const minutes = []\n      for (let i = 0; i < 60; i += this.incrementMinutes) {\n          minutes.push({\n              label: formatNumber(i),\n              value: i\n          })\n      }\n\n      return minutes\n    },\n\n    meridiens() {\n      return [AM, PM]\n    },\n\n    isHourFormat24() {\n      return this.hourFormat === HOUR_FORMAT_24\n    }\n  },\n\n  watch: {\n    /*\n    * Emit input event with selected date as payload, set isActive to false.\n    * Update internal focusedDateData\n    */\n    dateSelected(value) {\n      const currentDate = !value ? new Date() : value\n      this.focusedDateData = {\n        month: currentDate.getMonth(),\n        year: currentDate.getFullYear()\n      }\n      this.$emit('input', value)\n      if (this.$refs.dropdown) {\n        this.$refs.dropdown.isActive = true\n      }\n    },\n\n    /**\n     * When v-model is changed:\n     *   1. Update internal value.\n     *   2. If it's invalid, validate again.\n     */\n    value(value) {\n      this.dateSelected = value\n\n      !this.isValid && this.$refs.input.checkHtml5Validity()\n    },\n\n    focusedDate(value) {\n      if (value) {\n        this.focusedDateData = {\n          month: value.getMonth(),\n          year: value.getFullYear()\n        }\n      }\n    },\n\n    /*\n    * Emit input event on month and/or year change\n    */\n    'focusedDateData.month'(value) {\n      this.$emit('change-month', value)\n    },\n    'focusedDateData.year'(value) {\n      this.$emit('change-year', value)\n    },\n    hourFormat(value) {\n      if (this.hoursSelected !== null) {\n        this.meridienSelected = this.hoursSelected >= 12 ? PM : AM\n      }\n    }\n  },\n  methods: {\n    /*\n    * Emit input event with selected date as payload for v-model in parent\n    */\n    updateSelectedDate(date) {\n      this.dateSelected = date\n    },\n\n    /*\n    * Parse string into date\n    */\n    onChange(value) {\n      const date = this.dateParser(value)\n      if (date && !isNaN(date)) {\n        this.dateSelected = date\n      } else {\n        // Force refresh input value when not valid date\n        this.dateSelected = null\n        this.$refs.input.newValue = this.dateSelected\n      }\n    },\n\n    /*\n    * Format date into string\n    */\n    formatValue(value) {\n      if (value && !isNaN(value)) {\n        return this.dateFormatter(value)\n      }\n    },\n\n    /*\n    * Either decrement month by 1 if not January or decrement year by 1\n    * and set month to 11 (December)\n    */\n    decrementMonth() {\n      if (this.disabled) return\n\n      if (this.focusedDateData.month > 0) {\n        this.focusedDateData.month -= 1\n      } else {\n        this.focusedDateData.month = 11\n        this.focusedDateData.year -= 1\n      }\n    },\n\n      /*\n      * Either increment month by 1 if not December or increment year by 1\n      * and set month to 0 (January)\n      */\n      incrementMonth() {\n        if (this.disabled) return\n\n        if (this.focusedDateData.month < 11) {\n          this.focusedDateData.month += 1\n        } else {\n          this.focusedDateData.month = 0\n          this.focusedDateData.year += 1\n        }\n      },\n\n      /*\n      * Format date into string 'YYYY-MM-DD'\n      */\n      formatYYYYMMDD(value) {\n        const date = new Date(value)\n\n        if (value && !isNaN(date)) {\n          const year = date.getFullYear()\n          const month = date.getMonth() + 1\n          const day = date.getDate()\n\n          return year + '-' +\n            ((month < 10 ? '0' : '') + month) + '-' +\n            ((day < 10 ? '0' : '') + day)\n        }\n\n        return ''\n      },\n\n      onDateInput(value) {\n        if (this.dateSelected) {\n          value.setHours(this.dateSelected.getHours())\n          value.setMinutes(this.dateSelected.getMinutes())\n        }\n\n        this.dateSelected = value\n      },\n\n      /*\n      * Parse date from string\n      */\n      onChangeNativePicker(event) {\n        const date = event.target.value\n        this.dateSelected = date ? new Date(date) : null\n      },\n\n      onMeridienChange(value) {\n        if (this.hoursSelected !== null) {\n          if (value === PM) {\n            if (this.hoursSelected === 0) {\n              this.hoursSelected = 12\n            } else {\n              this.hoursSelected += 12\n            }\n          } else if (value === AM) {\n            if (this.hoursSelected === 12) {\n              this.hoursSelected = 0\n            } else {\n              this.hoursSelected -= 12\n            }\n          }\n        }\n        this.updateDateSelected(this.hoursSelected, this.minutesSelected, value)\n      },\n\n      onHoursChange(value) {\n        this.updateDateSelected(\n          parseInt(value, 10),\n          this.minutesSelected,\n          this.meridienSelected\n        )\n      },\n\n      onMinutesChange(value) {\n        this.updateDateSelected(\n          this.hoursSelected,\n          parseInt(value, 10),\n          this.meridienSelected\n        )\n      },\n\n      updateDateSelected(hours, minutes, meridiens) {\n        if (hours != null && minutes != null &&\n          ((!this.isHourFormat24 && meridiens !== null) || this.isHourFormat24)) {\n          if (this.dateSelected && !isNaN(this.dateSelected)) {\n            this.dateSelected = new Date(this.dateSelected)\n          } else {\n            this.dateSelected = new Date()\n            this.dateSelected.setMilliseconds(0)\n            this.dateSelected.setSeconds(0)\n          }\n          this.dateSelected.setHours(hours)\n          this.dateSelected.setMinutes(minutes)\n        }\n      },\n\n      isHourDisabled(hour) {\n        let disabled = false\n        if (this.minTime) {\n          const minHours = this.minTime.getHours()\n          disabled = hour < minHours\n        }\n        if (this.maxTime && !disabled) {\n          const maxHours = this.maxTime.getHours()\n          disabled = hour > maxHours\n        }\n        if (this.unselectableTimes && !disabled) {\n          if (this.minutesSelected !== null) {\n            const unselectable = this.unselectableTimes.filter(\n              time => time.getHours() === hour && time.getMinutes() === this.minutesSelected\n            )\n            disabled = unselectable.length > 0\n          } else {\n            const unselectable = this.unselectableTimes.filter(time => time.getHours() === hour)\n            disabled = unselectable.length === this.minutes.length\n          }\n        }\n\n        return disabled\n      },\n\n    isMinuteDisabled(minute) {\n      let disabled = false\n      if (this.hoursSelected !== null) {\n        if (this.isHourDisabled(this.hoursSelected)) {\n            disabled = true\n        } else if (this.minTime) {\n          const minHours = this.minTime.getHours()\n          const minMinutes = this.minTime.getMinutes()\n          disabled = this.hoursSelected === minHours && minute < minMinutes\n        } else if (this.maxTime && !disabled) {\n          const maxHours = this.maxTime.getHours()\n          const minMinutes = this.maxTime.getMinutes()\n          disabled = this.hoursSelected === maxHours && minute > minMinutes\n        }\n        if (this.unselectableTimes && !disabled) {\n          const unselectable = this.unselectableTimes.filter((time) => {\n            return time.getHours() === this.hoursSelected &&\n              time.getMinutes() === minute\n          })\n          disabled = unselectable.length > 0\n        }\n      }\n\n      return disabled\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatetimePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatetimePicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DatetimePicker.vue?vue&type=template&id=224fb9ef&\"\nimport script from \"./DatetimePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./DatetimePicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"datepicker control\",class:[_vm.size, {'is-expanded': _vm.expanded}]},[(!_vm.isMobile || _vm.inline)?_c('b-dropdown',{ref:\"dropdown\",attrs:{\"position\":_vm.position,\"disabled\":_vm.disabled,\"inline\":_vm.inline}},[_vm._v(\"\\\" custom>\\n        \"),_c('header',{staticClass:\"datepicker-header\"},[(_vm.$slots.header !== undefined && _vm.$slots.header.length)?[_vm._t(\"header\")]:_c('div',{staticClass:\"pagination field is-centered\"},[(!_vm.isFirstMonth && !_vm.disabled)?_c('a',{staticClass:\"pagination-previous\",attrs:{\"role\":\"button\",\"href\":\"#\",\"disabled\":_vm.disabled},on:{\"click\":function($event){$event.preventDefault();return _vm.decrementMonth($event)},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.decrementMonth($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();return _vm.decrementMonth($event)}]}},[_c('b-icon',{attrs:{\"icon\":\"chevron-left\",\"pack\":_vm.iconPack,\"both\":\"\",\"type\":\"is-primary is-clickable\"}})],1):_vm._e(),_vm._v(\" \"),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isLastMonth && !_vm.disabled),expression:\"!isLastMonth && !disabled\"}],staticClass:\"pagination-next\",attrs:{\"role\":\"button\",\"href\":\"#\",\"disabled\":_vm.disabled},on:{\"click\":function($event){$event.preventDefault();return _vm.incrementMonth($event)},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.incrementMonth($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();return _vm.incrementMonth($event)}]}},[_c('b-icon',{attrs:{\"icon\":\"chevron-right\",\"pack\":_vm.iconPack,\"both\":\"\",\"type\":\"is-primary is-clickable\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-list\"},[_c('b-field',[_c('b-select',{attrs:{\"disabled\":_vm.disabled},model:{value:(_vm.focusedDateData.month),callback:function ($$v) {_vm.$set(_vm.focusedDateData, \"month\", $$v)},expression:\"focusedDateData.month\"}},_vm._l((_vm.monthNames),function(month,index){return _c('option',{key:month,domProps:{\"value\":index}},[_vm._v(\"\\n                  \"+_vm._s(month)+\"\\n                \")])}),0),_vm._v(\" \"),_c('b-select',{attrs:{\"disabled\":_vm.disabled},model:{value:(_vm.focusedDateData.year),callback:function ($$v) {_vm.$set(_vm.focusedDateData, \"year\", $$v)},expression:\"focusedDateData.year\"}},_vm._l((_vm.listOfYears),function(year){return _c('option',{key:year,domProps:{\"value\":year}},[_vm._v(\"\\n                  \"+_vm._s(year)+\"\\n                \")])}),0)],1)],1)])],2),_vm._v(\" \"),_c('b-datepicker-table',{attrs:{\"value\":_vm.dateSelected,\"day-names\":_vm.dayNames,\"month-names\":_vm.monthNames,\"first-day-of-week\":_vm.firstDayOfWeek,\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate,\"focused\":_vm.focusedDateData,\"disabled\":_vm.disabled,\"unselectable-dates\":_vm.unselectableDates,\"unselectable-days-of-week\":_vm.unselectableDaysOfWeek,\"selectable-dates\":_vm.selectableDates,\"events\":_vm.events,\"indicators\":_vm.indicators},on:{\"input\":_vm.onDateInput,\"close\":function($event){_vm.$refs.dropdown.isActive = true}}}),_vm._v(\" \"),_c('b-field',{attrs:{\"expanded\":\"\"}},[_c('b-select',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"00\",\"expanded\":\"\"},nativeOn:{\"change\":function($event){return _vm.onHoursChange($event.target.value)}},model:{value:(_vm.hoursSelected),callback:function ($$v) {_vm.hoursSelected=$$v},expression:\"hoursSelected\"}},_vm._l((_vm.hours),function(hour){return _c('option',{key:hour.value,attrs:{\"disabled\":_vm.isHourDisabled(hour.value)},domProps:{\"value\":hour.value}},[_vm._v(\"\\n            \"+_vm._s(hour.label)+\"\\n          \")])}),0),_vm._v(\" \"),_c('b-select',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":\"00\",\"expanded\":\"\"},nativeOn:{\"change\":function($event){return _vm.onMinutesChange($event.target.value)}},model:{value:(_vm.minutesSelected),callback:function ($$v) {_vm.minutesSelected=$$v},expression:\"minutesSelected\"}},_vm._l((_vm.minutes),function(minute){return _c('option',{key:minute.value,attrs:{\"disabled\":_vm.isMinuteDisabled(minute.value)},domProps:{\"value\":minute.value}},[_vm._v(\"\\n            \"+_vm._s(minute.label)+\"\\n          \")])}),0),_vm._v(\" \"),(!_vm.isHourFormat24)?_c('b-select',{attrs:{\"disabled\":_vm.disabled},nativeOn:{\"change\":function($event){return _vm.onMeridienChange($event.target.value)}},model:{value:(_vm.meridienSelected),callback:function ($$v) {_vm.meridienSelected=$$v},expression:\"meridienSelected\"}},_vm._l((_vm.meridiens),function(meridien){return _c('option',{key:meridien,domProps:{\"value\":meridien}},[_vm._v(\"\\n            \"+_vm._s(meridien)+\"\\n          \")])}),0):_vm._e()],1),_vm._v(\" \"),(_vm.$slots.default !== undefined && _vm.$slots.default.length)?_c('footer',{staticClass:\"datepicker-footer\"},[_vm._t(\"default\")],2):_vm._e()],1):_c('b-input',_vm._b({ref:\"input\",attrs:{\"type\":\"datetime\",\"autocomplete\":\"off\",\"value\":_vm.formatYYYYMMDD(_vm.value),\"placeholder\":_vm.placeholder,\"size\":_vm.size,\"icon\":_vm.icon,\"icon-pack\":_vm.iconPack,\"loading\":_vm.loading,\"max\":_vm.formatYYYYMMDD(_vm.maxDate),\"min\":_vm.formatYYYYMMDD(_vm.minDate),\"disabled\":_vm.disabled,\"readonly\":false},on:{\"focus\":function($event){return _vm.$emit('focus', $event)},\"blur\":function($event){_vm.$emit('blur', $event) && _vm.checkHtml5Validity()}},nativeOn:{\"change\":function($event){return _vm.onChangeNativePicker($event)}}},'b-input',_vm.$attrs,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableMobileSort.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableMobileSort.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"field table-mobile-sort\">\n        <div class=\"field has-addons\">\n            <b-select v-model=\"mobileSort\" expanded>\n                <option\n                    v-for=\"(column, index) in columns\"\n                    v-if=\"column.sortable\"\n                    :key=\"index\"\n                    :value=\"column\">\n                    {{ column.label }}\n                </option>\n            </b-select>\n            <div class=\"control\">\n                <button\n                    class=\"button is-primary\"\n                    @click=\"sort\">\n                    <b-icon\n                        v-show=\"currentSortColumn === mobileSort\"\n                        :class=\"{ 'is-desc': !isAsc }\"\n                        icon=\"arrow-up\"\n                        size=\"is-small\"\n                        both\n                    />\n                </button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'nzTableMobileSort',\n        props: {\n            currentSortColumn: Object,\n            isAsc: Boolean,\n            columns: Array\n        },\n        data() {\n            return {\n                mobileSort: this.currentSortColumn\n            }\n        },\n        watch: {\n            mobileSort(column) {\n                if (this.currentSortColumn === column) return\n\n                this.$emit('sort', column)\n            },\n\n            currentSortColumn(column) {\n                this.mobileSort = column\n            }\n        },\n        methods: {\n            sort() {\n                this.$emit('sort', this.mobileSort)\n            }\n        }\n    }\n</script>\n","<template>\n    <div class=\"b-table\" :class=\"{ 'is-loading': loading }\">\n        <nz-table-mobile-sort\n            v-if=\"mobileCards && hasSortableColumns\"\n            :current-sort-column=\"currentSortColumn\"\n            :is-asc=\"isAsc\"\n            :columns=\"newColumns\"\n            @sort=\"(column) => sort(column)\"\n        />\n\n        <div v-if=\"paginated && paginationOnTop\" class=\"level\">\n            <div class=\"level-left\">\n                <div class=\"level-item\">\n                    <b-field>\n                        <b-select :value=\"perPage\" @input=\"onPerPageChange\" placeholder=\"Per page\">\n                            <option\n                                v-for=\"(option, index) in perPageOptions\"\n                                :value=\"option\"\n                                :key=\"index\"\n                                v-text=\"option\"/>\n                        </b-select>\n                    </b-field>\n                </div>\n\n                <div class=\"level-item\">{{ showing }}</div>\n            </div>\n\n            <div class=\"level-right\">\n                <div class=\"level-item\">\n                    <b-pagination\n                        :total=\"newDataTotal\"\n                        :per-page=\"perPage\"\n                        :simple=\"paginationSimple\"\n                        :size=\"paginationSize\"\n                        :current=\"newCurrentPage\"\n                        @change=\"pageChanged\">\n                    </b-pagination>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"table-wrapper\">\n            <table\n                class=\"table\"\n                :class=\"tableClasses\"\n                :tabindex=\"!focusable ? false : 0\"\n                @keydown.prevent.up=\"pressedArrow(-1)\"\n                @keydown.prevent.down=\"pressedArrow(1)\">\n                <thead v-if=\"newColumns.length\">\n                    <tr>\n                        <th v-if=\"detailed\" width=\"40px\"></th>\n                        <th class=\"checkbox-cell\" v-if=\"checkable\">\n                            <b-checkbox :value=\"isAllChecked\" @change.native=\"checkAll\" />\n                        </th>\n                        <th v-for=\"(column, index) in newColumns\"\n                            v-if=\"column.visible\"\n                            :key=\"index\"\n                            :class=\"{ 'is-current-sort': currentSortColumn === column, 'is-sortable': column.sortable }\"\n                            :style=\"{ width: column.width + 'px' }\"\n                            @click.stop=\"sort(column)\">\n                            <div class=\"th-wrap\" :class=\"{ 'is-numeric': column.numeric, 'is-centered': column.centered }\">\n\n                                <slot v-if=\"$scopedSlots.header\" name=\"header\" :column=\"column\" :index=\"index\"></slot>\n                                <template v-else>{{ column.label }}</template>\n\n                                <b-icon\n                                    v-if=\"column.sortable\"\n                                    :icon=\"sortIcon(column)\"\n                                    size=\"is-small\"\n                                    :class=\"{'has-text-grey-light': currentSortColumn !== column}\"\n                                />\n                            </div>\n                        </th>\n                    </tr>\n                </thead>\n                <tbody v-if=\"visibleData.length\">\n                    <template v-for=\"(row, index) in visibleData\">\n                        <tr :key=\"index\"\n                            :class=\"[rowClass(row, index), {\n                                'is-selected': row === selected,\n                                'is-checked': isRowChecked(row)\n                            }]\"\n                            @click=\"selectRow(row)\"\n                            @dblclick=\"$emit('dblclick', row)\">\n\n                            <td\n                                v-if=\"detailed\"\n                                class=\"chevron-cell\"\n                            >\n                                <a\n                                    v-if=\"hasDetailedVisible(row)\"\n                                    role=\"button\"\n                                    @click.stop=\"toggleDetails(row)\">\n                                    <b-icon\n                                        icon=\"chevron-right\"\n                                        both\n                                        :class=\"{'is-expanded': isVisibleDetailRow(row)}\" />\n                                </a>\n                            </td>\n\n                            <td class=\"checkbox-cell\" v-if=\"checkable\">\n                                <b-checkbox :value=\"isRowChecked(row)\" @click.native.prevent=\"checkRow($event, row, index)\" />\n                            </td>\n\n                            <slot\n                                v-if=\"$scopedSlots.default\"\n                                :row=\"row\"\n                                :index=\"index\"\n                            />\n                            <template v-else>\n                                <b-table-column\n                                    v-for=\"column in newColumns\"\n                                    v-bind=\"column\"\n                                    :key=\"column.field\"\n                                    internal>\n                                    <span\n                                        v-if=\"column.renderHtml\"\n                                        v-html=\"getValueByPath(row, column.field)\"\n                                    />\n                                    <template v-else>\n                                        {{ getValueByPath(row, column.field) }}\n                                    </template>\n                                </b-table-column>\n                            </template>\n                        </tr>\n\n                        <!-- Do not add `key` here (breaks details) -->\n                        <tr v-if=\"detailed && isVisibleDetailRow(row)\"\n                            class=\"detail\">\n                            <td :colspan=\"columnCount\">\n                                <div class=\"detail-container\">\n                                    <slot name=\"detail\" :row=\"row\" :index=\"index\"></slot>\n                                </div>\n                            </td>\n                        </tr>\n                    </template>\n                </tbody>\n                <tbody v-else>\n                    <tr class=\"is-empty\">\n                        <td :colspan=\"columnCount\">\n                            <slot name=\"empty\"></slot>\n                        </td>\n                    </tr>\n                </tbody>\n                <tfoot v-if=\"$slots.footer !== undefined\">\n                    <tr class=\"table-footer\">\n                        <slot name=\"footer\" v-if=\"hasCustomFooterSlot()\"></slot>\n                        <th :colspan=\"columnCount\" v-else>\n                            <slot name=\"footer\"></slot>\n                        </th>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n\n        <div v-if=\"checkable || paginated\" class=\"level\">\n            <div class=\"level-left\">\n                <div class=\"level-item\">\n                    <b-field>\n                        <b-select :value=\"perPage\" @input=\"onPerPageChange\" placeholder=\"Per page\">\n                            <option\n                                v-for=\"(option, index) in perPageOptions\"\n                                :value=\"option\"\n                                :key=\"index\"\n                                v-text=\"option\"/>\n                        </b-select>\n                    </b-field>\n                </div>\n\n                <div class=\"level-item\">{{ showing }}</div>\n            </div>\n\n            <div class=\"level-right\">\n                <div v-if=\"paginated\" class=\"level-item\">\n                    <b-pagination\n                        :total=\"newDataTotal\"\n                        :per-page=\"perPage\"\n                        :simple=\"paginationSimple\"\n                        :size=\"paginationSize\"\n                        :current=\"newCurrentPage\"\n                        @change=\"pageChanged\">\n                    </b-pagination>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    /**\n     * This component has been forked from Buefy (https://buefy.github.io) table component\n     */\n    import { getValueByPath, indexOf } from 'buefy/src/utils/helpers'\n    import NzTableMobileSort from './TableMobileSort'\n\n    export default {\n        name: 'nzTable',\n        components: {\n            NzTableMobileSort\n        },\n        props: {\n            data: {\n                type: Array,\n                default: () => []\n            },\n            bordered: Boolean,\n            striped: Boolean,\n            narrowed: Boolean,\n            hoverable: Boolean,\n            loading: Boolean,\n            detailed: Boolean,\n            checkable: Boolean,\n            selected: Object,\n            focusable: Boolean,\n            customIsChecked: Function,\n            checkedRows: {\n                type: Array,\n                default: () => []\n            },\n            mobileCards: {\n                type: Boolean,\n                default: true\n            },\n            defaultSort: [String, Array],\n            defaultSortDirection: {\n                type: String,\n                default: 'asc'\n            },\n            paginated: Boolean,\n            currentPage: {\n                type: Number,\n                default: 1\n            },\n            perPage: {\n                type: [Number, String],\n                default: 15\n            },\n            perPageOptions: {\n                type: Array,\n                default() {\n                    return [15, 30, 50, 100];\n                },\n                validator(value) {\n                    return value.length;\n                }\n            },\n            paginationSimple: Boolean,\n            paginationSize: String,\n            backendSorting: Boolean,\n            rowClass: {\n                type: Function,\n                default: () => ''\n            },\n            openedDetailed: {\n                type: Array,\n                default: () => []\n            },\n            hasDetailedVisible: {\n                type: Function,\n                default: () => true\n            },\n            detailKey: {\n                type: String,\n                default: ''\n            },\n            backendPagination: Boolean,\n            total: {\n                type: [Number, String],\n                default: 0\n            },\n            paginationOnTop: Boolean\n        },\n        data() {\n            return {\n                newColumns: [],\n                visibleDetailRows: this.openedDetailed,\n                newData: this.data,\n                newDataTotal: this.backendPagination ? this.total : this.data.length,\n                newCheckedRows: [...this.checkedRows],\n                lastCheckedRowIndex: null,\n                newCurrentPage: this.currentPage,\n                currentSortColumn: {},\n                isAsc: true,\n                firstTimeSort: true, // Used by first time initSort\n                _isTable: true // Used by TableColumn\n            }\n        },\n        watch: {\n            /**\n             * When data prop change:\n             *   1. Update internal value.\n             *   2. Reset columns (thead), in case it's on a v-for loop.\n             *   3. Sort again if it's not backend-sort.\n             *   4. Set new total if it's not backend-paginated.\n             */\n            data(value) {\n                // Save columns before resetting\n                const newColumns = this.newColumns\n\n                this.newColumns = []\n                this.newData = value\n\n                // Prevent table from being headless, data could change and created hook\n                // on column might not trigger\n                this.$nextTick(() => {\n                    if (!this.newColumns.length) this.newColumns = newColumns\n                })\n\n                if (!this.backendSorting) {\n                    this.sort(this.currentSortColumn, true)\n                }\n                if (!this.backendPagination) {\n                    this.newDataTotal = value.length\n                }\n            },\n\n            /**\n             * When Pagination total change, update internal total\n             * only if it's backend-paginated.\n             */\n            total(newTotal) {\n                if (!this.backendPagination) return\n\n                this.newDataTotal = newTotal\n            },\n\n            /**\n             * When checkedRows prop change, update internal value without\n             * mutating original data.\n             */\n            checkedRows(rows) {\n                this.newCheckedRows = [...rows]\n            },\n\n            /**\n             * When columns change, call initSort only first time (For example async data).\n             */\n            newColumns(newColumns) {\n                if (newColumns.length && this.firstTimeSort) {\n                    this.initSort()\n                    this.firstTimeSort = false\n                } else if (newColumns.length) {\n                    for (let i = 0; i < newColumns.length; i++) {\n                        if (newColumns[i].newKey === this.currentSortColumn.newKey) {\n                            this.currentSortColumn = newColumns[i]\n                            break\n                        }\n                    }\n                }\n            },\n\n            /**\n            * When the user wants to control the detailed rows via props.\n            * Or wants to open the details of certain row with the router for example.\n            */\n            openedDetailed(expandedRows) {\n                this.visibleDetailRows = expandedRows\n            },\n\n            currentPage(newVal) {\n                this.newCurrentPage = newVal\n            }\n        },\n        computed: {\n            tableClasses() {\n                return {\n                    'is-bordered': this.bordered,\n                    'is-striped': this.striped,\n                    'is-narrow': this.narrowed,\n                    'has-mobile-cards': this.mobileCards,\n                    'is-hoverable': (\n                        (this.hoverable || this.focusable) &&\n                        this.visibleData.length\n                    )\n                }\n            },\n\n            /**\n             * Splitted data based on the pagination.\n             */\n            visibleData() {\n                if (!this.paginated) return this.newData\n\n                const currentPage = this.newCurrentPage\n                const perPage = this.perPage\n\n                if (this.newData.length <= perPage) {\n                    return this.newData\n                } else {\n                    const start = (currentPage - 1) * perPage\n                    const end = parseInt(start, 10) + parseInt(perPage, 10)\n                    return this.newData.slice(start, end)\n                }\n            },\n\n            /**\n             * Check if all rows in the page are checked.\n             */\n            isAllChecked() {\n                const isAllChecked = this.visibleData.some(currentVisibleRow => {\n                    return indexOf(this.checkedRows, currentVisibleRow, this.customIsChecked) < 0\n                })\n                return !isAllChecked\n            },\n\n            /**\n             * Check if has any sortable column.\n             */\n            hasSortableColumns() {\n                return this.newColumns.some(column => {\n                    return column.sortable\n                })\n            },\n\n            /**\n             * Return total column count based if it's checkable or expanded\n             */\n            columnCount() {\n                let count = this.newColumns.length\n                count += this.checkable ? 1 : 0\n                count += this.detailed ? 1 : 0\n\n                return count\n            },\n\n            showing() {\n                const to = this.newCurrentPage * this.perPage <= this.total\n                    ? this.newCurrentPage * this.perPage\n                    : this.total\n\n                const from = this.newCurrentPage > 1 ? (this.newCurrentPage - 1) * this.perPage + 1 : 1\n\n                return this.total ? this.trans('labels.tables.from_to_total', {\n                    total: this.total,\n                    from,\n                    to\n                }) : '';\n            }\n        },\n        methods: {\n            /**\n             * Sort an array by key without mutating original data.\n             * Call the user sort function if it was passed.\n             */\n            sortBy(array, key, fn, isAsc) {\n                let sorted = []\n                // Sorting without mutating original data\n                if (fn && typeof fn === 'function') {\n                    sorted = [...array].sort((a, b) => fn(a, b, isAsc))\n                } else {\n                    sorted = [...array].sort((a, b) => {\n                        // Get nested values from objects\n                        let newA = getValueByPath(a, key)\n                        let newB = getValueByPath(b, key)\n\n                        if (!newA && newA !== 0) return 1\n                        if (!newB && newB !== 0) return -1\n                        if (newA === newB) return 0\n\n                        newA = (typeof newA === 'string')\n                            ? newA.toUpperCase()\n                            : newA\n                        newB = (typeof newB === 'string')\n                            ? newB.toUpperCase()\n                            : newB\n\n                        return isAsc\n                            ? newA > newB ? 1 : -1\n                            : newA > newB ? -1 : 1\n                    })\n                }\n\n                return sorted\n            },\n\n            /**\n             * Sort the column.\n             * Toggle current direction on column if it's sortable\n             * and not just updating the prop.\n             */\n            sort(column, updatingData = false) {\n                if (!column || !column.sortable) return\n\n                if (!updatingData) {\n                    this.isAsc = column === this.currentSortColumn\n                        ? !this.isAsc\n                        : (this.defaultSortDirection.toLowerCase() !== 'desc')\n                }\n                if (!this.firstTimeSort) {\n                    this.$emit('sort', column.field, this.isAsc ? 'asc' : 'desc')\n                }\n                if (!this.backendSorting) {\n                    this.newData = this.sortBy(this.newData, column.field, column.customSort, this.isAsc)\n                }\n                this.currentSortColumn = column\n            },\n\n            /**\n             * Check if the row is checked (is added to the array).\n             */\n            isRowChecked(row) {\n                return indexOf(this.checkedRows, row, this.customIsChecked) >= 0\n            },\n\n            /**\n             * Remove a checked row from the array.\n             */\n            removeCheckedRow(row) {\n                const index = indexOf(this.newCheckedRows, row, this.customIsChecked)\n                if (index >= 0) {\n                    this.newCheckedRows.splice(index, 1)\n                }\n            },\n\n            /**\n             * Header checkbox click listener.\n             * Add or remove all rows in current page.\n             */\n            checkAll() {\n                const isAllChecked = this.isAllChecked\n                this.visibleData.forEach(currentRow => {\n                    this.removeCheckedRow(currentRow)\n                    if (!isAllChecked) {\n                        this.newCheckedRows.push(currentRow)\n                    }\n                })\n\n                this.$emit('check', this.newCheckedRows)\n                this.$emit('check-all', this.newCheckedRows)\n\n                // Emit checked rows to update user variable\n                this.$emit('update:checkedRows', this.newCheckedRows)\n            },\n\n            /**\n             * Row checkbox click listener.\n             * Add or remove a single row.\n             */\n            checkRow(event, row, index) {\n                const lastIndex = this.lastCheckedRowIndex\n                this.lastCheckedRowIndex = index\n\n                if (event.shiftKey && lastIndex !== null && index !== lastIndex) {\n                    this.shiftCheckRow(row, index, lastIndex)\n                } else if (!this.isRowChecked(row)) {\n                    this.newCheckedRows.push(row)\n                } else {\n                    this.removeCheckedRow(row)\n                }\n\n                this.$emit('check', this.newCheckedRows, row)\n\n                // Emit checked rows to update user variable\n                this.$emit('update:checkedRows', this.newCheckedRows)\n            },\n\n            /**\n             * Check row when shift is pressed.\n             */\n            shiftCheckRow(row, index, lastCheckedRowIndex) {\n                // Get the subset of the message list between the two indicies.\n                const subset = this.visibleData.slice(\n                    Math.min(index, lastCheckedRowIndex),\n                    Math.max(index, lastCheckedRowIndex) + 1\n                )\n\n                // Determine the operation based on the checked state\n                // of the clicked checkbox.\n                subset.forEach(item => {\n                    this.removeCheckedRow(item)\n                    if (!this.isRowChecked(row)) {\n                        this.newCheckedRows.push(item)\n                    }\n                })\n            },\n\n            /**\n             * Row click listener.\n             * Emit all necessary events.\n             */\n            selectRow(row, index) {\n                this.$emit('click', row)\n\n                if (this.selected === row) return\n\n                // Emit new and old row\n                this.$emit('select', row, this.selected)\n\n                // Emit new row to update user variable\n                this.$emit('update:selected', row)\n            },\n\n            /**\n             * Paginator change listener.\n             */\n            pageChanged(page) {\n                this.newCurrentPage = page > 0 ? page : 1\n                this.$emit('page-change', this.newCurrentPage)\n                this.$emit('update:currentPage', this.newCurrentPage)\n            },\n\n            /**\n             * Toggle to show/hide details slot\n             */\n            toggleDetails(obj) {\n                const found = this.isVisibleDetailRow(obj)\n\n                if (found) {\n                    this.closeDetailRow(obj)\n                    this.$emit('details-close', obj)\n                } else {\n                    this.openDetailRow(obj)\n                    this.$emit('details-open', obj)\n                }\n\n                // Syncs the detailed rows with the parent component\n                this.$emit('update:openedDetailed', this.visibleDetailRows)\n            },\n\n            openDetailRow(obj) {\n                const index = this.handleDetailKey(obj)\n                this.visibleDetailRows.push(index)\n            },\n\n            closeDetailRow(obj) {\n                const index = this.handleDetailKey(obj)\n                const i = this.visibleDetailRows.indexOf(index)\n                this.visibleDetailRows.splice(i, 1)\n            },\n\n            isVisibleDetailRow(obj) {\n                const index = this.handleDetailKey(obj)\n                const result = this.visibleDetailRows.indexOf(index) >= 0\n                return result\n            },\n\n            /**\n            * When the detailKey is defined we use the object[detailKey] as index.\n            * If not, use the object reference by default.\n            */\n            handleDetailKey(index) {\n                const key = this.detailKey\n                return !key.length\n                    ? index\n                    : index[key]\n            },\n\n            checkPredefinedDetailedRows() {\n                const defaultExpandedRowsDefined = this.openedDetailed.length > 0\n                if (defaultExpandedRowsDefined && !this.detailKey.length) {\n                    throw new Error('If you set a predefined opened-detailed, you must provide an unique key using the prop \"detail-key\"')\n                }\n            },\n\n            /**\n             * Check if footer slot has custom content.\n             */\n            hasCustomFooterSlot() {\n                if (this.$slots.footer.length > 1) return true\n\n                const tag = this.$slots.footer[0].tag\n                if (tag !== 'th' && tag !== 'td') return false\n\n                return true\n            },\n\n            /**\n             * Table arrow keys listener, change selection.\n             */\n            pressedArrow(pos) {\n                if (!this.visibleData.length) return\n\n                let index = this.visibleData.indexOf(this.selected) + pos\n\n                // Prevent from going up from first and down from last\n                index = index < 0\n                    ? 0\n                    : index > this.visibleData.length - 1\n                        ? this.visibleData.length - 1\n                        : index\n\n                this.selectRow(this.visibleData[index])\n            },\n\n            /**\n             * Focus table element if has selected prop.\n             */\n            focus() {\n                if (!this.focusable) return\n\n                this.$el.querySelector('table').focus()\n            },\n\n            /**\n             * Initial sorted column based on the default-sort prop.\n             */\n            initSort() {\n                if (!this.defaultSort) return\n\n                let sortField = ''\n                let sortDirection = this.defaultSortDirection\n\n                if (Array.isArray(this.defaultSort)) {\n                    sortField = this.defaultSort[0]\n                    if (this.defaultSort[1]) {\n                        sortDirection = this.defaultSort[1]\n                    }\n                } else {\n                    sortField = this.defaultSort\n                }\n\n                this.newColumns.forEach(column => {\n                    if (column.field === sortField) {\n                        this.isAsc = sortDirection.toLowerCase() !== 'desc'\n                        this.sort(column, true)\n                    }\n                })\n            },\n\n            sortIcon(column) {\n                if (this.currentSortColumn !== column) {\n                    return 'sort'\n                }\n\n                return this.isAsc ? 'sort-asc' : 'sort-desc'\n            },\n\n            onPerPageChange(value) {\n              this.$emit('per-page-change', value);\n            }\n        },\n\n        mounted() {\n            this.checkPredefinedDetailedRows()\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableMobileSort.vue?vue&type=template&id=35ecb55e&\"\nimport script from \"./TableMobileSort.vue?vue&type=script&lang=js&\"\nexport * from \"./TableMobileSort.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field table-mobile-sort\"},[_c('div',{staticClass:\"field has-addons\"},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.mobileSort),callback:function ($$v) {_vm.mobileSort=$$v},expression:\"mobileSort\"}},_vm._l((_vm.columns),function(column,index){return (column.sortable)?_c('option',{key:index,domProps:{\"value\":column}},[_vm._v(\"\\n                \"+_vm._s(column.label)+\"\\n            \")]):_vm._e()}),0),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-primary\",on:{\"click\":_vm.sort}},[_c('b-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentSortColumn === _vm.mobileSort),expression:\"currentSortColumn === mobileSort\"}],class:{ 'is-desc': !_vm.isAsc },attrs:{\"icon\":\"arrow-up\",\"size\":\"is-small\",\"both\":\"\"}})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Table.vue?vue&type=template&id=6d4f7d58&\"\nimport script from \"./Table.vue?vue&type=script&lang=js&\"\nexport * from \"./Table.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"b-table\",class:{ 'is-loading': _vm.loading }},[(_vm.mobileCards && _vm.hasSortableColumns)?_c('nz-table-mobile-sort',{attrs:{\"current-sort-column\":_vm.currentSortColumn,\"is-asc\":_vm.isAsc,\"columns\":_vm.newColumns},on:{\"sort\":function (column) { return _vm.sort(column); }}}):_vm._e(),_vm._v(\" \"),(_vm.paginated && _vm.paginationOnTop)?_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('b-field',[_c('b-select',{attrs:{\"value\":_vm.perPage,\"placeholder\":\"Per page\"},on:{\"input\":_vm.onPerPageChange}},_vm._l((_vm.perPageOptions),function(option,index){return _c('option',{key:index,domProps:{\"value\":option,\"textContent\":_vm._s(option)}})}),0)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"level-item\"},[_vm._v(_vm._s(_vm.showing))])]),_vm._v(\" \"),_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[_c('b-pagination',{attrs:{\"total\":_vm.newDataTotal,\"per-page\":_vm.perPage,\"simple\":_vm.paginationSimple,\"size\":_vm.paginationSize,\"current\":_vm.newCurrentPage},on:{\"change\":_vm.pageChanged}})],1)])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"table-wrapper\"},[_c('table',{staticClass:\"table\",class:_vm.tableClasses,attrs:{\"tabindex\":!_vm.focusable ? false : 0},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.preventDefault();return _vm.pressedArrow(-1)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.preventDefault();return _vm.pressedArrow(1)}]}},[(_vm.newColumns.length)?_c('thead',[_c('tr',[(_vm.detailed)?_c('th',{attrs:{\"width\":\"40px\"}}):_vm._e(),_vm._v(\" \"),(_vm.checkable)?_c('th',{staticClass:\"checkbox-cell\"},[_c('b-checkbox',{attrs:{\"value\":_vm.isAllChecked},nativeOn:{\"change\":function($event){return _vm.checkAll($event)}}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.newColumns),function(column,index){return (column.visible)?_c('th',{key:index,class:{ 'is-current-sort': _vm.currentSortColumn === column, 'is-sortable': column.sortable },style:({ width: column.width + 'px' }),on:{\"click\":function($event){$event.stopPropagation();return _vm.sort(column)}}},[_c('div',{staticClass:\"th-wrap\",class:{ 'is-numeric': column.numeric, 'is-centered': column.centered }},[(_vm.$scopedSlots.header)?_vm._t(\"header\",null,{\"column\":column,\"index\":index}):[_vm._v(_vm._s(column.label))],_vm._v(\" \"),(column.sortable)?_c('b-icon',{class:{'has-text-grey-light': _vm.currentSortColumn !== column},attrs:{\"icon\":_vm.sortIcon(column),\"size\":\"is-small\"}}):_vm._e()],2)]):_vm._e()})],2)]):_vm._e(),_vm._v(\" \"),(_vm.visibleData.length)?_c('tbody',[_vm._l((_vm.visibleData),function(row,index){return [_c('tr',{key:index,class:[_vm.rowClass(row, index), {\n                            'is-selected': row === _vm.selected,\n                            'is-checked': _vm.isRowChecked(row)\n                        }],on:{\"click\":function($event){return _vm.selectRow(row)},\"dblclick\":function($event){return _vm.$emit('dblclick', row)}}},[(_vm.detailed)?_c('td',{staticClass:\"chevron-cell\"},[(_vm.hasDetailedVisible(row))?_c('a',{attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleDetails(row)}}},[_c('b-icon',{class:{'is-expanded': _vm.isVisibleDetailRow(row)},attrs:{\"icon\":\"chevron-right\",\"both\":\"\"}})],1):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.checkable)?_c('td',{staticClass:\"checkbox-cell\"},[_c('b-checkbox',{attrs:{\"value\":_vm.isRowChecked(row)},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.checkRow($event, row, index)}}})],1):_vm._e(),_vm._v(\" \"),(_vm.$scopedSlots.default)?_vm._t(\"default\",null,{\"row\":row,\"index\":index}):_vm._l((_vm.newColumns),function(column){return _c('b-table-column',_vm._b({key:column.field,attrs:{\"internal\":\"\"}},'b-table-column',column,false),[(column.renderHtml)?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getValueByPath(row, column.field))}}):[_vm._v(\"\\n                                    \"+_vm._s(_vm.getValueByPath(row, column.field))+\"\\n                                \")]],2)})],2),_vm._v(\" \"),(_vm.detailed && _vm.isVisibleDetailRow(row))?_c('tr',{staticClass:\"detail\"},[_c('td',{attrs:{\"colspan\":_vm.columnCount}},[_c('div',{staticClass:\"detail-container\"},[_vm._t(\"detail\",null,{\"row\":row,\"index\":index})],2)])]):_vm._e()]})],2):_c('tbody',[_c('tr',{staticClass:\"is-empty\"},[_c('td',{attrs:{\"colspan\":_vm.columnCount}},[_vm._t(\"empty\")],2)])]),_vm._v(\" \"),(_vm.$slots.footer !== undefined)?_c('tfoot',[_c('tr',{staticClass:\"table-footer\"},[(_vm.hasCustomFooterSlot())?_vm._t(\"footer\"):_c('th',{attrs:{\"colspan\":_vm.columnCount}},[_vm._t(\"footer\")],2)],2)]):_vm._e()])]),_vm._v(\" \"),(_vm.checkable || _vm.paginated)?_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('b-field',[_c('b-select',{attrs:{\"value\":_vm.perPage,\"placeholder\":\"Per page\"},on:{\"input\":_vm.onPerPageChange}},_vm._l((_vm.perPageOptions),function(option,index){return _c('option',{key:index,domProps:{\"value\":option,\"textContent\":_vm._s(option)}})}),0)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"level-item\"},[_vm._v(_vm._s(_vm.showing))])]),_vm._v(\" \"),_c('div',{staticClass:\"level-right\"},[(_vm.paginated)?_c('div',{staticClass:\"level-item\"},[_c('b-pagination',{attrs:{\"total\":_vm.newDataTotal,\"per-page\":_vm.perPage,\"simple\":_vm.paginationSimple,\"size\":_vm.paginationSize,\"current\":_vm.newCurrentPage},on:{\"change\":_vm.pageChanged}})],1):_vm._e()])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  data() {\n    return {\n      showFilter: false,\n      filter: this.filterDefaults(),\n      newFilter: this.filterDefaults(),\n      filterIsActive: false,\n    }\n  },\n\n  methods: {\n    filterDefaults() {\n      return {}\n    },\n\n    clearFilter() {\n      this.newFilter = this.filterDefaults()\n\n      this.applyFilter(false)\n    },\n\n    applyFilter(filterIsActive = true) {\n      let reload = false\n\n      Object.keys(this.newFilter).forEach((field) => {\n        if (this.filter[field] !== this.newFilter[field]) {\n          reload = true\n        }\n\n        this.filter[field] = this.newFilter[field]\n      })\n\n      this.filterIsActive = filterIsActive\n\n      if (reload) {\n        this.$emit('filter')\n      }\n    }\n  }\n}\n","class ExpiringStorage {\n  get(key) {\n    const cached = JSON.parse(\n      localStorage.getItem(key)\n    )\n\n    if (! cached) {\n      return null\n    }\n\n    const expires = new Date(cached.expires)\n\n    if (expires < new Date()) {\n      localStorage.removeItem(key)\n      return null\n    }\n\n    return cached.value\n  }\n\n  has(key) {\n    return this.get(key) !== null\n  }\n\n  set(key, value, lifeTimeInMinutes) {\n    const currentTime = new Date().getTime()\n\n    const expires = new Date(currentTime + lifeTimeInMinutes * 60000)\n\n    localStorage.setItem(key, JSON.stringify({ value, expires }))\n  }\n\n  delete(key) {\n    const cached = this.get(key)\n\n    if (cached) {\n      localStorage.removeItem(key)\n    }\n  }\n}\n\nexport default new ExpiringStorage()\n","import _pick from 'lodash/pick'\nimport expiringStorage from '@/expiring-storage'\n\nexport default {\n  props: {\n    cacheKey: { default: null },\n    cacheLifetime: { default: 60 * 24 }\n  },\n\n  computed: {\n    storageKey() {\n      return this.cacheKey\n        ? `nz-table.${this.cacheKey}`\n        : `nz-table.${window.location.host}${window.location.pathname}`\n    }\n  },\n\n  methods: {\n    getPersistantKeys() {\n      return [\n        'sortField', 'sortOrder', 'perPage'\n      ]\n    },\n\n    saveState() {\n      expiringStorage.set(this.storageKey, _pick(this.$data, this.getPersistantKeys()), this.cacheLifetime)\n    },\n\n    restoreState() {\n      const previousState = expiringStorage.get(this.storageKey)\n\n      if (previousState === null || previousState === undefined) {\n        return\n      }\n\n      this.getPersistantKeys().forEach(key => {\n        if (previousState[key] !== undefined) {\n          this.$set(this, key, previousState[key])\n        }\n      })\n\n      this.saveState()\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportDownloadModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportDownloadModal.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"modal-card\">\n    <div class=\"modal-card-head\">\n      <p class=\"modal-card-title\">{{ trans('labels.exports.title') }}</p>\n    </div>\n\n    <div class=\"modal-card-body\">\n      {{ trans('labels.exports.finished') }}\n\n      <a :href=\"url\" :download=\"filename\">{{ trans('buttons.download') }}</a>\n    </div>\n\n    <div class=\"modal-card-foot\">\n      <button type=\"button\" class=\"button\" @click=\"$emit('close')\">{{ trans('buttons.close') }}</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzExportDownloadModal',\n\n  props: {\n    url: {\n      type: String,\n      required: true\n    }\n  },\n\n  computed: {\n    filename() {\n      const filename = this.url.substring(this.url.lastIndexOf('/') + 1)\n\n      return `export-${filename}`\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./ExportDownloadModal.vue?vue&type=template&id=2fff8873&\"\nimport script from \"./ExportDownloadModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportDownloadModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-card\"},[_c('div',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('labels.exports.title')))])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-card-body\"},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('labels.exports.finished'))+\"\\n\\n    \"),_c('a',{attrs:{\"href\":_vm.url,\"download\":_vm.filename}},[_vm._v(_vm._s(_vm.trans('buttons.download')))])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-card-foot\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(_vm._s(_vm.trans('buttons.close')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"taxa-table\">\n    <div class=\"level\">\n      <div class=\"level-left\">\n        <div class=\"level-item\">\n          <button\n              type=\"button\"\n              class=\"button is-touch-full\"\n              @click=\"showFilter = !showFilter\"\n          >\n            <b-icon icon=\"filter\" :class=\"[filterIsActive ? 'has-text-primary' : 'has-text-grey-light']\" />\n            <span>{{ trans('buttons.filters') }}</span>\n          </button>\n        </div>\n      </div>\n\n      <div class=\"level-right\" v-if=\"hasActions\">\n        <div class=\"level-item\">\n          <b-dropdown position=\"is-bottom-left\">\n            <button\n              class=\"button is-touch-full\"\n              slot=\"trigger\"\n            >\n              <span>{{ trans('labels.actions') }}</span>\n\n              <span class=\"icon has-text-grey\">\n                <i class=\"fa fa-angle-down\"></i>\n              </span>\n            </button>\n\n            <b-dropdown-item\n              @click=\"openExportModal\"\n              v-if=\"exportable\"\n            >\n              <b-icon icon=\"download\" class=\"has-text-grey\" />\n\n              <span>{{ trans('buttons.export') }}</span>\n            </b-dropdown-item>\n          </b-dropdown>\n        </div>\n      </div>\n    </div>\n\n    <b-collapse :open=\"showFilter\" class=\"mt-4\">\n      <form @submit.prevent=\"applyFilter\">\n        <div class=\"columns\">\n          <b-field :label=\"trans('labels.taxa.rank')\" class=\"column is-half\">\n            <b-select v-model=\"newFilter.rank\" expanded>\n              <option value=\"\"></option>\n              <option\n                v-for=\"(rank, index) in ranks\"\n                :value=\"rank.value\"\n                :key=\"index\"\n                v-text=\"rank.label\"\n              />\n            </b-select>\n          </b-field>\n\n          <div class=\"column is half\">\n            <nz-taxon-autocomplete\n              @select=\"onTaxonSelect\"\n              v-model=\"newFilter.name\"\n              :taxon=\"newFilter.selectedTaxon\"\n              :label=\"trans('labels.taxa.name')\"\n              placeholder=\"\"\n            />\n            <b-checkbox v-model=\"newFilter.includeChildTaxa\">{{ trans('labels.taxa.include_lower_taxa') }}</b-checkbox>\n          </div>\n        </div>\n\n        <button type=\"submit\" class=\"button is-primary is-outlined\" @click=\"applyFilter\">{{ trans('buttons.apply') }}</button>\n\n        <button type=\"button\" class=\"button\" @click=\"clearFilter\">{{ trans('buttons.clear') }}</button>\n      </form>\n    </b-collapse>\n\n    <hr>\n\n    <nz-table\n      :data=\"data\"\n      :loading=\"loading\"\n\n      paginated\n      backend-pagination\n      :total=\"total\"\n      :per-page=\"perPage\"\n      @page-change=\"onPageChange\"\n      @per-page-change=\"onPerPageChange\"\n      :per-page-options=\"perPageOptions\"\n      pagination-on-top\n\n      backend-sorting\n      :default-sort-direction=\"defaultSortOrder\"\n      :default-sort=\"[sortField, sortOrder]\"\n      @sort=\"onSort\"\n\n      :mobile-cards=\"true\"\n\n      :checkable=\"hasActions\"\n      :checked-rows.sync=\"checkedRows\"\n    >\n\n      <template slot-scope=\"{ row }\">\n        <b-table-column field=\"id\" :label=\"trans('labels.id')\" width=\"40\" numeric sortable>\n          {{ row.id }}\n        </b-table-column>\n\n        <b-table-column field=\"rank_level\" :label=\"trans('labels.taxa.rank')\" sortable>\n          {{ row.rank_translation }}\n        </b-table-column>\n\n        <b-table-column field=\"name\" :label=\"trans('labels.taxa.name')\" sortable>\n          {{ row.name + (row.native_name ? ` (${row.native_name})` : '') }}\n        </b-table-column>\n\n        <b-table-column width=\"150\" numeric>\n          <a @click=\"openActivityLogModal(row)\" v-if=\"showActivityLog && row.activity && row.activity.length > 0\" :title=\"trans('Activity Log')\"><b-icon icon=\"history\" /></a>\n\n          <a :href=\"editLink(row)\" v-if=\"row.can_edit\"><b-icon icon=\"edit\"></b-icon></a>\n\n          <a @click=\"confirmRemove(row)\" v-if=\"row.can_delete\"><b-icon icon=\"trash\"></b-icon></a>\n        </b-table-column>\n      </template>\n\n      <template slot=\"empty\">\n        <section class=\"section\">\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{ empty }}</p>\n          </div>\n        </section>\n      </template>\n    </nz-table>\n\n    <b-modal :active=\"activityLog.length > 0\" @close=\"activityLog = []\">\n      <div class=\"modal-card\">\n        <div class=\"modal-card-head\">\n          <b-icon icon=\"history\" />\n          <p class=\"modal-card-title\">{{ trans('Activity Log') }}</p>\n        </div>\n        <div class=\"modal-card-body\">\n          <nz-taxon-activity-log :activities=\"activityLog\" />\n        </div>\n      </div>\n    </b-modal>\n\n    <b-modal :active=\"showExportModal\" @close=\"showExportModal = false\" has-modal-card :can-cancel=\"[]\">\n      <nz-export-modal\n        :checked=\"checkedIds\"\n        :filter=\"filter\"\n        :columns=\"exportColumns\"\n        :url=\"exportUrl\"\n        :types=\"['custom']\"\n        :sort=\"sortBy\"\n        @cancel=\"showExportModal = false\"\n        @done=\"onExportDone\"\n      />\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport FilterableTableMixin from '@/mixins/FilterableTableMixin'\nimport PersistentTableMixin from '@/mixins/PersistentTableMixin'\nimport ExportDownloadModal from '@/components/exports/ExportDownloadModal'\n\nexport default {\n  name: 'nzTaxaTable',\n\n  mixins: [FilterableTableMixin, PersistentTableMixin],\n\n  props: {\n    perPageOptions: {\n      type: Array,\n      default: () => [15, 30, 50, 100],\n      validator: value => value.length\n    },\n    listRoute: String,\n    editRoute: String,\n    deleteRoute: String,\n    empty: {\n      type: String,\n      default: 'Nothing here.'\n    },\n    ranks: Array,\n    showActivityLog: Boolean,\n    exportColumns: Array,\n    exportUrl: String\n  },\n\n  data() {\n    return {\n      data: [],\n      total: 0,\n      loading: false,\n      sortField: 'id',\n      sortOrder: 'desc',\n      defaultSortOrder: 'asc',\n      page: 1,\n      perPage: this.perPageOptions[0],\n      checkedRows: [],\n      activityLog: [],\n      showExportModal: false\n    }\n  },\n\n  computed: {\n    hasActions() {\n      return this.exportable\n    },\n\n    exportable() {\n      return !!(this.exportUrl && this.exportColumns.length)\n    },\n\n    checkedIds() {\n      return this.checkedRows.map(row => row.id)\n    },\n\n    sortBy() {\n      return `${this.sortField}.${this.sortOrder}`\n    }\n  },\n\n  created() {\n    this.restoreState()\n    this.addMissingValuesAfterRestoration()\n    this.loadAsyncData()\n\n    this.$on('filter', () => {\n      this.saveState()\n      this.loadAsyncData()\n    })\n  },\n\n  methods: {\n    loadAsyncData() {\n      this.loading = true\n\n      const { selectedTaxon, ...filter } = this.filter\n\n      return axios.get(route(this.listRoute).withQuery({\n        ...filter,\n        sort_by: this.sortBy,\n        page: this.page,\n        per_page:this.perPage,\n      })).then(({ data: response }) => {\n        this.data = response.data\n        this.total = response.meta.total\n        this.loading = false\n      }, (response) => {\n        this.data = []\n        this.total = 0\n        this.loading = false\n      })\n    },\n\n    /*\n     * Handle page-change event\n     */\n    onPageChange(page) {\n      this.page = page\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    /*\n     * Handle sort event\n     */\n    onSort(field, order) {\n      this.sortField = field\n      this.sortOrder = order\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    onPerPageChange(perPage) {\n      if (perPage === this.perPage) return\n\n      this.perPage = perPage\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    confirmRemove(row) {\n      this.$buefy.dialog.confirm({\n        message: this.trans('Are you sure you want to delete this record?'),\n        confirmText: this.trans('buttons.delete'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-danger',\n        onConfirm: () => { this.remove(row) }\n      })\n    },\n\n    remove (row) {\n      return axios.delete(route(this.deleteRoute, row.id)).then(response => {\n        this.$buefy.toast.open({\n          message: this.trans('Record deleted'),\n          type: 'is-success'\n        })\n\n        this.loadAsyncData()\n      }).catch(error => { console.error(error) })\n    },\n\n    editLink (row) {\n      return route(this.editRoute, row.id)\n    },\n\n    openActivityLogModal(row) {\n      this.activityLog = row.activity\n    },\n\n    filterDefaults() {\n      return {\n        name: null,\n        rank: null,\n        taxonId: null,\n        includeChildTaxa: null,\n        selectedTaxon: null,\n        id: null\n      }\n    },\n\n    openExportModal() {\n      this.showExportModal = true\n    },\n\n    onExportDone(finishedExport) {\n      this.showExportModal = false\n\n      if (finishedExport.url) {\n        this.$buefy.modal.open({\n          parent: this,\n          component: ExportDownloadModal,\n          canCancel: [],\n          hasModalCard: true,\n          props: {\n            url: finishedExport.url,\n          }\n        })\n      } else {\n        this.$buefy.toast.open({\n          duration: 0,\n          message: `Something's not good, also I'm on bottom`,\n          type: 'is-danger'\n        })\n      }\n    },\n\n    onTaxonSelect(taxon) {\n      this.newFilter.taxonId = taxon ? taxon.id : null\n      this.newFilter.selectedTaxon = taxon\n    },\n\n    getPersistantKeys() {\n      return [\n        'sortField', 'sortOrder', 'perPage', 'page',\n        'newFilter', 'filter', 'filterIsActive'\n      ]\n    },\n\n    addMissingValuesAfterRestoration() {\n      this.page = this.page || 1\n      this.perPage = this.perPage || this.perPageOptions[0]\n      this.sortField = this.sortField || 'id'\n      this.sortOrder = this.sortOrder || 'desc'\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxaTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxaTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaxaTable.vue?vue&type=template&id=37c18aca&\"\nimport script from \"./TaxaTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TaxaTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"taxa-table\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button is-touch-full\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showFilter = !_vm.showFilter}}},[_c('b-icon',{class:[_vm.filterIsActive ? 'has-text-primary' : 'has-text-grey-light'],attrs:{\"icon\":\"filter\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.filters')))])],1)])]),_vm._v(\" \"),(_vm.hasActions)?_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\"}},[_c('button',{staticClass:\"button is-touch-full\",attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('span',[_vm._v(_vm._s(_vm.trans('labels.actions')))]),_vm._v(\" \"),_c('span',{staticClass:\"icon has-text-grey\"},[_c('i',{staticClass:\"fa fa-angle-down\"})])]),_vm._v(\" \"),(_vm.exportable)?_c('b-dropdown-item',{on:{\"click\":_vm.openExportModal}},[_c('b-icon',{staticClass:\"has-text-grey\",attrs:{\"icon\":\"download\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.export')))])],1):_vm._e()],1)],1)]):_vm._e()]),_vm._v(\" \"),_c('b-collapse',{staticClass:\"mt-4\",attrs:{\"open\":_vm.showFilter}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.applyFilter($event)}}},[_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column is-half\",attrs:{\"label\":_vm.trans('labels.taxa.rank')}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.newFilter.rank),callback:function ($$v) {_vm.$set(_vm.newFilter, \"rank\", $$v)},expression:\"newFilter.rank\"}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.ranks),function(rank,index){return _c('option',{key:index,domProps:{\"value\":rank.value,\"textContent\":_vm._s(rank.label)}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"column is half\"},[_c('nz-taxon-autocomplete',{attrs:{\"taxon\":_vm.newFilter.selectedTaxon,\"label\":_vm.trans('labels.taxa.name'),\"placeholder\":\"\"},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.newFilter.name),callback:function ($$v) {_vm.$set(_vm.newFilter, \"name\", $$v)},expression:\"newFilter.name\"}}),_vm._v(\" \"),_c('b-checkbox',{model:{value:(_vm.newFilter.includeChildTaxa),callback:function ($$v) {_vm.$set(_vm.newFilter, \"includeChildTaxa\", $$v)},expression:\"newFilter.includeChildTaxa\"}},[_vm._v(_vm._s(_vm.trans('labels.taxa.include_lower_taxa')))])],1)],1),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary is-outlined\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.applyFilter}},[_vm._v(_vm._s(_vm.trans('buttons.apply')))]),_vm._v(\" \"),_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearFilter}},[_vm._v(_vm._s(_vm.trans('buttons.clear')))])])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('nz-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.perPage,\"per-page-options\":_vm.perPageOptions,\"pagination-on-top\":\"\",\"backend-sorting\":\"\",\"default-sort-direction\":_vm.defaultSortOrder,\"default-sort\":[_vm.sortField, _vm.sortOrder],\"mobile-cards\":true,\"checkable\":_vm.hasActions,\"checked-rows\":_vm.checkedRows},on:{\"page-change\":_vm.onPageChange,\"per-page-change\":_vm.onPerPageChange,\"sort\":_vm.onSort,\"update:checkedRows\":function($event){_vm.checkedRows=$event},\"update:checked-rows\":function($event){_vm.checkedRows=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"id\",\"label\":_vm.trans('labels.id'),\"width\":\"40\",\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.id)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"rank_level\",\"label\":_vm.trans('labels.taxa.rank'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.rank_translation)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.trans('labels.taxa.name'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.name + (row.native_name ? (\" (\" + (row.native_name) + \")\") : ''))+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"width\":\"150\",\"numeric\":\"\"}},[(_vm.showActivityLog && row.activity && row.activity.length > 0)?_c('a',{attrs:{\"title\":_vm.trans('Activity Log')},on:{\"click\":function($event){return _vm.openActivityLogModal(row)}}},[_c('b-icon',{attrs:{\"icon\":\"history\"}})],1):_vm._e(),_vm._v(\" \"),(row.can_edit)?_c('a',{attrs:{\"href\":_vm.editLink(row)}},[_c('b-icon',{attrs:{\"icon\":\"edit\"}})],1):_vm._e(),_vm._v(\" \"),(row.can_delete)?_c('a',{on:{\"click\":function($event){return _vm.confirmRemove(row)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1):_vm._e()])]}}])},[_vm._v(\" \"),_c('template',{slot:\"empty\"},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.empty))])])])])],2),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.activityLog.length > 0},on:{\"close\":function($event){_vm.activityLog = []}}},[_c('div',{staticClass:\"modal-card\"},[_c('div',{staticClass:\"modal-card-head\"},[_c('b-icon',{attrs:{\"icon\":\"history\"}}),_vm._v(\" \"),_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('Activity Log')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-card-body\"},[_c('nz-taxon-activity-log',{attrs:{\"activities\":_vm.activityLog}})],1)])]),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.showExportModal,\"has-modal-card\":\"\",\"can-cancel\":[]},on:{\"close\":function($event){_vm.showExportModal = false}}},[_c('nz-export-modal',{attrs:{\"checked\":_vm.checkedIds,\"filter\":_vm.filter,\"columns\":_vm.exportColumns,\"url\":_vm.exportUrl,\"types\":['custom'],\"sort\":_vm.sortBy},on:{\"cancel\":function($event){_vm.showExportModal = false},\"done\":_vm.onExportDone}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTable.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"users-table\">\n    <div class=\"level\">\n      <div class=\"level-left\">\n        <div class=\"level-item\">\n          <b-field>\n            <b-input\n              :placeholder=\"trans('labels.users.search')\"\n              :value=\"search\"\n              @input=\"performSearch\"\n              icon=\"search\"\n              expanded\n            />\n\n            <p class=\"control\" v-if=\"search\">\n              <span class=\"button\" @click=\"clearSearch\">\n                <b-icon icon=\"close\" />\n              </span>\n            </p>\n          </b-field>\n        </div>\n      </div>\n    </div>\n\n    <hr>\n\n    <nz-table\n      :data=\"data\"\n      :loading=\"loading\"\n\n      paginated\n      backend-pagination\n      :total=\"total\"\n      :per-page=\"perPage\"\n      @page-change=\"onPageChange\"\n      @per-page-change=\"onPerPageChange\"\n      :per-page-options=\"perPageOptions\"\n      pagination-on-top\n\n      backend-sorting\n      :default-sort-direction=\"defaultSortOrder\"\n      :default-sort=\"[sortField, sortOrder]\"\n      @sort=\"onSort\"\n\n      :mobile-cards=\"true\"\n    >\n      <template slot-scope=\"props\">\n        <b-table-column field=\"id\" :label=\"trans('labels.id')\" width=\"40\" numeric sortable>\n          {{ props.row.id }}\n        </b-table-column>\n\n        <b-table-column field=\"first_name\" :label=\"trans('labels.users.first_name')\" sortable>\n          {{ props.row.first_name }}\n        </b-table-column>\n\n        <b-table-column field=\"last_name\" :label=\"trans('labels.users.last_name')\" sortable>\n          {{ props.row.last_name }}\n        </b-table-column>\n\n        <b-table-column field=\"email\" :label=\"trans('labels.users.email')\" sortable>\n          {{ props.row.email }}\n        </b-table-column>\n\n        <b-table-column field=\"institution\" :label=\"trans('labels.users.institution')\" sortable>\n          {{ props.row.institution }}\n        </b-table-column>\n\n        <b-table-column width=\"150\" numeric>\n          <a :href=\"editLink(props.row)\"><b-icon icon=\"edit\"></b-icon></a>\n\n          <a @click=\"confirmRemove(props.row)\"><b-icon icon=\"trash\"></b-icon></a>\n        </b-table-column>\n      </template>\n\n      <template slot=\"empty\">\n        <section class=\"section\">\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{ empty }}</p>\n          </div>\n        </section>\n      </template>\n    </nz-table>\n  </div>\n</template>\n\n<script>\nimport _debounce from 'lodash/debounce'\nimport PersistentTableMixin from '@/mixins/PersistentTableMixin'\n\nexport default {\n  name: 'nzUsersTable',\n\n  mixins: [PersistentTableMixin],\n\n  props: {\n    perPageOptions: {\n      type: Array,\n      default: () => [15, 30, 50, 100],\n      validator: value => value.length\n    },\n    listRoute: String,\n    editRoute: String,\n    deleteRoute: String,\n    empty: {\n      type: String,\n      default: 'Nothing here.'\n    },\n    ranks: Array\n  },\n\n  data() {\n    return {\n      data: [],\n      total: 0,\n      loading: false,\n      sortField: 'id',\n      sortOrder: 'asc',\n      defaultSortOrder: 'asc',\n      page: 1,\n      perPage: this.perPageOptions[0],\n      checkedRows: [],\n      search: ''\n    }\n  },\n\n  created() {\n    this.restoreState()\n    this.loadAsyncData()\n  },\n\n  methods: {\n    loadAsyncData() {\n      this.loading = true\n\n      return axios.get(route(this.listRoute).withQuery({\n        sort_by: `${this.sortField}.${this.sortOrder}`,\n        page: this.page,\n        per_page: this.perPage,\n        search: this.search\n      })).then(({ data: response }) => {\n        this.data = []\n        this.total = response.meta.total\n        response.data.forEach((item) => this.data.push(item))\n        this.loading = false\n      }, response => {\n        this.data = []\n        this.total = 0\n        this.loading = false\n      })\n    },\n\n    /*\n     * Handle page-change event\n     */\n    onPageChange(page) {\n      this.page = page\n      this.loadAsyncData()\n    },\n\n    /*\n     * Handle sort event\n     */\n    onSort(field, order) {\n      this.sortField = field\n      this.sortOrder = order\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    clearFilter() {\n      for (let field in this.newFilter) {\n        this.newFilter[field] = ''\n      }\n\n      this.onFilter()\n    },\n\n    onFilter() {\n      let reload = false\n\n      for (let field in this.newFilter) {\n        if (this.filter[field] !== this.newFilter[field]) {\n          reload = true\n        }\n\n        this.filter[field] = this.newFilter[field]\n      }\n\n      if (reload) {\n        this.loadAsyncData()\n      }\n    },\n\n    onPerPageChange(perPage) {\n      if (perPage === this.perPage) return\n\n      this.perPage = perPage\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    confirmRemove(row) {\n      this.$buefy.dialog.confirm({\n        message: this.trans('Are you sure you want to delete this record?'),\n        confirmText: this.trans('buttons.delete'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-danger',\n        onConfirm: () => { this.remove(row) }\n      })\n    },\n\n    remove (row) {\n      return axios.delete(route(this.deleteRoute, row.id)).then(response => {\n        this.$buefy.toast.open({\n          message: this.trans('Record deleted'),\n          type: 'is-success'\n        })\n\n        this.loadAsyncData()\n      }).catch(error => { console.error(error) })\n    },\n\n    editLink (row) {\n      return route(this.editRoute, row.id)\n    },\n\n    performSearch: _debounce(function (value) {\n      if (this.search !== value) {\n        this.search = value\n        this.loadAsyncData()\n      }\n    }, 500),\n\n    clearSearch() {\n      this.search = ''\n      this.loadAsyncData()\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./UsersTable.vue?vue&type=template&id=3388c7df&\"\nimport script from \"./UsersTable.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"users-table\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('b-field',[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.users.search'),\"value\":_vm.search,\"icon\":\"search\",\"expanded\":\"\"},on:{\"input\":_vm.performSearch}}),_vm._v(\" \"),(_vm.search)?_c('p',{staticClass:\"control\"},[_c('span',{staticClass:\"button\",on:{\"click\":_vm.clearSearch}},[_c('b-icon',{attrs:{\"icon\":\"close\"}})],1)]):_vm._e()],1)],1)])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('nz-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.perPage,\"per-page-options\":_vm.perPageOptions,\"pagination-on-top\":\"\",\"backend-sorting\":\"\",\"default-sort-direction\":_vm.defaultSortOrder,\"default-sort\":[_vm.sortField, _vm.sortOrder],\"mobile-cards\":true},on:{\"page-change\":_vm.onPageChange,\"per-page-change\":_vm.onPerPageChange,\"sort\":_vm.onSort},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-table-column',{attrs:{\"field\":\"id\",\"label\":_vm.trans('labels.id'),\"width\":\"40\",\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(props.row.id)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"first_name\",\"label\":_vm.trans('labels.users.first_name'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(props.row.first_name)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"last_name\",\"label\":_vm.trans('labels.users.last_name'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(props.row.last_name)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"email\",\"label\":_vm.trans('labels.users.email'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(props.row.email)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"institution\",\"label\":_vm.trans('labels.users.institution'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(props.row.institution)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"width\":\"150\",\"numeric\":\"\"}},[_c('a',{attrs:{\"href\":_vm.editLink(props.row)}},[_c('b-icon',{attrs:{\"icon\":\"edit\"}})],1),_vm._v(\" \"),_c('a',{on:{\"click\":function($event){return _vm.confirmRemove(props.row)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1)])]}}])},[_vm._v(\" \"),_c('template',{slot:\"empty\"},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.empty))])])])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroupsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroupsTable.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"view-groups-table\">\n    <nz-table\n      :data=\"data\"\n      :loading=\"loading\"\n\n      paginated\n      backend-pagination\n      :total=\"total\"\n      :per-page=\"perPage\"\n      @page-change=\"onPageChange\"\n      @per-page-change=\"onPerPageChange\"\n      :per-page-options=\"perPageOptions\"\n      pagination-on-top\n\n      backend-sorting\n      :default-sort-direction=\"defaultSortOrder\"\n      :default-sort=\"[sortField, sortOrder]\"\n      @sort=\"onSort\"\n\n      :mobile-cards=\"true\"\n    >\n      <template slot-scope=\"{ row }\">\n        <b-table-column field=\"id\" :label=\"trans('labels.id')\" width=\"40\" numeric sortable>\n          {{ row.id }}\n        </b-table-column>\n\n        <b-table-column field=\"name\" :label=\"trans('labels.view_groups.name')\">\n          {{ row.name }}\n        </b-table-column>\n\n        <b-table-column width=\"150\" numeric>\n          <a :href=\"editLink(row)\"><b-icon icon=\"edit\"></b-icon></a>\n\n          <a @click=\"confirmRemove(row)\"><b-icon icon=\"trash\"></b-icon></a>\n        </b-table-column>\n      </template>\n\n      <template slot=\"empty\">\n        <section class=\"section\">\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{ empty }}</p>\n          </div>\n        </section>\n      </template>\n    </nz-table>\n  </div>\n</template>\n\n<script>\nimport PersistentTableMixin from '@/mixins/PersistentTableMixin'\n\nexport default {\n  name: 'nzViewGroupsTable',\n\n  mixins: [PersistentTableMixin],\n\n  props: {\n    perPageOptions: {\n      type: Array,\n      default: () => [15, 30, 50, 100],\n      validator: value => value.length\n    },\n    listRoute: String,\n    editRoute: String,\n    deleteRoute: String,\n    empty: {\n      type: String,\n      default: 'Nothing here.'\n    },\n    ranks: Array,\n    showActivityLog: Boolean\n  },\n\n  data() {\n    return {\n      data: [],\n      total: 0,\n      loading: false,\n      sortField: 'id',\n      sortOrder: 'desc',\n      defaultSortOrder: 'asc',\n      page: 1,\n      perPage: this.perPageOptions[0],\n      checkedRows: []\n    }\n  },\n\n  created() {\n    this.restoreState()\n    this.loadAsyncData()\n  },\n\n  methods: {\n    loadAsyncData() {\n      this.loading = true\n\n      return axios.get(route(this.listRoute).withQuery({\n        sort_by: `${this.sortField}.${this.sortOrder}`,\n        page: this.page,\n        per_page: this.perPage\n      })).then(({ data: response }) => {\n        this.data = []\n        this.total = response.meta.total\n        response.data.forEach((item) => this.data.push(item))\n        this.loading = false\n      }, response => {\n        this.data = []\n        this.total = 0\n        this.loading = false\n      })\n    },\n\n    /*\n     * Handle page-change event\n     */\n    onPageChange(page) {\n      this.page = page\n      this.loadAsyncData()\n    },\n\n    /*\n     * Handle sort event\n     */\n    onSort(field, order) {\n      this.sortField = field\n      this.sortOrder = order\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    onPerPageChange(perPage) {\n      if (perPage === this.perPage) return\n\n      this.perPage = perPage\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    confirmRemove(row) {\n      this.$buefy.dialog.confirm({\n        message: this.trans('Are you sure you want to delete this record?'),\n        confirmText: this.trans('buttons.delete'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-danger',\n        onConfirm: () => { this.remove(row) }\n      })\n    },\n\n    remove (row) {\n      return axios.delete(route(this.deleteRoute, row.id)).then(response => {\n        this.$buefy.toast.open({\n          message: this.trans('Record deleted'),\n          type: 'is-success'\n        })\n\n        this.loadAsyncData()\n      }).catch(error => { console.error(error) })\n    },\n\n    editLink (row) {\n      return route(this.editRoute, row.id)\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./ViewGroupsTable.vue?vue&type=template&id=5dc5762f&\"\nimport script from \"./ViewGroupsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewGroupsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"view-groups-table\"},[_c('nz-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.perPage,\"per-page-options\":_vm.perPageOptions,\"pagination-on-top\":\"\",\"backend-sorting\":\"\",\"default-sort-direction\":_vm.defaultSortOrder,\"default-sort\":[_vm.sortField, _vm.sortOrder],\"mobile-cards\":true},on:{\"page-change\":_vm.onPageChange,\"per-page-change\":_vm.onPerPageChange,\"sort\":_vm.onSort},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"id\",\"label\":_vm.trans('labels.id'),\"width\":\"40\",\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.id)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":_vm.trans('labels.view_groups.name')}},[_vm._v(\"\\n        \"+_vm._s(row.name)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"width\":\"150\",\"numeric\":\"\"}},[_c('a',{attrs:{\"href\":_vm.editLink(row)}},[_c('b-icon',{attrs:{\"icon\":\"edit\"}})],1),_vm._v(\" \"),_c('a',{on:{\"click\":function($event){return _vm.confirmRemove(row)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1)])]}}])},[_vm._v(\" \"),_c('template',{slot:\"empty\"},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.empty))])])])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnouncementsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnouncementsTable.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"announcements-table\">\n    <nz-table\n      :data=\"data\"\n      :loading=\"loading\"\n\n      paginated\n      backend-pagination\n      :total=\"total\"\n      :per-page=\"perPage\"\n      @page-change=\"onPageChange\"\n      @per-page-change=\"onPerPageChange\"\n\n      backend-sorting\n      :default-sort-direction=\"defaultSortOrder\"\n      :default-sort=\"[sortField, sortOrder]\"\n      @sort=\"onSort\"\n\n      :mobile-cards=\"true\"\n    >\n      <template slot-scope=\"props\">\n        <b-table-column field=\"id\" :label=\"trans('labels.id')\" width=\"40\" numeric sortable>\n          {{ props.row.id }}\n        </b-table-column>\n\n        <b-table-column field=\"title\" :label=\"trans('labels.announcements.title')\" sortable>\n          {{ props.row.title || '--' }}\n        </b-table-column>\n\n        <b-table-column field=\"created_at\" :label=\"trans('labels.created_at')\" sortable>\n          {{ props.row.created_at | formatDateTime }}\n        </b-table-column>\n\n        <b-table-column width=\"150\" numeric>\n          <a :href=\"editLink(props.row)\"><b-icon icon=\"edit\"></b-icon></a>\n\n          <a @click=\"confirmRemove(props.row)\"><b-icon icon=\"trash\"></b-icon></a>\n        </b-table-column>\n      </template>\n\n      <template slot=\"empty\">\n        <section class=\"section\">\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{ empty }}</p>\n          </div>\n        </section>\n      </template>\n    </nz-table>\n  </div>\n</template>\n\n<script>\nimport _get from 'lodash/get'\nimport PersistentTableMixin from '@/mixins/PersistentTableMixin'\n\nexport default {\n  name: 'nzAnnouncementsTable',\n\n  mixins: [PersistentTableMixin],\n\n  props: {\n    perPageOptions: {\n      type: Array,\n      default: () => [15, 30, 50, 100],\n      validator: value => value.length\n    },\n    listRoute: String,\n    editRoute: String,\n    deleteRoute: String,\n    empty: {\n      type: String,\n      default: 'Nothing here.'\n    },\n    ranks: Array\n  },\n\n  data() {\n    return {\n      data: [],\n      meta: null,\n      total: 0,\n      loading: false,\n      sortField: 'name',\n      sortOrder: 'asc',\n      defaultSortOrder: 'asc',\n      page: 1,\n      perPage: this.perPageOptions[0],\n      checkedRows: []\n    }\n  },\n\n  computed: {\n    showing() {\n      if (!this.meta) return\n\n      return this.trans('labels.tables.from_to_total', {\n        from: _get(this.meta, 'from') || 0,\n        to: _get(this.meta, 'to') || 0,\n        total: _get(this.meta, 'total') || 0\n      })\n    }\n  },\n\n  created() {\n    this.restoreState()\n    this.loadAsyncData()\n  },\n\n  methods: {\n    loadAsyncData() {\n      this.loading = true\n\n      return axios.get(route(this.listRoute).withQuery({\n        sort_by: `${this.sortField}.${this.sortOrder}`,\n        page: this.page,\n        per_page: this.perPage\n      })).then(({ data }) => {\n        this.data = []\n        this.total = data.meta.total\n        data.data.forEach((item) => this.data.push(item))\n        this.meta = data.meta\n        this.loading = false\n      }, response => {\n        this.data = []\n        this.meta = null\n        this.total = 0\n        this.loading = false\n      })\n    },\n\n    /**\n     * Handle page-change event\n     */\n    onPageChange(page) {\n      this.page = page\n      this.loadAsyncData()\n    },\n\n    /**\n     * Handle sort event\n     */\n    onSort(field, order) {\n      this.sortField = field\n      this.sortOrder = order\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    clearFilter() {\n      for (let field in this.newFilter) {\n        this.newFilter[field] = ''\n      }\n\n      this.onFilter()\n    },\n\n    onFilter() {\n      let reload = false\n\n      for (let field in this.newFilter) {\n        if (this.filter[field] !== this.newFilter[field]) {\n            reload = true\n        }\n\n        this.filter[field] = this.newFilter[field]\n      }\n\n      if (reload) {\n        this.loadAsyncData()\n      }\n    },\n\n    onPerPageChange(perPage) {\n      if (perPage === this.perPage) return\n\n      this.perPage = perPage\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    confirmRemove(row) {\n      this.$buefy.dialog.confirm({\n        message: this.trans('Are you sure you want to delete this record?'),\n        confirmText: this.trans('buttons.delete'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-danger',\n        onConfirm: () => { this.remove(row) }\n      })\n    },\n\n    remove (row) {\n      return axios.delete(route(this.deleteRoute, row.id)).then(response => {\n        this.$buefy.toast.open({\n          message: this.trans('Record deleted'),\n          type: 'is-success'\n        })\n\n        this.loadAsyncData()\n      }).catch(error => { console.error(error) })\n    },\n\n    editLink (row) {\n      return route(this.editRoute, row.id)\n    }\n  },\n\n  filters: {\n    formatDateTime(dateTime) {\n      const m = moment(dateTime)\n      return m.isValid() ? m.format('D.M.YYYY HH:mm') : ''\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./AnnouncementsTable.vue?vue&type=template&id=31c5db25&\"\nimport script from \"./AnnouncementsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnouncementsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"announcements-table\"},[_c('nz-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.perPage,\"backend-sorting\":\"\",\"default-sort-direction\":_vm.defaultSortOrder,\"default-sort\":[_vm.sortField, _vm.sortOrder],\"mobile-cards\":true},on:{\"page-change\":_vm.onPageChange,\"per-page-change\":_vm.onPerPageChange,\"sort\":_vm.onSort},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-table-column',{attrs:{\"field\":\"id\",\"label\":_vm.trans('labels.id'),\"width\":\"40\",\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(props.row.id)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"title\",\"label\":_vm.trans('labels.announcements.title'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(props.row.title || '--')+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"created_at\",\"label\":_vm.trans('labels.created_at'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(_vm._f(\"formatDateTime\")(props.row.created_at))+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"width\":\"150\",\"numeric\":\"\"}},[_c('a',{attrs:{\"href\":_vm.editLink(props.row)}},[_c('b-icon',{attrs:{\"icon\":\"edit\"}})],1),_vm._v(\" \"),_c('a',{on:{\"click\":function($event){return _vm.confirmRemove(props.row)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1)])]}}])},[_vm._v(\" \"),_c('template',{slot:\"empty\"},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.empty))])])])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"field-observations-table\">\n    <div class=\"level\">\n      <div class=\"level-left\">\n        <div class=\"level-item\">\n          <button\n            type=\"button\"\n            class=\"button is-touch-full\"\n            @click=\"showFilter = !showFilter\"\n          >\n            <b-icon\n              icon=\"filter\"\n              :size=\"filterIsActive ? null : 'is-small'\"\n              :class=\"[filterIsActive ? 'has-text-primary' : 'has-text-grey']\"\n            />\n\n            <span>{{ trans('buttons.filters') }}</span>\n          </button>\n        </div>\n      </div>\n\n      <div class=\"level-right\" v-if=\"hasActions\">\n        <div class=\"level-item\">\n          <b-dropdown position=\"is-bottom-left\">\n            <button\n              class=\"button is-touch-full\"\n              slot=\"trigger\"\n              :class=\"{'is-loading': actionRunning}\"\n            >\n              <span>{{ trans('labels.actions') }}</span>\n\n              <span class=\"icon has-text-grey\">\n                <i class=\"fa fa-angle-down\"></i>\n              </span>\n            </button>\n\n            <b-dropdown-item\n              :disabled=\"!checkedRows.length\"\n              @click=\"confirmApprove\"\n              v-if=\"approvable\"\n            >\n              <b-icon icon=\"check\" class=\"has-text-success\" />\n\n              <span>{{ trans('buttons.approve') }}</span>\n            </b-dropdown-item>\n\n            <b-dropdown-item\n              :disabled=\"!checkedRows.length\"\n              @click=\"confirmMarkingAsUnidentifiable\"\n              v-if=\"markableAsUnidentifiable\"\n            >\n              <b-icon icon=\"times\" class=\"has-text-danger\" />\n\n              <span>{{ trans('buttons.unidentifiable') }}</span>\n            </b-dropdown-item>\n\n            <b-dropdown-item\n              :disabled=\"!checkedRows.length\"\n              @click=\"confirmMoveToPending\"\n              v-if=\"movableToPending\"\n            >\n              <b-icon icon=\"question\" class=\"has-text-warning\" />\n\n              <span>{{ trans('buttons.move_to_pending') }}</span>\n            </b-dropdown-item>\n\n            <b-dropdown-item\n              @click=\"openExportModal\"\n              v-if=\"exportable\"\n            >\n              <b-icon icon=\"download\" class=\"has-text-grey\" />\n\n              <span>{{ trans('buttons.export') }}</span>\n            </b-dropdown-item>\n          </b-dropdown>\n        </div>\n      </div>\n    </div>\n\n    <b-collapse :open=\"showFilter\" class=\"mt-4\">\n      <form @submit.prevent=\"applyFilter\">\n        <div class=\"columns is-multiline\">\n          <div class=\"column is half\">\n            <nz-taxon-autocomplete\n              @select=\"onTaxonSelect\"\n              v-model=\"newFilter.taxon\"\n              :taxon=\"newFilter.selectedTaxon\"\n              :label=\"trans('labels.field_observations.taxon')\"\n              :placeholder=\"trans('labels.field_observations.search_for_taxon')\"\n            />\n            <b-checkbox v-model=\"newFilter.includeChildTaxa\">{{ trans('labels.field_observations.include_lower_taxa') }}</b-checkbox>\n          </div>\n\n          <b-field :label=\"trans('labels.field_observations.date')\" class=\"column is-half\">\n            <b-field expanded grouped>\n              <b-field expanded>\n                <b-input\n                  :placeholder=\"trans('labels.field_observations.year')\"\n                  v-model=\"newFilter.year\"\n                />\n              </b-field>\n\n              <b-field expanded>\n                <b-select\n                  :placeholder=\"trans('labels.field_observations.month')\"\n                  v-model=\"newFilter.month\"\n                  expanded\n                >\n                  <option :value=\"null\"></option>\n\n                  <option v-for=\"(month, index) in months\" :key=\"index\" :value=\"(index + 1)\" v-text=\"month\"></option>\n                </b-select>\n              </b-field>\n\n              <b-field expanded>\n                <b-select\n                  :placeholder=\"trans('labels.field_observations.day')\"\n                  v-model=\"newFilter.day\"\n                  expanded\n                >\n                  <option :value=\"null\"></option>\n\n                  <option v-for=\"day in days\" :value=\"day\" :key=\"day\" v-text=\"day\"></option>\n                </b-select>\n              </b-field>\n            </b-field>\n          </b-field>\n\n          <nz-user-autocomplete\n            v-if=\"showObserver\"\n            class=\"column is-half\"\n            v-model=\"newFilter.observer\"\n            :label=\"trans('labels.field_observations.observer')\"\n            placeholder=\"\"\n          />\n\n          <b-field :label=\"trans('labels.field_observations.project')\" class=\"column is-half\">\n            <b-input v-model=\"newFilter.project\" expanded />\n          </b-field>\n\n          <b-field :label=\"trans('labels.id')\" class=\"column is-one-third\">\n            <b-input v-model=\"newFilter.id\" expanded />\n          </b-field>\n\n          <b-field :label=\"trans('labels.field_observations.status')\" class=\"column is-one-third\" v-if=\"showStatus\">\n            <b-select v-model=\"newFilter.status\" expanded>\n              <option :value=\"null\"></option>\n              <option\n                v-for=\"(status, index) in ['approved', 'unidentifiable', 'pending']\"\n                :value=\"status\"\n                :key=\"index\"\n                v-text=\"trans(`labels.field_observations.statuses.${status}`)\">\n              </option>\n            </b-select>\n          </b-field>\n\n          <b-field :label=\"trans('labels.field_observations.photos')\" class=\"column is-one-third\">\n            <b-select v-model=\"newFilter.photos\" expanded>\n              <option :value=\"null\"></option>\n              <option value=\"yes\">{{ trans('Yes') }}</option>\n              <option value=\"no\">{{ trans('No') }}</option>\n            </b-select>\n          </b-field>\n        </div>\n\n        <button type=\"submit\" class=\"button is-primary is-outlined\">{{ trans('buttons.apply') }}</button>\n        <button type=\"button\" class=\"button\" @click=\"clearFilter\">{{ trans('buttons.clear') }}</button>\n      </form>\n    </b-collapse>\n\n    <hr>\n\n    <nz-table\n      :data=\"data\"\n      :loading=\"loading\"\n\n      paginated\n      backend-pagination\n      :total=\"total\"\n      :per-page=\"perPage\"\n      :current-page=\"page\"\n      @page-change=\"onPageChange\"\n      @per-page-change=\"onPerPageChange\"\n      :per-page-options=\"perPageOptions\"\n      pagination-on-top\n\n      backend-sorting\n      default-sort-direction=\"asc\"\n      :default-sort=\"[sortField, sortOrder]\"\n      @sort=\"onSort\"\n\n      detailed\n      :mobile-cards=\"true\"\n\n      :checkable=\"hasActions\"\n      :checked-rows.sync=\"checkedRows\"\n    >\n      <template slot-scope=\"{ row }\">\n        <b-table-column field=\"id\" :label=\"trans('labels.id')\" width=\"40\" numeric sortable>\n          {{ row.id }}\n        </b-table-column>\n\n        <b-table-column field=\"taxon_name\" :label=\"trans('labels.field_observations.taxon')\" sortable>\n          {{ row.taxon ? row.taxon.name : '' }}\n        </b-table-column>\n\n        <b-table-column field=\"year\" :label=\"trans('labels.field_observations.year')\" numeric sortable>\n          {{ row.year }}\n        </b-table-column>\n\n        <b-table-column field=\"month\" :label=\"trans('labels.field_observations.month')\" numeric sortable>\n          {{ row.month }}\n        </b-table-column>\n\n        <b-table-column field=\"day\" :label=\"trans('labels.field_observations.day')\" numeric sortable>\n          {{ row.day }}\n        </b-table-column>\n\n        <b-table-column field=\"observer\" :label=\"trans('labels.field_observations.observer')\" sortable v-if=\"showObserver\">\n          {{ row.observer }}\n        </b-table-column>\n\n        <b-table-column field=\"status\" :label=\"trans('labels.field_observations.status')\" v-if=\"showStatus\">\n          <span :class=\"determineStatusClass(row.status)\" :title=\"trans(`labels.field_observations.statuses.${row.status}`)\">\n            <b-icon :icon=\"determineStatusIcon(row.status)\" />\n          </span>\n        </b-table-column>\n\n        <b-table-column width=\"150\" numeric>\n          <a @click=\"openImageModal(row.photos)\" v-if=\"observationHasPhotos(row)\"><b-icon icon=\"photo\" /></a>\n\n          <a @click=\"openActivityLogModal(row)\" v-if=\"showActivityLog\" :title=\"trans('Activity Log')\"><b-icon icon=\"history\" /></a>\n\n          <a :href=\"viewLink(row)\" v-if=\"viewRoute\" :title=\"trans('buttons.view')\"><b-icon icon=\"eye\" /></a>\n\n          <a :href=\"editLink(row)\" v-if=\"editRoute\" :title=\"trans('buttons.edit')\"><b-icon icon=\"edit\" /></a>\n\n          <a @click=\"confirmRemove(row)\" v-if=\"deleteRoute\" :title=\"trans('buttons.delete')\"><b-icon icon=\"trash\" /></a>\n        </b-table-column>\n      </template>\n\n      <template slot=\"empty\">\n        <section class=\"section\">\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{ empty }}</p>\n          </div>\n        </section>\n      </template>\n\n      <template slot=\"detail\" slot-scope=\"{ row }\">\n        <article class=\"media\">\n          <figure class=\"media-left\">\n            <p class=\"image is-64x64\" v-for=\"(photo, index) in row.photos\" :key=\"photo.id\">\n              <img class=\"is-clickable\" :src=\"photo.url\" @click=\"openImageModal(row.photos, index)\">\n            </p>\n          </figure>\n\n          <div class=\"media-content\">\n            <div class=\"content\">\n              <template v-if=\"row.location\">\n                <strong>{{ row.location }}</strong><br>\n              </template>\n\n              <template v-if=\"row.latitude && row.longitude\">\n                <small>{{ row.latitude }}, {{ row.longitude }}</small><br>\n              </template>\n\n              <small>{{ row.mgrs10k.replace(/^[0-9]+[a-zA-Z]/, '$& ') }}</small><br>\n\n              <small>{{ trans('labels.field_observations.elevation') }}: {{ row.elevation }}m</small><br>\n\n              <small v-if=\"row.accuracy\">{{ trans('labels.field_observations.accuracy') }}: {{ row.accuracy }}m</small>\n            </div>\n          </div>\n        </article>\n      </template>\n    </nz-table>\n\n    <nz-image-modal :items=\"modalImages\" v-model=\"modalImageIndex\" @close=\"onCarouselClose\"/>\n\n    <b-modal :active=\"activityLog.length > 0\" @close=\"activityLog = []\">\n      <div class=\"modal-card\">\n        <div class=\"modal-card-head\">\n          <b-icon icon=\"history\" />\n          <p class=\"modal-card-title\">{{ trans('Activity Log') }}</p>\n        </div>\n        <div class=\"modal-card-body\">\n          <nz-field-observation-activity-log :activities=\"activityLog\" />\n        </div>\n      </div>\n    </b-modal>\n\n    <b-modal :active=\"showExportModal\" @close=\"showExportModal = false\" has-modal-card :can-cancel=\"[]\">\n      <nz-export-modal\n        :checked=\"checkedIds\"\n        :filter=\"filter\"\n        :columns=\"exportColumns\"\n        :url=\"exportUrl\"\n        :sort=\"sortBy\"\n        @cancel=\"showExportModal = false\"\n        @done=\"onExportDone\"\n      />\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport _range from 'lodash/range'\nimport FilterableTableMixin from '@/mixins/FilterableTableMixin'\nimport PersistentTableMixin from '@/mixins/PersistentTableMixin'\nimport ExportDownloadModal from '@/components/exports/ExportDownloadModal'\n\nexport default {\n  name: 'nzFieldObservationsTable',\n\n  mixins: [FilterableTableMixin, PersistentTableMixin],\n\n  props: {\n      perPageOptions: {\n          type: Array,\n          default() {\n              return [15, 30, 50, 100]\n          },\n          validator: value => value.length\n      },\n      listRoute: String,\n      viewRoute: String,\n      editRoute: String,\n      deleteRoute: String,\n      approveRoute: String,\n      markAsUnidentifiableRoute: String,\n      moveToPendingRoute: String,\n      empty: {\n          type: String,\n          default: 'Nothing here.'\n      },\n      approvable: Boolean,\n      markableAsUnidentifiable: Boolean,\n      movableToPending: Boolean,\n      showStatus: Boolean,\n      showActivityLog: Boolean,\n      showObserver: Boolean,\n      exportUrl: String,\n      exportColumns: {\n        type: Array,\n        default: () => []\n      }\n  },\n\n  data() {\n      return {\n          data: [],\n          total: 0,\n          loading: false,\n          sortField: 'id',\n          sortOrder: 'desc',\n          page: 1,\n          perPage: this.perPageOptions[0],\n          isImageModalActive: false,\n          modalImages: [],\n          modalImageIndex: 0,\n          checkedRows: [],\n          approving: false,\n          markingAsUnidentifiable: false,\n          movingToPending: false,\n          activityLog: [],\n          showExportModal: false\n      }\n  },\n\n  computed: {\n    months() {\n      return moment.months()\n    },\n\n    days() {\n      return _range(1, 31)\n    },\n\n    hasActions() {\n      return this.approvable\n        || this.markableAsUnidentifiable\n        || this.movableToPending\n        || this.exportable\n    },\n\n    actionRunning() {\n      return this.approving || this.movingToPending || this.markingAsUnidentifiable\n    },\n\n    checkedIds() {\n      return this.checkedRows.map(row => row.id)\n    },\n\n    exportable() {\n      return !!(this.exportUrl && this.exportColumns.length)\n    },\n\n    sortBy() {\n      return `${this.sortField}.${this.sortOrder}`\n    }\n  },\n\n  created() {\n    this.restoreState()\n    this.loadAsyncData()\n\n    this.$on('filter', () => {\n      this.saveState()\n      this.loadAsyncData()\n    })\n  },\n\n  methods: {\n    loadAsyncData() {\n      this.loading = true\n\n      const { selectedTaxon, ...filter } = this.filter\n\n      return axios.get(route(this.listRoute).withQuery({\n        ...filter,\n        sort_by: this.sortBy,\n        page: this.page,\n        per_page:this.perPage,\n      })).then(({ data: response }) => {\n        this.data = response.data\n        this.total = response.meta.total\n        this.loading = false\n      }, () => {\n        this.data = []\n        this.total = 0\n        this.loading = false\n      })\n    },\n\n    getPersistantKeys() {\n      return [\n        'sortField', 'sortOrder', 'perPage', 'page',\n        'newFilter', 'filter', 'filterIsActive'\n      ]\n    },\n\n    /*\n     * Handle page-change event\n     */\n    onPageChange(page) {\n      this.page = page\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    /*\n     * Handle sort event\n     */\n    onSort(field, order) {\n      this.sortField = field\n      this.sortOrder = order\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    onPerPageChange(perPage) {\n      if (perPage === this.perPage) return\n\n      this.perPage = perPage\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    confirmRemove(row) {\n      this.$buefy.dialog.confirm({\n        message: this.trans('Are you sure you want to delete this record?'),\n        confirmText: this.trans('buttons.delete'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-danger',\n        onConfirm: () => { this.remove(row) }\n      })\n    },\n\n    remove (row) {\n      return axios.delete(route(this.deleteRoute, row.id)).then(response => {\n        this.$buefy.toast.open({\n          message: this.trans('Record deleted'),\n          type: 'is-success'\n        })\n\n        this.loadAsyncData()\n      }).catch(error => { console.error(error) })\n    },\n\n    editLink (row) {\n      return route(this.editRoute, row.id)\n    },\n\n    viewLink (row) {\n      return this.viewRoute ? route(this.viewRoute, row.id) : null\n    },\n\n    observationHasPhotos(observation) {\n      return observation.photos.filter(photo => photo.url).length > 0\n    },\n\n    openImageModal(photos, open) {\n      this.modalImageIndex = open\n      this.modalImages = photos.map(photo => photo.url)\n    },\n\n    onCarouselClose() {\n      this.modalImages = []\n      this.modalImagesIndex = 0\n    },\n\n    confirmApprove() {\n      this.$buefy.dialog.confirm({\n        message: this.trans('You are about to approve checked observations.<br/>Those of them that cannot be approved, will not be approved.'),\n        confirmText: this.trans('buttons.approve'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-primary',\n        onConfirm: this.approve.bind(this)\n      })\n    },\n\n    approve() {\n      this.approving = true\n\n      axios.post(route(this.approveRoute), {\n        field_observation_ids: this.checkedRows.map(row => row.id)\n      }).then(this.successfullyApproved).catch(this.failedToApprove)\n    },\n\n    successfullyApproved() {\n      this.checkedRows = []\n      this.approving = false\n\n      this.$buefy.toast.open({\n        message: this.trans('Observations have been approved'),\n        type: 'is-success'\n      })\n\n      this.loadAsyncData()\n    },\n\n    failedToApprove(error) {\n      this.approving = false\n\n      this.$buefy.toast.open({\n        message: this.trans('Observations cannot be approved'),\n        type: 'is-danger',\n        duration: 5000\n      })\n    },\n\n    confirmMarkingAsUnidentifiable() {\n      const dialog = this.$buefy.dialog.prompt({\n        message: this.trans('You are about to mark checked observations as unidentifiable. What\\'s the reason?'),\n        confirmText: this.trans('buttons.mark_unidentifiable'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-warning',\n        inputAttrs: {\n          placeholder: this.trans('Reason'),\n          required: true,\n          maxlength: 255\n        },\n        onConfirm: this.markAsUnidentifiable.bind(this)\n      })\n\n      dialog.$nextTick(() => {\n        this.validateReason(dialog)\n      })\n    },\n\n    markAsUnidentifiable(reason) {\n      this.markingAsUnidentifiable = true\n\n      axios.post(route(this.markAsUnidentifiableRoute), {\n        field_observation_ids: this.checkedRows.map(row => row.id),\n        reason\n      }).then(this.successfullyMarkedAsUnidentifiable)\n      .catch(this.failedToMarkAsUnidentifiable)\n    },\n\n    successfullyMarkedAsUnidentifiable() {\n      this.checkedRows = []\n      this.markingAsUnidentifiable = false\n      this.$buefy.toast.open({\n        message: this.trans('Observations have been marked as unidentifiable'),\n        type: 'is-success'\n      })\n      this.loadAsyncData()\n    },\n\n    failedToMarkAsUnidentifiable(error) {\n      this.markingAsUnidentifiable = false\n      this.$buefy.toast.open({\n        message: this.trans('Some of the observations cannot be marked as unidentifiable'),\n        type: 'is-danger',\n        duration: 5000\n      })\n    },\n\n    determineStatusIcon(status) {\n      if (status === 'unidentifiable') {\n        return 'times'\n      }\n\n      if (status === 'approved') {\n        return 'check'\n      }\n\n      return 'question'\n    },\n\n    determineStatusClass(status) {\n      if (status === 'unidentifiable') {\n        return 'has-text-danger'\n      }\n\n      if (status === 'approved') {\n        return 'has-text-success'\n      }\n\n      return 'has-text-info'\n    },\n\n    openActivityLogModal(row) {\n      this.activityLog = row.activity\n    },\n\n    validateReason(dialog) {\n      dialog.$refs.input.addEventListener('invalid', (e) => {\n        e.target.setCustomValidity('')\n\n        if (!e.target.validity.valid) {\n          e.target.setCustomValidity(this.trans('This field is required and can contain max 255 chars.'))\n        }\n      })\n\n      dialog.$refs.input.addEventListener('input', (e) => {\n        dialog.validationMessage = null\n      })\n    },\n\n    confirmMoveToPending() {\n      const dialog = this.$buefy.dialog.prompt({\n        message: this.trans('You are about to move checked observations to pending. What\\'s the reason?'),\n        confirmText: this.trans('buttons.move_to_pending'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-warning',\n        inputAttrs: {\n          placeholder: this.trans('Reason'),\n          required: true,\n          maxlength: 255\n        },\n        onConfirm: this.moveToPending.bind(this)\n      })\n\n      dialog.$nextTick(() => {\n        this.validateReason(dialog)\n      })\n    },\n\n    moveToPending(reason) {\n      this.movingToPending = true\n\n      axios.post(route(this.moveToPendingRoute), {\n        field_observation_ids: this.checkedRows.map(row => row.id),\n        reason\n      }).then(this.successfullyMovedToPending).catch(this.failedToMoveToPending)\n    },\n\n    successfullyMovedToPending() {\n      this.checkedRows = []\n      this.movingToPending = false\n      this.$buefy.toast.open({\n        message: this.trans('Observations have been moved to pending'),\n        type: 'is-success'\n      })\n      this.loadAsyncData()\n    },\n\n    failedToMoveToPending(error) {\n      this.movingToPending = false\n      this.$buefy.toast.open({\n        message: this.trans('Whoops, looks like something went wrong.'),\n        type: 'is-danger',\n        duration: 5000\n      })\n      this.loadAsyncData()\n    },\n\n    filterDefaults() {\n      return {\n        status: null,\n        taxon: null,\n        taxonId: null,\n        year: null,\n        month: null,\n        day: null,\n        photos: null,\n        observer: null,\n        includeChildTaxa: false,\n        selectedTaxon: null,\n        project: null,\n        id: null\n      }\n    },\n\n    openExportModal() {\n      this.showExportModal = true\n    },\n\n    onExportDone(finishedExport) {\n      this.showExportModal = false\n\n      if (finishedExport.url) {\n        this.$buefy.modal.open({\n          parent: this,\n          component: ExportDownloadModal,\n          canCancel: [],\n          hasModalCard: true,\n          props: {\n            url: finishedExport.url,\n          }\n        })\n      } else {\n        this.$buefy.toast.open({\n          duration: 0,\n          message: `Something's not good, also I'm on bottom`,\n          type: 'is-danger'\n        })\n      }\n    },\n\n    onTaxonSelect(taxon) {\n      this.newFilter.taxonId = taxon ? taxon.id : null\n      this.newFilter.selectedTaxon = taxon\n    }\n  },\n\n  filters: {\n    /**\n     * Filter to truncate string, accepts a length parameter\n     */\n    truncate(value, length) {\n      return value.length > length\n        ? value.substr(0, length) + '...'\n        : value\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FieldObservationsTable.vue?vue&type=template&id=0e676378&\"\nimport script from \"./FieldObservationsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-observations-table\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button is-touch-full\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showFilter = !_vm.showFilter}}},[_c('b-icon',{class:[_vm.filterIsActive ? 'has-text-primary' : 'has-text-grey'],attrs:{\"icon\":\"filter\",\"size\":_vm.filterIsActive ? null : 'is-small'}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.filters')))])],1)])]),_vm._v(\" \"),(_vm.hasActions)?_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\"}},[_c('button',{staticClass:\"button is-touch-full\",class:{'is-loading': _vm.actionRunning},attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('span',[_vm._v(_vm._s(_vm.trans('labels.actions')))]),_vm._v(\" \"),_c('span',{staticClass:\"icon has-text-grey\"},[_c('i',{staticClass:\"fa fa-angle-down\"})])]),_vm._v(\" \"),(_vm.approvable)?_c('b-dropdown-item',{attrs:{\"disabled\":!_vm.checkedRows.length},on:{\"click\":_vm.confirmApprove}},[_c('b-icon',{staticClass:\"has-text-success\",attrs:{\"icon\":\"check\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.approve')))])],1):_vm._e(),_vm._v(\" \"),(_vm.markableAsUnidentifiable)?_c('b-dropdown-item',{attrs:{\"disabled\":!_vm.checkedRows.length},on:{\"click\":_vm.confirmMarkingAsUnidentifiable}},[_c('b-icon',{staticClass:\"has-text-danger\",attrs:{\"icon\":\"times\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.unidentifiable')))])],1):_vm._e(),_vm._v(\" \"),(_vm.movableToPending)?_c('b-dropdown-item',{attrs:{\"disabled\":!_vm.checkedRows.length},on:{\"click\":_vm.confirmMoveToPending}},[_c('b-icon',{staticClass:\"has-text-warning\",attrs:{\"icon\":\"question\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.move_to_pending')))])],1):_vm._e(),_vm._v(\" \"),(_vm.exportable)?_c('b-dropdown-item',{on:{\"click\":_vm.openExportModal}},[_c('b-icon',{staticClass:\"has-text-grey\",attrs:{\"icon\":\"download\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.export')))])],1):_vm._e()],1)],1)]):_vm._e()]),_vm._v(\" \"),_c('b-collapse',{staticClass:\"mt-4\",attrs:{\"open\":_vm.showFilter}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.applyFilter($event)}}},[_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is half\"},[_c('nz-taxon-autocomplete',{attrs:{\"taxon\":_vm.newFilter.selectedTaxon,\"label\":_vm.trans('labels.field_observations.taxon'),\"placeholder\":_vm.trans('labels.field_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.newFilter.taxon),callback:function ($$v) {_vm.$set(_vm.newFilter, \"taxon\", $$v)},expression:\"newFilter.taxon\"}}),_vm._v(\" \"),_c('b-checkbox',{model:{value:(_vm.newFilter.includeChildTaxa),callback:function ($$v) {_vm.$set(_vm.newFilter, \"includeChildTaxa\", $$v)},expression:\"newFilter.includeChildTaxa\"}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.include_lower_taxa')))])],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column is-half\",attrs:{\"label\":_vm.trans('labels.field_observations.date')}},[_c('b-field',{attrs:{\"expanded\":\"\",\"grouped\":\"\"}},[_c('b-field',{attrs:{\"expanded\":\"\"}},[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.field_observations.year')},model:{value:(_vm.newFilter.year),callback:function ($$v) {_vm.$set(_vm.newFilter, \"year\", $$v)},expression:\"newFilter.year\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.trans('labels.field_observations.month'),\"expanded\":\"\"},model:{value:(_vm.newFilter.month),callback:function ($$v) {_vm.$set(_vm.newFilter, \"month\", $$v)},expression:\"newFilter.month\"}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.months),function(month,index){return _c('option',{key:index,domProps:{\"value\":(index + 1),\"textContent\":_vm._s(month)}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.trans('labels.field_observations.day'),\"expanded\":\"\"},model:{value:(_vm.newFilter.day),callback:function ($$v) {_vm.$set(_vm.newFilter, \"day\", $$v)},expression:\"newFilter.day\"}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.days),function(day){return _c('option',{key:day,domProps:{\"value\":day,\"textContent\":_vm._s(day)}})})],2)],1)],1)],1),_vm._v(\" \"),(_vm.showObserver)?_c('nz-user-autocomplete',{staticClass:\"column is-half\",attrs:{\"label\":_vm.trans('labels.field_observations.observer'),\"placeholder\":\"\"},model:{value:(_vm.newFilter.observer),callback:function ($$v) {_vm.$set(_vm.newFilter, \"observer\", $$v)},expression:\"newFilter.observer\"}}):_vm._e(),_vm._v(\" \"),_c('b-field',{staticClass:\"column is-half\",attrs:{\"label\":_vm.trans('labels.field_observations.project')}},[_c('b-input',{attrs:{\"expanded\":\"\"},model:{value:(_vm.newFilter.project),callback:function ($$v) {_vm.$set(_vm.newFilter, \"project\", $$v)},expression:\"newFilter.project\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column is-one-third\",attrs:{\"label\":_vm.trans('labels.id')}},[_c('b-input',{attrs:{\"expanded\":\"\"},model:{value:(_vm.newFilter.id),callback:function ($$v) {_vm.$set(_vm.newFilter, \"id\", $$v)},expression:\"newFilter.id\"}})],1),_vm._v(\" \"),(_vm.showStatus)?_c('b-field',{staticClass:\"column is-one-third\",attrs:{\"label\":_vm.trans('labels.field_observations.status')}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.newFilter.status),callback:function ($$v) {_vm.$set(_vm.newFilter, \"status\", $$v)},expression:\"newFilter.status\"}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((['approved', 'unidentifiable', 'pending']),function(status,index){return _c('option',{key:index,domProps:{\"value\":status,\"textContent\":_vm._s(_vm.trans((\"labels.field_observations.statuses.\" + status)))}})})],2)],1):_vm._e(),_vm._v(\" \"),_c('b-field',{staticClass:\"column is-one-third\",attrs:{\"label\":_vm.trans('labels.field_observations.photos')}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.newFilter.photos),callback:function ($$v) {_vm.$set(_vm.newFilter, \"photos\", $$v)},expression:\"newFilter.photos\"}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"yes\"}},[_vm._v(_vm._s(_vm.trans('Yes')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"no\"}},[_vm._v(_vm._s(_vm.trans('No')))])])],1)],1),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary is-outlined\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.trans('buttons.apply')))]),_vm._v(\" \"),_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearFilter}},[_vm._v(_vm._s(_vm.trans('buttons.clear')))])])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('nz-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.perPage,\"current-page\":_vm.page,\"per-page-options\":_vm.perPageOptions,\"pagination-on-top\":\"\",\"backend-sorting\":\"\",\"default-sort-direction\":\"asc\",\"default-sort\":[_vm.sortField, _vm.sortOrder],\"detailed\":\"\",\"mobile-cards\":true,\"checkable\":_vm.hasActions,\"checked-rows\":_vm.checkedRows},on:{\"page-change\":_vm.onPageChange,\"per-page-change\":_vm.onPerPageChange,\"sort\":_vm.onSort,\"update:checkedRows\":function($event){_vm.checkedRows=$event},\"update:checked-rows\":function($event){_vm.checkedRows=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"id\",\"label\":_vm.trans('labels.id'),\"width\":\"40\",\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.id)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"taxon_name\",\"label\":_vm.trans('labels.field_observations.taxon'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.taxon ? row.taxon.name : '')+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"year\",\"label\":_vm.trans('labels.field_observations.year'),\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.year)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"month\",\"label\":_vm.trans('labels.field_observations.month'),\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.month)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"day\",\"label\":_vm.trans('labels.field_observations.day'),\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.day)+\"\\n      \")]),_vm._v(\" \"),(_vm.showObserver)?_c('b-table-column',{attrs:{\"field\":\"observer\",\"label\":_vm.trans('labels.field_observations.observer'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.observer)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.showStatus)?_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":_vm.trans('labels.field_observations.status')}},[_c('span',{class:_vm.determineStatusClass(row.status),attrs:{\"title\":_vm.trans((\"labels.field_observations.statuses.\" + (row.status)))}},[_c('b-icon',{attrs:{\"icon\":_vm.determineStatusIcon(row.status)}})],1)]):_vm._e(),_vm._v(\" \"),_c('b-table-column',{attrs:{\"width\":\"150\",\"numeric\":\"\"}},[(_vm.observationHasPhotos(row))?_c('a',{on:{\"click\":function($event){return _vm.openImageModal(row.photos)}}},[_c('b-icon',{attrs:{\"icon\":\"photo\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showActivityLog)?_c('a',{attrs:{\"title\":_vm.trans('Activity Log')},on:{\"click\":function($event){return _vm.openActivityLogModal(row)}}},[_c('b-icon',{attrs:{\"icon\":\"history\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.viewRoute)?_c('a',{attrs:{\"href\":_vm.viewLink(row),\"title\":_vm.trans('buttons.view')}},[_c('b-icon',{attrs:{\"icon\":\"eye\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.editRoute)?_c('a',{attrs:{\"href\":_vm.editLink(row),\"title\":_vm.trans('buttons.edit')}},[_c('b-icon',{attrs:{\"icon\":\"edit\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.deleteRoute)?_c('a',{attrs:{\"title\":_vm.trans('buttons.delete')},on:{\"click\":function($event){return _vm.confirmRemove(row)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1):_vm._e()])]}},{key:\"detail\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('article',{staticClass:\"media\"},[_c('figure',{staticClass:\"media-left\"},_vm._l((row.photos),function(photo,index){return _c('p',{key:photo.id,staticClass:\"image is-64x64\"},[_c('img',{staticClass:\"is-clickable\",attrs:{\"src\":photo.url},on:{\"click\":function($event){return _vm.openImageModal(row.photos, index)}}})])}),0),_vm._v(\" \"),_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"content\"},[(row.location)?[_c('strong',[_vm._v(_vm._s(row.location))]),_c('br')]:_vm._e(),_vm._v(\" \"),(row.latitude && row.longitude)?[_c('small',[_vm._v(_vm._s(row.latitude)+\", \"+_vm._s(row.longitude))]),_c('br')]:_vm._e(),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(row.mgrs10k.replace(/^[0-9]+[a-zA-Z]/, '$& ')))]),_c('br'),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(_vm.trans('labels.field_observations.elevation'))+\": \"+_vm._s(row.elevation)+\"m\")]),_c('br'),_vm._v(\" \"),(row.accuracy)?_c('small',[_vm._v(_vm._s(_vm.trans('labels.field_observations.accuracy'))+\": \"+_vm._s(row.accuracy)+\"m\")]):_vm._e()],2)])])]}}])},[_vm._v(\" \"),_c('template',{slot:\"empty\"},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.empty))])])])])],2),_vm._v(\" \"),_c('nz-image-modal',{attrs:{\"items\":_vm.modalImages},on:{\"close\":_vm.onCarouselClose},model:{value:(_vm.modalImageIndex),callback:function ($$v) {_vm.modalImageIndex=$$v},expression:\"modalImageIndex\"}}),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.activityLog.length > 0},on:{\"close\":function($event){_vm.activityLog = []}}},[_c('div',{staticClass:\"modal-card\"},[_c('div',{staticClass:\"modal-card-head\"},[_c('b-icon',{attrs:{\"icon\":\"history\"}}),_vm._v(\" \"),_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('Activity Log')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-card-body\"},[_c('nz-field-observation-activity-log',{attrs:{\"activities\":_vm.activityLog}})],1)])]),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.showExportModal,\"has-modal-card\":\"\",\"can-cancel\":[]},on:{\"close\":function($event){_vm.showExportModal = false}}},[_c('nz-export-modal',{attrs:{\"checked\":_vm.checkedIds,\"filter\":_vm.filter,\"columns\":_vm.exportColumns,\"url\":_vm.exportUrl,\"sort\":_vm.sortBy},on:{\"cancel\":function($event){_vm.showExportModal = false},\"done\":_vm.onExportDone}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationsTable.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"field-observations-table\">\n    <div class=\"level\">\n      <div class=\"level-left\">\n      </div>\n\n      <div class=\"level-right\" v-if=\"hasActions\">\n        <div class=\"level-item\">\n          <b-dropdown position=\"is-bottom-left\">\n            <button\n              class=\"button is-touch-full\"\n              slot=\"trigger\"\n              :class=\"{'is-loading': actionRunning}\"\n            >\n              <span>{{ trans('labels.actions') }}</span>\n\n              <span class=\"icon has-text-grey\">\n                  <i class=\"fa fa-angle-down\"></i>\n              </span>\n            </button>\n\n            <b-dropdown-item\n              @click=\"openExportModal\"\n              v-if=\"exportable\"\n            >\n              <b-icon icon=\"download\" class=\"has-text-grey\" />\n\n              <span>{{ trans('buttons.export') }}</span>\n            </b-dropdown-item>\n          </b-dropdown>\n        </div>\n      </div>\n    </div>\n\n    <hr>\n\n    <nz-table\n      :data=\"data\"\n      :loading=\"loading\"\n\n      paginated\n      backend-pagination\n      :total=\"total\"\n      :per-page=\"perPage\"\n      @page-change=\"onPageChange\"\n      @per-page-change=\"onPerPageChange\"\n      :per-page-options=\"perPageOptions\"\n      pagination-on-top\n\n      backend-sorting\n      :default-sort-direction=\"defaultSortOrder\"\n      :default-sort=\"[sortField, sortOrder]\"\n      @sort=\"onSort\"\n\n      detailed\n      :mobile-cards=\"true\"\n\n      :checkable=\"hasActions\"\n      :checked-rows.sync=\"checkedRows\"\n    >\n      <template slot-scope=\"{ row }\">\n        <b-table-column field=\"id\" :label=\"trans('labels.id')\" width=\"40\" numeric sortable>\n          {{ row.id }}\n        </b-table-column>\n\n        <b-table-column field=\"taxon_name\" :label=\"trans('labels.literature_observations.taxon')\" sortable>\n          {{ row.taxon ? row.taxon.name : '' }}\n        </b-table-column>\n\n        <b-table-column field=\"year\" :label=\"trans('labels.literature_observations.year')\" numeric sortable>\n          {{ row.year }}\n        </b-table-column>\n\n        <b-table-column field=\"month\" :label=\"trans('labels.literature_observations.month')\" numeric sortable>\n          {{ row.month }}\n        </b-table-column>\n\n        <b-table-column field=\"day\" :label=\"trans('labels.literature_observations.day')\" numeric sortable>\n          {{ row.day }}\n        </b-table-column>\n\n        <b-table-column width=\"150\" numeric>\n          <a @click=\"openActivityLogModal(row)\" v-if=\"showActivityLog && row.activity\" :title=\"trans('Activity Log')\"><b-icon icon=\"history\" /></a>\n\n          <a :href=\"viewLink(row)\" v-if=\"viewRoute\" :title=\"trans('buttons.view')\"><b-icon icon=\"eye\" /></a>\n\n          <a :href=\"editLink(row)\" :title=\"trans('buttons.edit')\"><b-icon icon=\"edit\" /></a>\n\n          <a @click=\"confirmRemove(row)\" :title=\"trans('buttons.delete')\"><b-icon icon=\"trash\" /></a>\n        </b-table-column>\n      </template>\n\n      <template slot=\"empty\">\n        <section class=\"section\">\n          <div class=\"content has-text-grey has-text-centered\">\n            <p>{{ empty }}</p>\n          </div>\n        </section>\n      </template>\n\n      <template slot=\"detail\" slot-scope=\"{ row }\">\n        <article class=\"media\">\n          <div class=\"media-content\">\n            <div class=\"content\">\n              <strong>{{ row.location }}</strong>\n\n              <small>{{ row.latitude }}, {{ row.longitude }}</small><br>\n\n              <small>{{ trans('labels.literature_observations.elevation') }}: {{ row.elevation}}m</small><br>\n\n              <small v-if=\"row.accuracy\">{{ trans('labels.literature_observations.accuracy') }}: {{ row.accuracy}}m</small>\n            </div>\n          </div>\n        </article>\n      </template>\n    </nz-table>\n\n    <b-modal :active=\"activityLog.length > 0\" @close=\"activityLog = []\">\n      <div class=\"modal-card\">\n        <div class=\"modal-card-head\">\n          <b-icon icon=\"history\" />\n          <p class=\"modal-card-title\">{{ trans('Activity Log') }}</p>\n        </div>\n        <div class=\"modal-card-body\">\n          <nz-literature-observation-activity-log :activities=\"activityLog\" />\n        </div>\n      </div>\n    </b-modal>\n\n    <b-modal :active=\"showExportModal\" @close=\"showExportModal = false\" has-modal-card :can-cancel=\"[]\">\n      <!-- :filter=\"filter\" -->\n      <nz-export-modal\n        :checked=\"checkedIds\"\n        :columns=\"exportColumns\"\n        :url=\"exportUrl\"\n        @cancel=\"showExportModal = false\"\n        @done=\"onExportDone\"\n        :types=\"['custom', 'darwin_core']\"\n      />\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport FilterableTableMixin from '@/mixins/FilterableTableMixin'\nimport PersistentTableMixin from '@/mixins/PersistentTableMixin'\nimport ExportDownloadModal from '@/components/exports/ExportDownloadModal'\n\nexport default {\n  name: 'nzLiteratureObservationsTable',\n\n  mixins: [PersistentTableMixin],\n\n  props: {\n    perPageOptions: {\n      type: Array,\n      default() {\n        return [15, 30, 50, 100]\n      },\n      validator(value) {\n        return value.length\n      }\n    },\n    listRoute: String,\n    viewRoute: String,\n    editRoute: String,\n    deleteRoute: String,\n    empty: {\n      type: String,\n      default: 'Nothing here.'\n    },\n    showActivityLog: Boolean,\n    exportUrl: String,\n    exportColumns: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      data: [],\n      total: 0,\n      loading: false,\n      sortField: 'id',\n      sortOrder: 'desc',\n      defaultSortOrder: 'desc',\n      page: 1,\n      perPage: this.perPageOptions[0],\n      checkedRows: [],\n      activityLog: [],\n      showExportModal: false,\n      exporting: false,\n    }\n  },\n\n  computed: {\n    hasActions() {\n      return this.exportable\n    },\n\n    checkedIds() {\n      return this.checkedRows.map(row => row.id)\n    },\n\n    exportable() {\n      return !!(this.exportUrl && this.exportColumns.length)\n    },\n\n    actionRunning() {\n      return this.exporting\n    },\n  },\n\n  created() {\n    this.restoreState()\n    this.loadAsyncData()\n\n    this.$on('filter', this.loadAsyncData)\n  },\n\n  methods: {\n    loadAsyncData() {\n      this.loading = true\n\n      return axios.get(route(this.listRoute).withQuery({\n        sort_by: `${this.sortField}.${this.sortOrder}`,\n        page: this.page,\n        per_page: this.perPage,\n      })).then(({ data: response }) => {\n        this.data = []\n        this.total = response.meta.total\n        response.data.forEach((item) => this.data.push(item))\n        this.loading = false\n      }, (response) => {\n        this.data = []\n        this.total = 0\n        this.loading = false\n      })\n    },\n\n    /*\n     * Handle page-change event\n     */\n    onPageChange(page) {\n      this.page = page\n      this.loadAsyncData()\n    },\n\n    /*\n     * Handle sort event\n     */\n    onSort(field, order) {\n      this.sortField = field\n      this.sortOrder = order\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    onPerPageChange(perPage) {\n      if (perPage === this.perPage) return\n\n      this.perPage = perPage\n\n      this.saveState()\n\n      this.loadAsyncData()\n    },\n\n    confirmRemove(row) {\n      this.$buefy.dialog.confirm({\n        message: this.trans('Are you sure you want to delete this record?'),\n        confirmText: this.trans('buttons.delete'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-danger',\n        onConfirm: () => { this.remove(row) }\n      })\n    },\n\n    remove (row) {\n      return axios.delete(route(this.deleteRoute, row.id)).then(response => {\n        this.$buefy.toast.open({\n          message: this.trans('Record deleted'),\n          type: 'is-success'\n        })\n\n        this.loadAsyncData()\n      }).catch(error => { console.error(error) })\n    },\n\n    editLink (row) {\n      return route(this.editRoute, row.id)\n    },\n\n    viewLink (row) {\n      return this.viewRoute ? route(this.viewRoute, row.id) : null\n    },\n\n    openActivityLogModal(row) {\n      this.activityLog = row.activity\n    },\n\n    openExportModal() {\n      this.showExportModal = true\n    },\n\n    onExportDone(finishedExport) {\n      this.showExportModal = false\n\n      if (finishedExport.url) {\n        this.$buefy.modal.open({\n          parent: this,\n          component: ExportDownloadModal,\n          canCancel: [],\n          hasModalCard: true,\n          props: {\n            url: finishedExport.url,\n          }\n        })\n      } else {\n        this.$buefy.toast.open({\n          duration: 0,\n          message: `Something's not good, also I'm on bottom`,\n          type: 'is-danger'\n        })\n      }\n    }\n  },\n\n  filters: {\n    /**\n     * Filter to truncate string, accepts a length parameter\n     */\n    truncate(value, length) {\n      return value.length > length\n        ? value.substr(0, length) + '...'\n        : value\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./LiteratureObservationsTable.vue?vue&type=template&id=184f2408&\"\nimport script from \"./LiteratureObservationsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./LiteratureObservationsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-observations-table\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"}),_vm._v(\" \"),(_vm.hasActions)?_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\"}},[_c('button',{staticClass:\"button is-touch-full\",class:{'is-loading': _vm.actionRunning},attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('span',[_vm._v(_vm._s(_vm.trans('labels.actions')))]),_vm._v(\" \"),_c('span',{staticClass:\"icon has-text-grey\"},[_c('i',{staticClass:\"fa fa-angle-down\"})])]),_vm._v(\" \"),(_vm.exportable)?_c('b-dropdown-item',{on:{\"click\":_vm.openExportModal}},[_c('b-icon',{staticClass:\"has-text-grey\",attrs:{\"icon\":\"download\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.export')))])],1):_vm._e()],1)],1)]):_vm._e()]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('nz-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.perPage,\"per-page-options\":_vm.perPageOptions,\"pagination-on-top\":\"\",\"backend-sorting\":\"\",\"default-sort-direction\":_vm.defaultSortOrder,\"default-sort\":[_vm.sortField, _vm.sortOrder],\"detailed\":\"\",\"mobile-cards\":true,\"checkable\":_vm.hasActions,\"checked-rows\":_vm.checkedRows},on:{\"page-change\":_vm.onPageChange,\"per-page-change\":_vm.onPerPageChange,\"sort\":_vm.onSort,\"update:checkedRows\":function($event){_vm.checkedRows=$event},\"update:checked-rows\":function($event){_vm.checkedRows=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('b-table-column',{attrs:{\"field\":\"id\",\"label\":_vm.trans('labels.id'),\"width\":\"40\",\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.id)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"taxon_name\",\"label\":_vm.trans('labels.literature_observations.taxon'),\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.taxon ? row.taxon.name : '')+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"year\",\"label\":_vm.trans('labels.literature_observations.year'),\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.year)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"month\",\"label\":_vm.trans('labels.literature_observations.month'),\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.month)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"day\",\"label\":_vm.trans('labels.literature_observations.day'),\"numeric\":\"\",\"sortable\":\"\"}},[_vm._v(\"\\n        \"+_vm._s(row.day)+\"\\n      \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"width\":\"150\",\"numeric\":\"\"}},[(_vm.showActivityLog && row.activity)?_c('a',{attrs:{\"title\":_vm.trans('Activity Log')},on:{\"click\":function($event){return _vm.openActivityLogModal(row)}}},[_c('b-icon',{attrs:{\"icon\":\"history\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.viewRoute)?_c('a',{attrs:{\"href\":_vm.viewLink(row),\"title\":_vm.trans('buttons.view')}},[_c('b-icon',{attrs:{\"icon\":\"eye\"}})],1):_vm._e(),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.editLink(row),\"title\":_vm.trans('buttons.edit')}},[_c('b-icon',{attrs:{\"icon\":\"edit\"}})],1),_vm._v(\" \"),_c('a',{attrs:{\"title\":_vm.trans('buttons.delete')},on:{\"click\":function($event){return _vm.confirmRemove(row)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1)])]}},{key:\"detail\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('article',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"content\"},[_c('strong',[_vm._v(_vm._s(row.location))]),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(row.latitude)+\", \"+_vm._s(row.longitude))]),_c('br'),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(_vm.trans('labels.literature_observations.elevation'))+\": \"+_vm._s(row.elevation)+\"m\")]),_c('br'),_vm._v(\" \"),(row.accuracy)?_c('small',[_vm._v(_vm._s(_vm.trans('labels.literature_observations.accuracy'))+\": \"+_vm._s(row.accuracy)+\"m\")]):_vm._e()])])])]}}])},[_vm._v(\" \"),_c('template',{slot:\"empty\"},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.empty))])])])])],2),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.activityLog.length > 0},on:{\"close\":function($event){_vm.activityLog = []}}},[_c('div',{staticClass:\"modal-card\"},[_c('div',{staticClass:\"modal-card-head\"},[_c('b-icon',{attrs:{\"icon\":\"history\"}}),_vm._v(\" \"),_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('Activity Log')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-card-body\"},[_c('nz-literature-observation-activity-log',{attrs:{\"activities\":_vm.activityLog}})],1)])]),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.showExportModal,\"has-modal-card\":\"\",\"can-cancel\":[]},on:{\"close\":function($event){_vm.showExportModal = false}}},[_c('nz-export-modal',{attrs:{\"checked\":_vm.checkedIds,\"columns\":_vm.exportColumns,\"url\":_vm.exportUrl,\"types\":['custom', 'darwin_core']},on:{\"cancel\":function($event){_vm.showExportModal = false},\"done\":_vm.onExportDone}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  name: 'nzRegistrationForm',\n\n  props: {\n    initPasswordError: String,\n  },\n\n  data() {\n    return {\n      password: '',\n      passwordWasOnceInvalid: !!this.initPasswordError,\n      passwordIsInvalid: !!this.initPasswordError,\n      passwordError: this.initPasswordError,\n    }\n  },\n\n  computed: {\n    shouldBeDisabled() {\n      return this.passwordIsInvalid\n    }\n  },\n\n  methods: {\n    validatePassword() {\n      return this.password.length < 8\n    },\n\n    checkPassword() {\n      this.passwordIsInvalid = this.validatePassword()\n\n      if (this.passwordIsInvalid) {\n        this.passwordWasOnceInvalid = true\n      }\n\n      this.passwordError = this.passwordIsInvalid\n        ? this.trans('validation.min.string', {\n          attribute: this.trans('labels.register.password'),\n          min: 8\n        })\n        : ''\n    },\n\n    checkIfFixedPassword() {\n      if (this.passwordWasOnceInvalid) {\n        this.checkPassword()\n      }\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserForm.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"user-form\">\n    <form @submit.prevent=\"submit\">\n      <div class=\"columns\">\n        <div class=\"column\">\n          <b-field :label=\"trans('labels.users.first_name')\" class=\"is-required\">\n            <b-input v-model=\"form.first_name\" />\n          </b-field>\n        </div>\n\n        <div class=\"column\">\n          <b-field :label=\"trans('labels.users.last_name')\" class=\"is-required\">\n            <b-input v-model=\"form.last_name\" />\n          </b-field>\n        </div>\n      </div>\n\n      <b-field :label=\"trans('labels.users.institution')\">\n        <b-input v-model=\"form.institution\" />\n      </b-field>\n\n      <b-field :label=\"trans('labels.users.roles')\">\n        <div class=\"block\">\n          <b-checkbox\n            v-for=\"role in roles\"\n            :key=\"role.id\"\n            v-model=\"form.roles_ids\"\n            :native-value=\"role.id\"\n          >\n            {{ trans('roles.' + role.name) }}\n          </b-checkbox>\n        </div>\n      </b-field>\n\n      <b-field :label=\"trans('labels.users.curated_taxa')\" v-if=\"isCurator\">\n        <b-taginput\n          v-model=\"curatedTaxa\"\n          :data=\"filteredTaxa\"\n          autocomplete\n          field=\"name\"\n          placeholder=\"Type taxon name\"\n          @typing=\"onTaxonNameInput\"\n        />\n      </b-field>\n\n      <hr>\n\n      <button type=\"submit\" class=\"button is-primary\">{{ trans('buttons.save') }}</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport _find from 'lodash/find'\nimport _includes from 'lodash/includes'\nimport _get from 'lodash/get'\nimport _debounce from 'lodash/debounce'\n\nexport default {\n  name: 'nzUserForm',\n\n  props: {\n    action: String,\n    method: {\n      type: String,\n      default: 'post'\n    },\n    roles: Array,\n    user: {\n      type: Object,\n      default() {\n        return {\n          first_name: '',\n          last_name: '',\n          institution: '',\n          roles: [],\n          curated_taxa: [],\n        }\n      }\n    },\n    redirect: String\n  },\n\n  data() {\n    return {\n      filteredTaxa: [],\n      curatedTaxa: this.user.curated_taxa,\n      form: new Form({\n        first_name: this.user.first_name,\n        last_name: this.user.last_name,\n        institution: this.user.institution,\n        roles_ids: this.user.roles.map(role => role.id),\n        curated_taxa_ids: this.user.curated_taxa.map(taxon => taxon.id)\n      }, {\n        resetOnSuccess: false\n      })\n    }\n  },\n\n  computed: {\n    isCurator() {\n      return _includes(this.form.roles_ids, _find(this.roles, { name: 'curator' }).id)\n    }\n  },\n\n  watch: {\n    curatedTaxa(value) {\n      this.form.curated_taxa_ids = value.map(taxon => taxon.id)\n    }\n  },\n\n  methods: {\n    onTaxonNameInput: _debounce(function (name) {\n      return this.fetchTaxa(name)\n    }, 500),\n\n    fetchTaxa(name) {\n      axios.get(route('api.taxa.index'), {\n        params: {\n          name,\n          page: 1,\n          per_page: 10,\n          except: this.curatedTaxa.map(taxon => taxon.id)\n        }\n      }).then(({ data }) => {\n        this.filteredTaxa = data.data\n      })\n    },\n\n    submit() {\n      if (this.form.processing) return\n\n      this.form[this.method.toLowerCase()](this.action)\n          .then(this.onSuccessfulSubmit)\n          .catch(this.onFailedSubmit)\n    },\n\n    /**\n     * Handle successful form submit.\n     */\n    onSuccessfulSubmit() {\n      this.form.processing = true\n\n      this.$buefy.toast.open({\n          message: this.trans('Saved successfully'),\n          type: 'is-success'\n      })\n\n      // We want to wait a bit before we send the user to redirect route\n      // so we can show the message that the action was successful.\n      setTimeout(() => {\n          this.form.processing = false\n\n          window.location.href = this.redirect\n      }, 500)\n    },\n\n    /**\n     * Handle failed form submit.\n     *\n     * @param {Error} error\n     */\n    onFailedSubmit(error) {\n      this.$buefy.toast.open({\n        duration: 2500,\n        message: _get(error, 'response.data.message', error.message),\n        type: 'is-danger'\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./UserForm.vue?vue&type=template&id=3ad3555f&\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js&\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-form\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.users.first_name')}},[_c('b-input',{model:{value:(_vm.form.first_name),callback:function ($$v) {_vm.$set(_vm.form, \"first_name\", $$v)},expression:\"form.first_name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.users.last_name')}},[_c('b-input',{model:{value:(_vm.form.last_name),callback:function ($$v) {_vm.$set(_vm.form, \"last_name\", $$v)},expression:\"form.last_name\"}})],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.users.institution')}},[_c('b-input',{model:{value:(_vm.form.institution),callback:function ($$v) {_vm.$set(_vm.form, \"institution\", $$v)},expression:\"form.institution\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.users.roles')}},[_c('div',{staticClass:\"block\"},_vm._l((_vm.roles),function(role){return _c('b-checkbox',{key:role.id,attrs:{\"native-value\":role.id},model:{value:(_vm.form.roles_ids),callback:function ($$v) {_vm.$set(_vm.form, \"roles_ids\", $$v)},expression:\"form.roles_ids\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans('roles.' + role.name))+\"\\n        \")])}),1)]),_vm._v(\" \"),(_vm.isCurator)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.users.curated_taxa')}},[_c('b-taginput',{attrs:{\"data\":_vm.filteredTaxa,\"autocomplete\":\"\",\"field\":\"name\",\"placeholder\":\"Type taxon name\"},on:{\"typing\":_vm.onTaxonNameInput},model:{value:(_vm.curatedTaxa),callback:function ($$v) {_vm.curatedTaxa=$$v},expression:\"curatedTaxa\"}})],1):_vm._e(),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.trans('buttons.save')))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Form from 'form-backend-validation'\nimport _pick from 'lodash/pick'\nimport _get from 'lodash/get'\nimport _isEqual from 'lodash/isEqual'\n\n\nexport default {\n  name: 'nzFieldObservationForm',\n\n  props: {\n    action: {\n      type: String,\n      required: true\n    },\n\n    method: {\n      type: String,\n      default: 'POST'\n    },\n\n    redirectUrl: String,\n    cancelUrl: String,\n\n    submitMore: Boolean,\n    shouldConfirmSubmit: Boolean,\n    confirmSubmitMessage: {\n      type: String,\n      default() {\n        return this.trans('You are about to submit')\n      }\n    },\n    shouldAskReason: Boolean,\n    shouldConfirmCancel: Boolean,\n    submitOnlyDirty: Boolean,\n    submitOnlyDirtyMessage: {\n      type: String,\n      default() {\n        return this.trans('There are no changes, the data will not be saved.')\n      }\n    }\n  },\n\n  data() {\n    return {\n      form: this.newForm(),\n      keepAfterSubmit: [],\n      submittingWithRedirect: false,\n      submittingWithoutRedirect: false,\n      confirmingSubmit: false,\n      confirmingCancel: false,\n      locale: window.App.locale\n    }\n  },\n\n  created() {\n    document.addEventListener('keyup', this.registerKeyListener)\n  },\n\n  beforeDestroy() {\n    document.removeEventListener('keyup', this.registerKeyListener)\n  },\n\n  methods: {\n    /**\n     * Create new form instance.\n     *\n     * @param  {Object} data default form data\n     * @return {Form}\n     */\n    newForm(data = {}) {\n      return new Form(data, {\n        resetOnSuccess: false\n      })\n    },\n\n    /**\n     * Keyboard shortcuts.\n     *\n     * @param {Event} e\n     */\n    registerKeyListener(e) {\n      const enter = 13 === (e.which || e.keyCode)\n\n      if (e.ctrlKey && e.shiftKey && enter) {\n        this.submitMore && this.submitWithoutRedirect()\n      } else if (e.ctrlKey && enter) {\n        this.submitWithRedirect()\n      }\n    },\n\n    /**\n     * Confirm submit.\n     *\n     * @param {Function} onConfirm\n     */\n    confirmSubmit(onConfirm) {\n      if (this.confirmingSubmit) return\n\n      this.confirmingSubmit = true\n\n      const options = {\n        message: this.confirmSubmitMessage,\n        confirmText: this.trans('buttons.save'),\n        cancelText: this.trans('buttons.cancel'),\n        onConfirm,\n        onCancel: () => { this.confirmingSubmit = false }\n      }\n\n      if (!this.shouldAskReason) {\n        return this.$buefy.dialog.confirm(options)\n      }\n\n      return this.promptForReason(options)\n    },\n\n    /**\n     * Prompt the user for reason of change.\n     *\n     * @param  {Object} options\n     * @return {Vue}\n     */\n    promptForReason(options) {\n      const dialog = this.$buefy.dialog.prompt({\n        ...options,\n        inputAttrs: {\n            placeholder: this.trans('Reason'),\n            required: true,\n            maxlength: 255\n        }\n      })\n\n      // Custom localized validation for the prompt input.\n      dialog.$nextTick(() => {\n        dialog.$refs.input.addEventListener('invalid', (e) => {\n          e.target.setCustomValidity('')\n\n          if (!e.target.validity.valid) {\n            e.target.setCustomValidity(this.trans('This field is required and can contain max 255 chars.'))\n          }\n        })\n\n        dialog.$refs.input.addEventListener('input', (e) => {\n          dialog.validationMessage = null\n        })\n      })\n\n      return dialog\n    },\n\n    /**\n     * Notify the user there are no changes.\n     */\n    notifyNoChanges() {\n      this.$buefy.toast.open({\n        message: this.submitOnlyDirtyMessage,\n        type: 'is-info'\n      })\n    },\n\n    /**\n     * Notify the user there are no changes and redirect.\n     */\n    notifyNoChangesAndRedirect() {\n      this.notifyNoChanges()\n\n      setTimeout(() => {\n        if (this.redirectUrl) {\n          window.location.href = this.redirectUrl\n        }\n      }, 500)\n    },\n\n    /**\n     * Submit the form with redirect.\n     */\n    submitWithRedirect() {\n      if (this.form.processing) return\n\n      if (this.submitOnlyDirty && !this.isDirty()) return this.notifyNoChangesAndRedirect()\n\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithRedirect)\n\n      this.performSubmitWithRedirect()\n    },\n\n    /**\n     * Submit the form with redirect.\n     */\n    performSubmitWithRedirect(reason = null) {\n      this.submittingWithRedirect = true\n      this.confirmingSubmit = false\n\n      if (this.shouldAskReason) {\n        this.form.reason = reason\n      }\n\n      this.form[this.method.toLowerCase()](this.action)\n          .then(this.onSuccessfulSubmitWithRedirect)\n          .catch(this.onFailedSubmit)\n    },\n\n    /**\n     * Handle successful form submit with redirect.\n     */\n    onSuccessfulSubmitWithRedirect() {\n      this.form.processing = true\n\n      this.$buefy.toast.open({\n        message: this.trans('Saved successfully'),\n        type: 'is-success'\n      })\n\n      // We want to wait a bit before we send the user to redirect route\n      // so we can show the message that the action was successful.\n      setTimeout(() => {\n        this.form.processing = false\n        this.submittingWithRedirect = false\n\n        this.hookAfterSubmitWithRedirect()\n\n        if (this.redirectUrl) {\n          window.location.href = this.redirectUrl\n        }\n      }, 500)\n    },\n\n    /**\n     * Perform after submit with redirect is successful.\n     */\n    hookAfterSubmitWithRedirect() {},\n\n    /**\n     * Submit the form and stay to add more.\n     */\n    submitWithoutRedirect() {\n      if (this.form.processing) return\n\n      if (this.submitOnlyDirty  && !this.isDirty()) return this.notifyNoChanges()\n\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithoutRedirect)\n\n      this.performSubmitWithoutRedirect()\n    },\n\n    /**\n     * Submit the form and stay to add more.\n     */\n    performSubmitWithoutRedirect(reason = null) {\n      this.submittingWithoutRedirect = true\n      this.confirmingSubmit = false\n\n      if (this.shouldAskReason) {\n        this.form.reason = reason\n      }\n\n      this.form[this.method.toLowerCase()](this.action)\n          .then(this.onSuccessfulSubmitWithoutRedirect)\n          .catch(this.onFailedSubmit)\n    },\n\n    /**\n     * Handle successful form submit with no redirect.\n     */\n    onSuccessfulSubmitWithoutRedirect() {\n      this.submittingWithoutRedirect = false\n\n      this.$buefy.toast.open({\n        message: this.trans('Saved successfully'),\n        type: 'is-success'\n      })\n\n      // Reset the form but remember some data.\n      const keep = _pick(this.form.data(), this.keepAfterSubmit)\n      this.form.reset()\n      this.form.populate(keep)\n\n      this.hookAfterSubmitWithoutRedirect()\n    },\n\n    /**\n     * Perform after submit without redirect is successful.\n     */\n    hookAfterSubmitWithoutRedirect() {},\n\n    /**\n     * Handle failed form submit.\n     *\n     * @param {Error} error\n     */\n    onFailedSubmit(error) {\n      this.submittingWithRedirect = false\n      this.submittingWithoutRedirect = false\n\n      this.$buefy.toast.open({\n        duration: 2500,\n        message: _get(error, 'response.data.message', error.message),\n        type: 'is-danger'\n      })\n    },\n\n    /**\n     * Check if form is changed.\n     *\n     * @return {Boolean}\n     */\n    isDirty() {\n      return ! _isEqual(this.form.data(), this.form.initial)\n    },\n\n    /**\n     * Confirmation dialog for canceling.\n     */\n    confirmCancel() {\n      if (this.confirmingCancel) return\n\n      this.confirmingCancel = true\n\n      this.$buefy.dialog.confirm({\n        message: this.trans('If you leave this page changes will not be saved.'),\n        onConfirm: () => {\n          this.confirmingCancel = false\n          window.location.href = this.cancelUrl\n        },\n        onCancel: () => { this.confirmingCancel = false },\n        cancelText: this.trans('buttons.stay_on_page'),\n        confirmText: this.trans('buttons.leave_page'),\n      })\n    },\n\n    /**\n     * Handle cancel button/link.\n     *\n     * @param {Event} event\n     */\n    onCancel(event) {\n      if (this.shouldConfirmCancel && this.isDirty()) {\n        event.preventDefault()\n\n        this.confirmCancel()\n      }\n    }\n  }\n}\n","<template>\n  <form :action=\"action\" method=\"POST\" @submit.prevent=\"submitWithRedirect\">\n    <div class=\"columns\">\n      <div class=\"column is-4\">\n        <nz-taxon-autocomplete\n          :label=\"trans('labels.taxa.parent')\"\n          v-model=\"parentName\"\n          @select=\"onTaxonSelect\"\n          :error=\"form.errors.has('parent_id')\"\n          :message=\"form.errors.first('parent_id')\"\n          :taxon=\"taxon.parent || null\"\n          :except=\"taxon.id\"\n          :placeholder=\"trans('labels.taxa.search_for_taxon')\"\n          autofocus\n        />\n      </div>\n\n      <div class=\"column is-5\">\n        <b-field\n          :label=\"trans('labels.taxa.name')\"\n          class=\"is-required\"\n          :type=\"form.errors.has('name') ? 'is-danger' : ''\"\n          :message=\"form.errors.has('name') ? form.errors.first('name') : ''\"\n        >\n          <b-input v-model=\"form.name\" />\n        </b-field>\n      </div>\n\n      <div class=\"column is-3\">\n        <b-field\n          :label=\"trans('labels.taxa.rank')\"\n          class=\"is-required\"\n          :type=\"form.errors.has('rank') ? 'is-danger' : ''\"\n          :message=\"form.errors.has('rank') ? form.errors.first('rank') : ''\"\n        >\n          <b-select v-model=\"form.rank\" expanded>\n            <option\n              v-for=\"(rank, index) in rankOptions\"\n              :value=\"rank.value\"\n              :key=\"index\"\n              v-text=\"rank.label\"\n            />\n          </b-select>\n        </b-field>\n      </div>\n    </div>\n\n    <b-field\n      :label=\"trans('labels.taxa.author')\"\n      :type=\"form.errors.has('author') ? 'is-danger' : ''\"\n      :message=\"form.errors.has('author') ? form.errors.first('author') : ''\"\n    >\n      <b-input v-model=\"form.author\" />\n    </b-field>\n\n    <hr>\n\n    <b-field :label=\"trans('labels.taxa.native_name')\">\n      <b-tabs size=\"is-small\" class=\"block\" @change=\"(index) => focusOnTranslation(index, 'native_name')\">\n        <b-tab-item :label=\"trans('languages.' + data.name)\" v-for=\"(data, locale) in supportedLocales\" :key=\"locale\">\n          <b-input v-model=\"form.native_name[locale]\" :ref=\"`native_name-${locale}`\" />\n        </b-tab-item>\n      </b-tabs>\n    </b-field>\n\n    <b-field :label=\"trans('labels.taxa.description')\">\n      <b-tabs size=\"is-small\" class=\"block\" @change=\"(index) => focusOnTranslation(index, 'description')\">\n        <b-tab-item :label=\"trans('languages.' + data.name)\" v-for=\"(data, locale) in supportedLocales\" :key=\"locale\">\n          <nz-wysiwyg v-model=\"form.description[locale]\" :ref=\"`description-${locale}`\" />\n        </b-tab-item>\n      </b-tabs>\n    </b-field>\n\n    <hr>\n\n    <div class=\"columns\">\n      <div class=\"column is-half\">\n        <b-field\n          :label=\"trans('labels.taxa.fe_old_id')\"\n          :type=\"form.errors.has('fe_old_id') ? 'is-danger' : ''\"\n          :message=\"form.errors.has('fe_old_id') ? form.errors.first('fe_old_id') : ''\"\n        >\n          <b-input v-model=\"form.fe_old_id\" />\n        </b-field>\n      </div>\n\n      <div class=\"column is-half\">\n        <b-field\n          :label=\"trans('labels.taxa.fe_id')\"\n          :type=\"form.errors.has('fe_id') ? 'is-danger' : ''\"\n          :message=\"form.errors.has('fe_id') ? form.errors.first('fe_id') : ''\"\n        >\n          <b-input v-model=\"form.fe_id\" />\n        </b-field>\n      </div>\n    </div>\n\n    <div class=\"columns\">\n      <div class=\"column\">\n        <b-field :label=\"trans('labels.taxa.restricted')\">\n          <div class=\"field\">\n            <b-switch v-model=\"form.restricted\">\n              {{ form.restricted ? trans('Yes') : trans('No') }}\n            </b-switch>\n          </div>\n        </b-field>\n      </div>\n      <div class=\"column\">\n        <b-field :label=\"trans('labels.taxa.allochthonous')\">\n          <b-switch v-model=\"form.allochthonous\">\n            {{ form.allochthonous ? trans('Yes') : trans('No') }}\n          </b-switch>\n        </b-field>\n      </div>\n      <div class=\"column\">\n        <b-field :label=\"trans('labels.taxa.invasive')\">\n          <b-switch v-model=\"form.invasive\">\n            {{ form.invasive ? trans('Yes') : trans('No') }}\n          </b-switch>\n        </b-field>\n      </div>\n    </div>\n\n    <b-field :label=\"trans('labels.taxa.stages')\" v-if=\"stages.length\">\n      <div class=\"block\">\n        <b-checkbox\n          v-for=\"stage in stages\"\n          :key=\"stage.id\"\n          v-model=\"form.stages_ids\"\n          :native-value=\"stage.id\"\n        >\n          {{ trans('stages.' + stage.name) }}\n        </b-checkbox>\n      </div>\n    </b-field>\n\n    <b-field :label=\"trans('labels.taxa.conservation_legislations')\" v-if=\"conservationLegislations.length\">\n      <div class=\"block\">\n        <div class=\"columns is-multiline is-gapless\">\n          <div class=\"column is-half\" v-for=\"conservationLegislation in conservationLegislations\" :key=\"conservationLegislation.id\">\n            <b-tooltip :label=\"conservationLegislation.description\" multilined>\n              <b-checkbox\n                v-model=\"form.conservation_legislations_ids\"\n                :native-value=\"conservationLegislation.id\"\n              >\n                {{ conservationLegislation.name }}\n              </b-checkbox>\n            </b-tooltip>\n          </div>\n        </div>\n      </div>\n    </b-field>\n\n    <b-field :label=\"trans('labels.taxa.conservation_documents')\" v-if=\"conservationDocuments.length\">\n      <div class=\"block\">\n        <div class=\"columns is-multiline is-gapless\">\n          <div class=\"column is-half\" v-for=\"conservationDocument in conservationDocuments\" :key=\"conservationDocument.id\">\n            <b-tooltip :label=\"conservationDocument.description\" multilined>\n              <b-checkbox\n                v-model=\"form.conservation_documents_ids\"\n                :native-value=\"conservationDocument.id\"\n              >\n                {{ conservationDocument.name }}\n              </b-checkbox>\n            </b-tooltip>\n          </div>\n        </div>\n      </div>\n    </b-field>\n\n    <div class=\"field\" v-if=\"redLists.length\">\n      <label class=\"label\">{{ trans('labels.taxa.red_lists') }}</label>\n\n      <b-field v-for=\"(addedRedList, index) in form.red_lists_data\" :key=\"index\" grouped>\n        <div class=\"control is-expanded\">\n          <span v-text=\"getRedListName(addedRedList.red_list_id)\"></span>\n        </div>\n\n        <b-select v-model=\"addedRedList.category\">\n          <option v-for=\"category in redListCategories\" :value=\"category\" :key=\"category\" v-text=\"category\">\n          </option>\n        </b-select>\n\n        <div class=\"control\">\n          <button type=\"button\" class=\"button has-text-danger\" @click=\"removeRedList(index)\">&times;</button>\n        </div>\n      </b-field>\n\n      <b-field grouped v-if=\"availableRedLists.length\">\n        <b-select v-model=\"chosenRedList\" expanded>\n          <option v-for=\"option in availableRedLists\" :value=\"option\" :key=\"option.id\" v-text=\"option.name\">\n          </option>\n        </b-select>\n\n        <div class=\"control\">\n          <button type=\"button\" class=\"button\" @click=\"addRedList\">{{ trans('labels.taxa.add_red_list') }}</button>\n        </div>\n      </b-field>\n    </div>\n\n    <hr>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n          'is-loading': form.processing\n      }\"\n      @click=\"submitWithRedirect\"\n    >\n      {{ trans('buttons.save') }}\n    </button>\n\n    <a :href=\"cancelUrl\" class=\"button is-text\" @click=\"onCancel\">{{ trans('buttons.cancel') }}</a>\n  </form>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport _keys from 'lodash/keys'\nimport _find from 'lodash/find'\nimport _first from 'lodash/first'\nimport _get from 'lodash/get'\nimport FormMixin from '@/mixins/FormMixin'\n\nfunction defaultTranslations() {\n  const value = {}\n\n  _keys(window.App.supportedLocales).forEach(locale => {\n    value[locale] = null\n  })\n\n  return value\n}\n\nexport default {\n  name: 'nzTaxonForm',\n\n  mixins: [FormMixin],\n\n  props: {\n    taxon: {\n      type: Object,\n      default() {\n        return {\n          name: null,\n          parent_id: null,\n          rank: 'species',\n          rank_level: 10,\n          author: null,\n          fe_id: null,\n          fe_old_id: null,\n          conservation_legislations: [],\n          conservation_documents: [],\n          red_lists: [],\n          stages: [],\n          restricted: false,\n          allochthonous: false,\n          invasive: false,\n          restricted: false\n        }\n      }\n    },\n    ranks: Array,\n    conservationLegislations: Array,\n    conservationDocuments: Array,\n    redListCategories: Array,\n    redLists: {\n      type: Array,\n      default() { return [] }\n    },\n    stages: Array,\n    nativeNames: {\n      type: Object,\n      default: () => defaultTranslations()\n    },\n    descriptions: {\n      type: Object,\n      default: () => defaultTranslations()\n    }\n  },\n\n  data() {\n    return {\n      form: this.newForm(),\n      parentName: _get(this.taxon, 'parent.name'),\n      selectedParent: null,\n      chosenRedList: null\n    }\n  },\n\n  computed: {\n    rankOptions() {\n      if (this.selectedParent) {\n        return this.ranks.filter((rank) => rank.level < this.selectedParent.rank_level)\n      }\n\n      return this.ranks\n    },\n\n    availableRedLists() {\n      const addedRedListIds = this.form.red_lists_data\n\n      return this.redLists.filter(redList => !_find(addedRedListIds, rl => redList.id == rl.red_list_id))\n    },\n\n    supportedLocales() {\n      return window.App.supportedLocales\n    }\n  },\n\n  watch: {\n    selectedParent(value) {\n      if (this.shouldResetRank(value)) {\n        this.form.rank = null\n      }\n    }\n  },\n\n  methods: {\n    newForm() {\n      return new Form({\n        ...this.taxon,\n        stages_ids: this.taxon.stages.map(stage => stage.id),\n        conservation_legislations_ids: this.taxon.conservation_legislations.map(conservationLegislation => conservationLegislation.id),\n        conservation_documents_ids: this.taxon.conservation_documents.map(conservationDocument => conservationDocument.id),\n        red_lists_data: this.taxon.red_lists.map(redList => {\n          return { red_list_id: redList.id, category: redList.pivot.category }\n        }),\n        native_name: this.nativeNames,\n        description: this.descriptions,\n        reason: null\n      }, {\n        resetOnSuccess: false\n      })\n    },\n\n    /**\n     * Add field to the form.\n     */\n    addRedList() {\n      if (!this.chosenRedList) return\n\n      this.form.red_lists_data.push({\n        red_list_id: this.chosenRedList.id,\n        category: _first(this.redListCategories)\n      })\n\n      this.chosenRedList = null\n    },\n\n    /**\n     * Don't use the field any more.\n     *\n     * @param  {Object} field\n     */\n    removeRedList(index) {\n        this.form.red_lists_data.splice(index, 1)\n    },\n\n    getRedListName(id) {\n        return _find(this.redLists, { id }).name\n    },\n\n    /**\n     * Handle taxon being selected.\n     *\n     * @param {Object} taxon\n     */\n    onTaxonSelect(taxon) {\n      this.selectedParent = taxon\n      this.form.parent_id = taxon ? taxon.id : null\n\n      // Inherit parent's stages\n      if (taxon.stages.length) {\n        this.form.stages_ids = taxon.stages.map(stage => stage.id)\n      }\n    },\n\n    shouldResetRank(selectedParent) {\n      return selectedParent && this.getRankLevel(this.form.rank) >= selectedParent.rank_level\n    },\n\n    /**\n     * Get rank level.\n     * @param {Object} rank\n     * @return {Number}\n     */\n    getRankLevel(rank) {\n      return _get(_find(this.ranks, { value: rank }), 'level')\n    },\n\n    focusOnTranslation(index, attribute) {\n      const locales = _keys(this.supportedLocales)\n      const selector = `${attribute}-${locales[index]}`\n\n      setTimeout(() => {\n        _first(this.$refs[selector]).focus()\n      }, 500)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaxonForm.vue?vue&type=template&id=f4875e02&\"\nimport script from \"./TaxonForm.vue?vue&type=script&lang=js&\"\nexport * from \"./TaxonForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{\"action\":_vm.action,\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submitWithRedirect($event)}}},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-4\"},[_c('nz-taxon-autocomplete',{attrs:{\"label\":_vm.trans('labels.taxa.parent'),\"error\":_vm.form.errors.has('parent_id'),\"message\":_vm.form.errors.first('parent_id'),\"taxon\":_vm.taxon.parent || null,\"except\":_vm.taxon.id,\"placeholder\":_vm.trans('labels.taxa.search_for_taxon'),\"autofocus\":\"\"},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.parentName),callback:function ($$v) {_vm.parentName=$$v},expression:\"parentName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-5\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.taxa.name'),\"type\":_vm.form.errors.has('name') ? 'is-danger' : '',\"message\":_vm.form.errors.has('name') ? _vm.form.errors.first('name') : ''}},[_c('b-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-3\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.taxa.rank'),\"type\":_vm.form.errors.has('rank') ? 'is-danger' : '',\"message\":_vm.form.errors.has('rank') ? _vm.form.errors.first('rank') : ''}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.rank),callback:function ($$v) {_vm.$set(_vm.form, \"rank\", $$v)},expression:\"form.rank\"}},_vm._l((_vm.rankOptions),function(rank,index){return _c('option',{key:index,domProps:{\"value\":rank.value,\"textContent\":_vm._s(rank.label)}})}),0)],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.author'),\"type\":_vm.form.errors.has('author') ? 'is-danger' : '',\"message\":_vm.form.errors.has('author') ? _vm.form.errors.first('author') : ''}},[_c('b-input',{model:{value:(_vm.form.author),callback:function ($$v) {_vm.$set(_vm.form, \"author\", $$v)},expression:\"form.author\"}})],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.native_name')}},[_c('b-tabs',{staticClass:\"block\",attrs:{\"size\":\"is-small\"},on:{\"change\":function (index) { return _vm.focusOnTranslation(index, 'native_name'); }}},_vm._l((_vm.supportedLocales),function(data,locale){return _c('b-tab-item',{key:locale,attrs:{\"label\":_vm.trans('languages.' + data.name)}},[_c('b-input',{ref:(\"native_name-\" + locale),refInFor:true,model:{value:(_vm.form.native_name[locale]),callback:function ($$v) {_vm.$set(_vm.form.native_name, locale, $$v)},expression:\"form.native_name[locale]\"}})],1)}),1)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.description')}},[_c('b-tabs',{staticClass:\"block\",attrs:{\"size\":\"is-small\"},on:{\"change\":function (index) { return _vm.focusOnTranslation(index, 'description'); }}},_vm._l((_vm.supportedLocales),function(data,locale){return _c('b-tab-item',{key:locale,attrs:{\"label\":_vm.trans('languages.' + data.name)}},[_c('nz-wysiwyg',{ref:(\"description-\" + locale),refInFor:true,model:{value:(_vm.form.description[locale]),callback:function ($$v) {_vm.$set(_vm.form.description, locale, $$v)},expression:\"form.description[locale]\"}})],1)}),1)],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-half\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.fe_old_id'),\"type\":_vm.form.errors.has('fe_old_id') ? 'is-danger' : '',\"message\":_vm.form.errors.has('fe_old_id') ? _vm.form.errors.first('fe_old_id') : ''}},[_c('b-input',{model:{value:(_vm.form.fe_old_id),callback:function ($$v) {_vm.$set(_vm.form, \"fe_old_id\", $$v)},expression:\"form.fe_old_id\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-half\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.fe_id'),\"type\":_vm.form.errors.has('fe_id') ? 'is-danger' : '',\"message\":_vm.form.errors.has('fe_id') ? _vm.form.errors.first('fe_id') : ''}},[_c('b-input',{model:{value:(_vm.form.fe_id),callback:function ($$v) {_vm.$set(_vm.form, \"fe_id\", $$v)},expression:\"form.fe_id\"}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.restricted')}},[_c('div',{staticClass:\"field\"},[_c('b-switch',{model:{value:(_vm.form.restricted),callback:function ($$v) {_vm.$set(_vm.form, \"restricted\", $$v)},expression:\"form.restricted\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.form.restricted ? _vm.trans('Yes') : _vm.trans('No'))+\"\\n          \")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.allochthonous')}},[_c('b-switch',{model:{value:(_vm.form.allochthonous),callback:function ($$v) {_vm.$set(_vm.form, \"allochthonous\", $$v)},expression:\"form.allochthonous\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.form.allochthonous ? _vm.trans('Yes') : _vm.trans('No'))+\"\\n        \")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.invasive')}},[_c('b-switch',{model:{value:(_vm.form.invasive),callback:function ($$v) {_vm.$set(_vm.form, \"invasive\", $$v)},expression:\"form.invasive\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.form.invasive ? _vm.trans('Yes') : _vm.trans('No'))+\"\\n        \")])],1)],1)]),_vm._v(\" \"),(_vm.stages.length)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.stages')}},[_c('div',{staticClass:\"block\"},_vm._l((_vm.stages),function(stage){return _c('b-checkbox',{key:stage.id,attrs:{\"native-value\":stage.id},model:{value:(_vm.form.stages_ids),callback:function ($$v) {_vm.$set(_vm.form, \"stages_ids\", $$v)},expression:\"form.stages_ids\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.trans('stages.' + stage.name))+\"\\n      \")])}),1)]):_vm._e(),_vm._v(\" \"),(_vm.conservationLegislations.length)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.conservation_legislations')}},[_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},_vm._l((_vm.conservationLegislations),function(conservationLegislation){return _c('div',{key:conservationLegislation.id,staticClass:\"column is-half\"},[_c('b-tooltip',{attrs:{\"label\":conservationLegislation.description,\"multilined\":\"\"}},[_c('b-checkbox',{attrs:{\"native-value\":conservationLegislation.id},model:{value:(_vm.form.conservation_legislations_ids),callback:function ($$v) {_vm.$set(_vm.form, \"conservation_legislations_ids\", $$v)},expression:\"form.conservation_legislations_ids\"}},[_vm._v(\"\\n              \"+_vm._s(conservationLegislation.name)+\"\\n            \")])],1)],1)}),0)])]):_vm._e(),_vm._v(\" \"),(_vm.conservationDocuments.length)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.taxa.conservation_documents')}},[_c('div',{staticClass:\"block\"},[_c('div',{staticClass:\"columns is-multiline is-gapless\"},_vm._l((_vm.conservationDocuments),function(conservationDocument){return _c('div',{key:conservationDocument.id,staticClass:\"column is-half\"},[_c('b-tooltip',{attrs:{\"label\":conservationDocument.description,\"multilined\":\"\"}},[_c('b-checkbox',{attrs:{\"native-value\":conservationDocument.id},model:{value:(_vm.form.conservation_documents_ids),callback:function ($$v) {_vm.$set(_vm.form, \"conservation_documents_ids\", $$v)},expression:\"form.conservation_documents_ids\"}},[_vm._v(\"\\n              \"+_vm._s(conservationDocument.name)+\"\\n            \")])],1)],1)}),0)])]):_vm._e(),_vm._v(\" \"),(_vm.redLists.length)?_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.trans('labels.taxa.red_lists')))]),_vm._v(\" \"),_vm._l((_vm.form.red_lists_data),function(addedRedList,index){return _c('b-field',{key:index,attrs:{\"grouped\":\"\"}},[_c('div',{staticClass:\"control is-expanded\"},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.getRedListName(addedRedList.red_list_id))}})]),_vm._v(\" \"),_c('b-select',{model:{value:(addedRedList.category),callback:function ($$v) {_vm.$set(addedRedList, \"category\", $$v)},expression:\"addedRedList.category\"}},_vm._l((_vm.redListCategories),function(category){return _c('option',{key:category,domProps:{\"value\":category,\"textContent\":_vm._s(category)}})}),0),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button has-text-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeRedList(index)}}},[_vm._v(\"×\")])])],1)}),_vm._v(\" \"),(_vm.availableRedLists.length)?_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.chosenRedList),callback:function ($$v) {_vm.chosenRedList=$$v},expression:\"chosenRedList\"}},_vm._l((_vm.availableRedLists),function(option){return _c('option',{key:option.id,domProps:{\"value\":option,\"textContent\":_vm._s(option.name)}})}),0),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addRedList}},[_vm._v(_vm._s(_vm.trans('labels.taxa.add_red_list')))])])],1):_vm._e()],2):_vm._e(),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary\",class:{\n        'is-loading': _vm.form.processing\n    },attrs:{\"type\":\"submit\"},on:{\"click\":_vm.submitWithRedirect}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save'))+\"\\n  \")]),_vm._v(\" \"),_c('a',{staticClass:\"button is-text\",attrs:{\"href\":_vm.cancelUrl},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _intersection from 'lodash/intersection'\n\nexport default class User {\n  constructor(data) {\n    for (let attribute in data) {\n      this[attribute] = data[attribute];\n    }\n  }\n\n  hasRole(roles) {\n    if (!Array.isArray(roles)) {\n      roles = [roles]\n    }\n\n    return !!_intersection(this.roles.map(role => role.name), roles).length;\n  }\n}\n","<template>\n  <form :action=\"action\" method=\"POST\" :lang=\"locale\" class=\"field-observation-form\">\n    <div class=\"columns is-desktop\">\n      <div class=\"column is-half-desktop\">\n        <nz-taxon-autocomplete\n          v-model=\"form.taxon_suggestion\"\n          @select=\"onTaxonSelect\"\n          :taxon=\"observation.taxon\"\n          :error=\"form.errors.has('taxon_id')\"\n          :message=\"form.errors.has('taxon_id') ? form.errors.first('taxon_id') : null\"\n          autofocus\n          ref=\"taxonAutocomplete\"\n          :label=\"trans('labels.field_observations.taxon')\"\n          :placeholder=\"trans('labels.field_observations.search_for_taxon')\"\n        />\n\n        <nz-date-input\n          :year.sync=\"form.year\"\n          :month.sync=\"form.month\"\n          :day.sync=\"form.day\"\n          :errors=\"form.errors\"\n          :label=\"trans('labels.field_observations.date')\"\n          :placeholders=\"{\n              year: trans('labels.field_observations.year'),\n              month: trans('labels.field_observations.month'),\n              day: trans('labels.field_observations.day')\n          }\"\n        />\n\n        <b-field :label=\"trans('labels.field_observations.photos')\">\n          <div class=\"columns\">\n            <div class=\"column is-one-third\">\n              <nz-photo-upload\n                :image-url=\"getObservationPhotoAttribute(0, 'url')\"\n                :image-path=\"getObservationPhotoAttribute(0, 'path')\"\n                :image-license=\"getObservationPhotoAttribute(0, 'license')\"\n                :licenses=\"licenses\"\n                :text=\"trans('labels.field_observations.upload')\"\n                @uploaded=\"onPhotoUploaded\"\n                @removed=\"onPhotoRemoved\"\n                @cropped=\"onPhotoCropped\"\n                @license-changed=\"onLicenseChanged(0, $event)\"\n                :errors=\"form.errors\"\n                ref=\"photoUpload-1\"\n              />\n            </div>\n\n            <div class=\"column is-one-third\">\n              <nz-photo-upload\n                :image-url=\"getObservationPhotoAttribute(1, 'url')\"\n                :image-path=\"getObservationPhotoAttribute(1, 'path')\"\n                :image-license=\"getObservationPhotoAttribute(1, 'license')\"\n                :licenses=\"licenses\"\n                :text=\"trans('labels.field_observations.upload')\"\n                @uploaded=\"onPhotoUploaded\"\n                @removed=\"onPhotoRemoved\"\n                @cropped=\"onPhotoCropped\"\n                @license-changed=\"onLicenseChanged(1, $event)\"\n                :errors=\"form.errors\"\n                ref=\"photoUpload-2\"\n              />\n            </div>\n\n            <div class=\"column is-one-third\">\n              <nz-photo-upload\n                :image-url=\"getObservationPhotoAttribute(2, 'url')\"\n                :image-path=\"getObservationPhotoAttribute(2, 'path')\"\n                :image-license=\"getObservationPhotoAttribute(2, 'license')\"\n                :licenses=\"licenses\"\n                :text=\"trans('labels.field_observations.upload')\"\n                @uploaded=\"onPhotoUploaded\"\n                @removed=\"onPhotoRemoved\"\n                @cropped=\"onPhotoCropped\"\n                @license-changed=\"onLicenseChanged(2, $event)\"\n                :errors=\"form.errors\"\n                ref=\"photoUpload-3\"\n              />\n            </div>\n          </div>\n        </b-field>\n      </div>\n\n      <div class=\"column is-half-desktop\">\n        <nz-spatial-input\n          :latitude.sync=\"form.latitude\"\n          :longitude.sync=\"form.longitude\"\n          :location.sync=\"form.location\"\n          :accuracy.sync=\"form.accuracy\"\n          :elevation.sync=\"form.elevation\"\n          :errors=\"form.errors\"\n        />\n      </div>\n    </div>\n\n    <button\n      type=\"button\"\n      class=\"button is-text\"\n      @click=\"showMoreDetails = !showMoreDetails\"\n    >\n      {{ showMoreDetails ? trans('labels.field_observations.less_details') : trans('labels.field_observations.more_details') }}\n    </button>\n\n    <div class=\"mt-4\" v-show=\"showMoreDetails\">\n      <div class=\"columns\">\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.field_observations.stage')\"\n            label-for=\"stage\"\n            :type=\"form.errors.has('stage_id') ? 'is-danger' : null\"\n            :message=\"form.errors.has('stage_id') ? form.errors.first('stage_id') : null\"\n          >\n            <b-select id=\"stage\" v-model=\"form.stage_id\" :disabled=\"!stages.length\" expanded>\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_stage') }}</option>\n              <option v-for=\"stage in stages\" :value=\"stage.id\" :key=\"stage.id\" v-text=\"trans('stages.'+stage.name)\"></option>\n            </b-select>\n          </b-field>\n        </div>\n\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.field_observations.sex')\"\n            :type=\"form.errors.has('sex') ? 'is-danger' : null\"\n            :message=\"form.errors.has('sex') ? form.errors.first('sex') : null\"\n          >\n            <b-select v-model=\"form.sex\" expanded>\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\n              <option v-for=\"sex in sexes\" :value=\"sex\" v-text=\"trans('labels.sexes.'+sex)\"></option>\n            </b-select>\n          </b-field>\n        </div>\n      </div>\n\n      <b-field\n        :label=\"trans('labels.field_observations.types')\"\n        :error=\"form.errors.has('observation_types_ids')\"\n        :message=\"form.errors.has('observation_types_ids') ? form.errors.first('observation_types_ids') : null\"\n      >\n        <b-taginput\n          v-model=\"selectedObservationTypes\"\n          :data=\"availableObservationTypes\"\n          autocomplete\n          :allowNew=\"false\"\n          field=\"name\"\n          icon=\"tag\"\n          :placeholder=\"trans('labels.field_observations.types_placeholder')\"\n          @typing=\"onTypeTyping\"\n          @keyup.native.delete=\"onTypeBackspace\"\n          open-on-focus\n        />\n      </b-field>\n\n      <b-field\n        :label=\"trans('labels.field_observations.number')\"\n        label-for=\"number\"\n        :type=\"form.errors.has('number') ? 'is-danger' : null\"\n        :message=\"form.errors.has('number') ? form.errors.first('number') : null\"\n      >\n        <b-input id=\"number\" type=\"number\" v-model=\"form.number\" />\n      </b-field>\n\n      <b-field\n        :label=\"trans('labels.field_observations.note')\"\n        label-for=\"note\"\n        :error=\"form.errors.has('note')\"\n        :message=\"form.errors.has('note') ? form.errors.first('note') : null\"\n      >\n        <b-input id=\"note\" type=\"textarea\" v-model=\"form.note\" />\n      </b-field>\n\n      <b-field\n        :label=\"trans('labels.field_observations.habitat')\"\n        label-for=\"habitat\"\n        :error=\"form.errors.has('habitat')\"\n        :message=\"form.errors.has('habitat') ? form.errors.first('habitat') : null\"\n      >\n        <b-input id=\"habitat\" name=\"habitat\" v-model=\"form.habitat\" />\n      </b-field>\n\n      <b-field\n        :label=\"trans('labels.literature_observations.found_on')\"\n        :type=\"form.errors.has('found_on') ? 'is-danger' : null\"\n        :message=\"form.errors.has('found_on') ? form.errors.first('found_on') : null\"\n      >\n        <label for=\"found_on\" class=\"label\" slot=\"label\">\n          <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.found_on_tooltip')}\">\n            {{ trans('labels.literature_observations.found_on') }}\n          </span>\n        </label>\n\n        <b-input id=\"found_on\" name=\"found_on\" v-model=\"form.found_on\"/>\n      </b-field>\n\n      <b-field\n        :label=\"trans('labels.field_observations.time')\"\n        label-for=\"time\"\n        :type=\"form.errors.has('time') ? 'is-danger' : null\"\n        :message=\"form.errors.has('time') ? form.errors.first('time') : null\"\n      >\n        <b-timepicker\n          id=\"time\"\n          :value=\"time\"\n          @input=\"onTimeInput\"\n          :placeholder=\"trans('labels.field_observations.click_to_select')\"\n          icon=\"clock-o\"\n          :mobile-native=\"false\"\n        >\n          <button type=\"button\" class=\"button is-danger\" @click=\"form.time = null\">\n            <b-icon icon=\"close\"></b-icon>\n          </button>\n        </b-timepicker>\n      </b-field>\n\n      <div class=\"columns\">\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.literature_observations.project')\"\n            :type=\"form.errors.has('project') ? 'is-danger' : null\"\n            :message=\"form.errors.has('project') ? form.errors.first('project') : null\"\n          >\n            <label for=\"project\" class=\"label\" slot=\"label\">\n              <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.project_tooltip')}\">\n                {{ trans('labels.literature_observations.project') }}\n              </span>\n            </label>\n\n            <b-input id=\"project\" name=\"project\" v-model=\"form.project\"/>\n          </b-field>\n        </div>\n\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.field_observations.dataset')\"\n            label-for=\"dataset\"\n            :type=\"form.errors.has('dataset') ? 'is-danger' : null\"\n            :message=\"form.errors.has('dataset') ? form.errors.first('dataset') : null\"\n          >\n            <b-input id=\"dataset\" name=\"dataset\" v-model=\"form.dataset\" />\n          </b-field>\n        </div>\n      </div>\n\n      <b-checkbox v-model=\"form.found_dead\">{{ trans('labels.field_observations.found_dead') }}</b-checkbox>\n\n      <b-field\n        :label=\"trans('labels.field_observations.found_dead_note')\"\n        label-for=\"found_dead_note\"\n        v-if=\"form.found_dead\"\n        :error=\"form.errors.has('found_dead_note')\"\n        :message=\"form.errors.has('found_dead_note') ? form.errors.first('found_dead_note') : null\"\n      >\n        <b-input id=\"found_dead_note\" type=\"textarea\" v-model=\"form.found_dead_note\" />\n      </b-field>\n\n      <template v-if=\"showObserverIdentifier\">\n        <nz-user-autocomplete\n          v-model=\"form.observer\"\n          @select=\"onObserverSelect\"\n          :error=\"form.errors.has('observer')\"\n          :message=\"form.errors.has('observer') ? form.errors.first('observer') : null\"\n          :user=\"form.observed_by\"\n          :label=\"trans('labels.field_observations.observer')\"\n          :placeholder=\"currentUser.full_name\"\n        />\n\n        <nz-user-autocomplete\n          v-model=\"form.identifier\"\n          @select=\"onIdentifierSelect\"\n          :error=\"form.errors.has('identifier')\"\n          :message=\"form.errors.has('identifier') ? form.errors.first('identifier') : null\"\n          :user=\"form.identified_by\"\n          :label=\"trans('labels.field_observations.identifier')\"\n          :disabled=\"!isIdentified\"\n        />\n      </template>\n\n      <div class=\"columns\">\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.field_observations.data_license')\"\n            label-for=\"data_license\"\n            :type=\"form.errors.has('data_license') ? 'is-danger' : null\"\n            :message=\"form.errors.has('data_license') ? form.errors.first('data_license') : null\"\n          >\n            <b-select id=\"data_license\" v-model=\"form.data_license\" expanded>\n              <option :value=\"null\">{{ trans('labels.field_observations.default') }}</option>\n              <option v-for=\"(label, value) in licenses\" :value=\"value\" v-text=\"label\"></option>\n            </b-select>\n          </b-field>\n        </div>\n      </div>\n    </div>\n\n    <hr>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n          'is-loading': submittingWithRedirect\n      }\"\n      @click.prevent=\"submitWithRedirect\"\n      v-tooltip=\"{content: trans('labels.field_observations.save_tooltip')}\"\n    >\n      {{ trans('buttons.save') }}\n    </button>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n          'is-outlined': !submittingWithoutRedirect,\n          'is-loading': submittingWithoutRedirect\n      }\"\n      @click.prevent=\"submitWithoutRedirect\"\n      v-if=\"submitMore\"\n      v-tooltip=\"{content: trans('labels.field_observations.save_more_tooltip')}\"\n    >\n      {{ trans('buttons.save_more') }}\n    </button>\n\n    <a :href=\"cancelUrl\" class=\"button is-text\" @click=\"onCancel\">{{ trans('buttons.cancel') }}</a>\n  </form>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport _get from 'lodash/get'\nimport _find from 'lodash/find'\nimport _includes from 'lodash/includes'\nimport _range from 'lodash/range'\nimport _findIndex from 'lodash/findIndex'\nimport _remove from 'lodash/remove'\nimport _cloneDeep from 'lodash/cloneDeep'\nimport FormMixin from '@/mixins/FormMixin'\nimport UserMixin from '@/mixins/UserMixin'\n\nexport default {\n  name: 'nzFieldObservationForm',\n\n  mixins: [FormMixin, UserMixin],\n\n  props: {\n    observation: {\n      type: Object,\n      default() {\n        return {\n          taxon: null,\n          taxon_id: null,\n          taxon_suggestion: '',\n          year: moment().year(),\n          month: moment().month() + 1,\n          day: moment().date(),\n          latitude: null,\n          longitude: null,\n          accuracy: null,\n          elevation: null,\n          location: '',\n          photos: [],\n          observer: '',\n          identifier: '',\n          note: '',\n          sex: null,\n          number: null,\n          project: null,\n          habitat: null,\n          found_on: null,\n          stage_id: null,\n          found_dead: false,\n          found_dead_note: '',\n          data_license: null,\n          image_license: null,\n          time: null,\n          types: [],\n          observed_by_id: null,\n          observed_by: null,\n          identified_by_id: null,\n          identified_by: null,\n          dataset: null\n        }\n      }\n    },\n\n    licenses: {\n        type: Object,\n        default: () => ({})\n    },\n\n    sexes: {\n        type: Array,\n        default: () => []\n    },\n\n    observationTypes: {\n        type: Array,\n        default: () => []\n    },\n\n    showObserverIdentifier: Boolean\n  },\n\n  data() {\n    return {\n      keepAfterSubmit: this.getAttributesToKeep(),\n      showMoreDetails: false,\n      locale: window.App.locale,\n      observationTypeSearch: '',\n      shouldClearType: false,\n      exifExtracted: false\n    }\n  },\n\n  computed: {\n    stages() {\n      return this.form.taxon ? this.form.taxon.stages : []\n    },\n\n    time() {\n      return this.form.time ? moment(this.form.time, 'HH:mm').toDate() : null\n    },\n\n    selectedObservationTypes: {\n      get() {\n        return this.observationTypes.filter(type =>\n          _includes(this.form.observation_types_ids, type.id)\n        )\n      },\n\n      set(value) {\n        this.form.observation_types_ids = value.map(type => type.id)\n      }\n    },\n\n    availableObservationTypes() {\n      return this.observationTypes.filter(type => {\n        return !_includes(this.form.observation_types_ids, type.id) &&\n          type.name.toLowerCase().includes(this.observationTypeSearch.toLowerCase())\n      })\n    },\n\n    isIdentified() {\n      return !!(this.form.taxon_id || this.form.taxon_suggestion)\n    },\n\n    /**\n     * Check if identification is changed compared to the original observation.\n     * @return {Boolean}\n     */\n    identificationChanged() {\n      return this.form.taxon_id != this.observation.taxon_id ||\n        this.form.taxon_suggestion != this.observation.taxon_suggestion\n    }\n  },\n\n  created() {\n    this.setDefaultObservationType()\n  },\n\n  methods: {\n    /**\n     * Create new form instance.\n     *\n     * @return {Form}\n     */\n    newForm() {\n      const observation = this.observation\n\n      // If crop is not set on existing photos, we can't crop them.\n      observation.photos.forEach(photo => {\n        photo.crop = null\n      })\n\n      return new Form({\n        ...observation,\n        observation_types_ids: observation.types.map(type => type.id),\n        reason: null\n      }, {\n        resetOnSuccess: false\n      })\n    },\n\n    /**\n     * Performa after submit without redirect is successful.\n     */\n    hookAfterSubmitWithoutRedirect() {\n      this.setDefaultObservationType()\n      this.clearPhotos()\n      // Focus on taxon autocomplete input.\n      this.$refs.taxonAutocomplete.focusOnInput()\n    },\n\n    /**\n     * Clear all photos.\n     */\n    clearPhotos() {\n      _range(1, 3).forEach(number => {\n        this.$refs[`photoUpload-${number}`].clearPhoto()\n      })\n    },\n\n    /**\n     * Handle taxon veing selected.\n     *\n     * @param {Object} value\n     */\n    onTaxonSelect(taxon) {\n      this.form.taxon = taxon || null\n      this.form.taxon_id = taxon ? taxon.id : null\n      this.form.taxon_suggestion = taxon ? taxon.name : null\n\n      const invalidStage = !_find(this.stages, stage => stage.id === this.form.stage_id)\n\n      if (invalidStage) {\n        this.form.stage_id = null\n      }\n\n      this.updateIdentifier()\n    },\n\n    /**\n     * Set time.\n     */\n    onTimeInput(value) {\n      this.form.time = value ? moment(value).format('HH:mm') : null\n    },\n\n    /**\n     * Add uploaded photo's filename to array.\n     *\n     * @param {String} file name\n     */\n    onPhotoUploaded(image) {\n      this.form.photos.push({\n\t\t\t\tpath: image.path,\n\t\t\t\tcrop: image.crop,\n\t\t\t\tlicense: image.license\n      })\n\n      const availableType = _find(this.availableObservationTypes, { slug: 'photographed' })\n\n      if (availableType) {\n        this.pushSelectedObservationType(availableType)\n      }\n\n      this.promptToExtractExifData(image)\n    },\n\n    /**\n     * Remove photo from form.\n     *\n     * @param {Object} image\n     */\n    onPhotoRemoved(image) {\n      _remove(this.form.photos, { path: image.path })\n\n      const selectedTypeIndex = _findIndex(this.selectedObservationTypes, { slug: 'photographed' })\n\n      if (!this.form.photos.length && selectedTypeIndex >= 0) {\n        const selectedObservationTypes = this.selectedObservationTypes\n\n        selectedObservationTypes.splice(selectedTypeIndex, 1)\n\n        this.selectedObservationTypes = selectedObservationTypes\n      }\n    },\n\n    /**\n     * Add/remove cropping information.\n     *\n     * @param {Object} image\n     */\n    onPhotoCropped(croppedImage) {\n      const photoIndex = _findIndex(this.form.photos, { path: croppedImage.path })\n\n      if (photoIndex >= 0) {\n        const photo = _cloneDeep(this.form.photos[photoIndex])\n\n        photo.crop = croppedImage.crop\n\n        this.form.photos.splice(photoIndex, 1, photo)\n      }\n    },\n\n    /**\n     * Get observation photo attribute.\n     *\n     * @param  {Number} [photoIndex=0]\n     * @param  {String} [attribute='url']\n     * @return {String}\n     */\n    getObservationPhotoAttribute(photoIndex = 0, attribute = 'url') {\n      let value = _get(this.observation, `photos.${photoIndex}.${attribute}`, '')\n\n      if (attribute === 'url' && value) {\n        const updated = moment(_get(this.observation, `photos.${photoIndex}.updated_at`, null))\n\n        value += updated.isValid() ? `?v=${updated.format('X')}` : ''\n      }\n\n      return value\n    },\n\n    /**\n     * Attributes to keep after submit without redirect.\n     *\n     * @return {Array}\n     */\n    getAttributesToKeep() {\n      return [\n        'location', 'accuracy', 'elevation', 'latitude', 'longitude',\n        'year', 'month', 'day', 'project', 'observer', 'observed_by',\n        'observed_by_id', 'data_license', 'image_license',\n      ]\n    },\n\n    /**\n     * Set tag search.\n     * @param {String} value\n     */\n    onTypeTyping(value) {\n      this.observationTypeSearch = value\n    },\n\n    /**\n     * Handle removing tags with backspace.\n     */\n    onTypeBackspace() {\n      if (this.shouldClearType) {\n        this.form.observation_types_ids.splice(-1, 1)\n        this.shouldClearType = false\n      } else if (!this.observationTypeSearch) {\n        this.shouldClearType = true\n      }\n    },\n\n    /**\n     * Add observation type to selections.\n     *\n     * @param  {Object} type\n     */\n    pushSelectedObservationType(type) {\n      const selectedObservationTypes = this.selectedObservationTypes\n\n      selectedObservationTypes.push(type)\n\n      this.selectedObservationTypes = selectedObservationTypes\n    },\n\n    /**\n     * Ask the user to use EXIF data to populate the fields.\n     *\n     * @param  {Object} image\n     */\n    promptToExtractExifData(image) {\n      if (this.exifExtracted || !image.exif) return\n\n      this.$buefy.dialog.confirm({\n        message: this.extractExifMessage(image).replace(/\\n/g, '<br>'),\n        cancelText: this.trans('No'),\n        confirmText: this.trans('Yes'),\n        onConfirm: () => { this.fillFromExif(image) },\n        onCancel: () => { this.exifExtracted = true }\n      })\n    },\n\n    /**\n     * Format message to use EXIF data from image.\n     */\n    extractExifMessage(image) {\n      const data = this.extractExifData(image)\n\n      return [\n        this.trans('Use data from photo to fill the form?') + \"\\n\",\n        ...Object.keys(data).map(key => `${this.trans('labels.field_observations.'+key)}: ${data[key]}`)\n      ].join(\"\\n\")\n    },\n\n    /**\n     * Extract EXIF data from image.\n     */\n    extractExifData(image) {\n      const data = {}\n\n      for (let exif in image.exif) {\n        let value = image.exif[exif]\n\n        if (value) {\n         data[exif] = value\n        }\n      }\n\n      return data\n    },\n\n    /**\n     * Fill the fields with EXIF data.\n     *\n     * @param  {Object} image\n     */\n    fillFromExif(image) {\n      const data = this.extractExifData(image)\n\n      for (const exif in data) {\n        this.form[exif] = data[exif]\n      }\n\n      this.exifExtracted = true\n    },\n\n    /**\n     * Select observer.\n     */\n    onObserverSelect(user) {\n      this.form.observed_by = user || null\n      this.form.observed_by_id = user ? user.id : null\n      this.form.observer = user ? user.full_name : null\n    },\n\n    /**\n     * Select identifier.\n     */\n    onIdentifierSelect(user) {\n      this.form.identified_by = user || null\n      this.form.identified_by_id = user ? user.id : null\n      this.form.identifier = user ? user.full_name : null\n    },\n\n    /**\n     * Set default observation type.\n     */\n    setDefaultObservationType() {\n      if (!this.selectedObservationTypes.length) {\n        this.pushSelectedObservationType(\n          _find(this.availableObservationTypes, { slug: 'observed' })\n        )\n      }\n    },\n\n    /**\n     * Update identifier based on identification change.\n     */\n    updateIdentifier() {\n      let identifier = this.observation.identified_by\n\n      if (this.identificationChanged) {\n        identifier = this.isIdentified ? window.App.User : null\n      }\n\n      this.onIdentifierSelect(identifier)\n    },\n\n    /**\n     * Change photo license.\n     *\n     * @param {Number} photoIndex\n     * @param {Number} license\n     */\n    onLicenseChanged(photoIndex, license) {\n      const photo = _cloneDeep(this.form.photos[photoIndex])\n\n      photo.license = license\n\n      this.form.photos[photoIndex] = photo\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationForm.vue?vue&type=script&lang=js&\"","import User from '@/models/user'\n\nexport default {\n  data() {\n    return {\n      currentUser: new User(window.App.User)\n    }\n  },\n\n  computed: {\n    isCuratorOrAdmin() {\n        return this.currentUser.hasRole(['admin', 'curator'])\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./FieldObservationForm.vue?vue&type=template&id=cb9f275e&\"\nimport script from \"./FieldObservationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"field-observation-form\",attrs:{\"action\":_vm.action,\"method\":\"POST\",\"lang\":_vm.locale}},[_c('div',{staticClass:\"columns is-desktop\"},[_c('div',{staticClass:\"column is-half-desktop\"},[_c('nz-taxon-autocomplete',{ref:\"taxonAutocomplete\",attrs:{\"taxon\":_vm.observation.taxon,\"error\":_vm.form.errors.has('taxon_id'),\"message\":_vm.form.errors.has('taxon_id') ? _vm.form.errors.first('taxon_id') : null,\"autofocus\":\"\",\"label\":_vm.trans('labels.field_observations.taxon'),\"placeholder\":_vm.trans('labels.field_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.form.taxon_suggestion),callback:function ($$v) {_vm.$set(_vm.form, \"taxon_suggestion\", $$v)},expression:\"form.taxon_suggestion\"}}),_vm._v(\" \"),_c('nz-date-input',{attrs:{\"year\":_vm.form.year,\"month\":_vm.form.month,\"day\":_vm.form.day,\"errors\":_vm.form.errors,\"label\":_vm.trans('labels.field_observations.date'),\"placeholders\":{\n            year: _vm.trans('labels.field_observations.year'),\n            month: _vm.trans('labels.field_observations.month'),\n            day: _vm.trans('labels.field_observations.day')\n        }},on:{\"update:year\":function($event){return _vm.$set(_vm.form, \"year\", $event)},\"update:month\":function($event){return _vm.$set(_vm.form, \"month\", $event)},\"update:day\":function($event){return _vm.$set(_vm.form, \"day\", $event)}}}),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.photos')}},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-1\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(0, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(0, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(0, 'license'),\"licenses\":_vm.licenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(0, $event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-2\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(1, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(1, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(1, 'license'),\"licenses\":_vm.licenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(1, $event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-3\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(2, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(2, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(2, 'license'),\"licenses\":_vm.licenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(2, $event)}}})],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-half-desktop\"},[_c('nz-spatial-input',{attrs:{\"latitude\":_vm.form.latitude,\"longitude\":_vm.form.longitude,\"location\":_vm.form.location,\"accuracy\":_vm.form.accuracy,\"elevation\":_vm.form.elevation,\"errors\":_vm.form.errors},on:{\"update:latitude\":function($event){return _vm.$set(_vm.form, \"latitude\", $event)},\"update:longitude\":function($event){return _vm.$set(_vm.form, \"longitude\", $event)},\"update:location\":function($event){return _vm.$set(_vm.form, \"location\", $event)},\"update:accuracy\":function($event){return _vm.$set(_vm.form, \"accuracy\", $event)},\"update:elevation\":function($event){return _vm.$set(_vm.form, \"elevation\", $event)}}})],1)]),_vm._v(\" \"),_c('button',{staticClass:\"button is-text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showMoreDetails = !_vm.showMoreDetails}}},[_vm._v(\"\\n    \"+_vm._s(_vm.showMoreDetails ? _vm.trans('labels.field_observations.less_details') : _vm.trans('labels.field_observations.more_details'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMoreDetails),expression:\"showMoreDetails\"}],staticClass:\"mt-4\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.stage'),\"label-for\":\"stage\",\"type\":_vm.form.errors.has('stage_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('stage_id') ? _vm.form.errors.first('stage_id') : null}},[_c('b-select',{attrs:{\"id\":\"stage\",\"disabled\":!_vm.stages.length,\"expanded\":\"\"},model:{value:(_vm.form.stage_id),callback:function ($$v) {_vm.$set(_vm.form, \"stage_id\", $$v)},expression:\"form.stage_id\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_stage')))]),_vm._v(\" \"),_vm._l((_vm.stages),function(stage){return _c('option',{key:stage.id,domProps:{\"value\":stage.id,\"textContent\":_vm._s(_vm.trans('stages.'+stage.name))}})})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.sex'),\"type\":_vm.form.errors.has('sex') ? 'is-danger' : null,\"message\":_vm.form.errors.has('sex') ? _vm.form.errors.first('sex') : null}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_vm._l((_vm.sexes),function(sex){return _c('option',{domProps:{\"value\":sex,\"textContent\":_vm._s(_vm.trans('labels.sexes.'+sex))}})})],2)],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.types'),\"error\":_vm.form.errors.has('observation_types_ids'),\"message\":_vm.form.errors.has('observation_types_ids') ? _vm.form.errors.first('observation_types_ids') : null}},[_c('b-taginput',{attrs:{\"data\":_vm.availableObservationTypes,\"autocomplete\":\"\",\"allowNew\":false,\"field\":\"name\",\"icon\":\"tag\",\"placeholder\":_vm.trans('labels.field_observations.types_placeholder'),\"open-on-focus\":\"\"},on:{\"typing\":_vm.onTypeTyping},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"])){ return null; }return _vm.onTypeBackspace($event)}},model:{value:(_vm.selectedObservationTypes),callback:function ($$v) {_vm.selectedObservationTypes=$$v},expression:\"selectedObservationTypes\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.number'),\"label-for\":\"number\",\"type\":_vm.form.errors.has('number') ? 'is-danger' : null,\"message\":_vm.form.errors.has('number') ? _vm.form.errors.first('number') : null}},[_c('b-input',{attrs:{\"id\":\"number\",\"type\":\"number\"},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.note'),\"label-for\":\"note\",\"error\":_vm.form.errors.has('note'),\"message\":_vm.form.errors.has('note') ? _vm.form.errors.first('note') : null}},[_c('b-input',{attrs:{\"id\":\"note\",\"type\":\"textarea\"},model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.habitat'),\"label-for\":\"habitat\",\"error\":_vm.form.errors.has('habitat'),\"message\":_vm.form.errors.has('habitat') ? _vm.form.errors.first('habitat') : null}},[_c('b-input',{attrs:{\"id\":\"habitat\",\"name\":\"habitat\"},model:{value:(_vm.form.habitat),callback:function ($$v) {_vm.$set(_vm.form, \"habitat\", $$v)},expression:\"form.habitat\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.found_on'),\"type\":_vm.form.errors.has('found_on') ? 'is-danger' : null,\"message\":_vm.form.errors.has('found_on') ? _vm.form.errors.first('found_on') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"found_on\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.found_on_tooltip')}),expression:\"{content: trans('labels.literature_observations.found_on_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n          \"+_vm._s(_vm.trans('labels.literature_observations.found_on'))+\"\\n        \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"found_on\",\"name\":\"found_on\"},model:{value:(_vm.form.found_on),callback:function ($$v) {_vm.$set(_vm.form, \"found_on\", $$v)},expression:\"form.found_on\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.time'),\"label-for\":\"time\",\"type\":_vm.form.errors.has('time') ? 'is-danger' : null,\"message\":_vm.form.errors.has('time') ? _vm.form.errors.first('time') : null}},[_c('b-timepicker',{attrs:{\"id\":\"time\",\"value\":_vm.time,\"placeholder\":_vm.trans('labels.field_observations.click_to_select'),\"icon\":\"clock-o\",\"mobile-native\":false},on:{\"input\":_vm.onTimeInput}},[_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.form.time = null}}},[_c('b-icon',{attrs:{\"icon\":\"close\"}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.project'),\"type\":_vm.form.errors.has('project') ? 'is-danger' : null,\"message\":_vm.form.errors.has('project') ? _vm.form.errors.first('project') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"project\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.project_tooltip')}),expression:\"{content: trans('labels.literature_observations.project_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n              \"+_vm._s(_vm.trans('labels.literature_observations.project'))+\"\\n            \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"project\",\"name\":\"project\"},model:{value:(_vm.form.project),callback:function ($$v) {_vm.$set(_vm.form, \"project\", $$v)},expression:\"form.project\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.dataset'),\"label-for\":\"dataset\",\"type\":_vm.form.errors.has('dataset') ? 'is-danger' : null,\"message\":_vm.form.errors.has('dataset') ? _vm.form.errors.first('dataset') : null}},[_c('b-input',{attrs:{\"id\":\"dataset\",\"name\":\"dataset\"},model:{value:(_vm.form.dataset),callback:function ($$v) {_vm.$set(_vm.form, \"dataset\", $$v)},expression:\"form.dataset\"}})],1)],1)]),_vm._v(\" \"),_c('b-checkbox',{model:{value:(_vm.form.found_dead),callback:function ($$v) {_vm.$set(_vm.form, \"found_dead\", $$v)},expression:\"form.found_dead\"}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.found_dead')))]),_vm._v(\" \"),(_vm.form.found_dead)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.found_dead_note'),\"label-for\":\"found_dead_note\",\"error\":_vm.form.errors.has('found_dead_note'),\"message\":_vm.form.errors.has('found_dead_note') ? _vm.form.errors.first('found_dead_note') : null}},[_c('b-input',{attrs:{\"id\":\"found_dead_note\",\"type\":\"textarea\"},model:{value:(_vm.form.found_dead_note),callback:function ($$v) {_vm.$set(_vm.form, \"found_dead_note\", $$v)},expression:\"form.found_dead_note\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showObserverIdentifier)?[_c('nz-user-autocomplete',{attrs:{\"error\":_vm.form.errors.has('observer'),\"message\":_vm.form.errors.has('observer') ? _vm.form.errors.first('observer') : null,\"user\":_vm.form.observed_by,\"label\":_vm.trans('labels.field_observations.observer'),\"placeholder\":_vm.currentUser.full_name},on:{\"select\":_vm.onObserverSelect},model:{value:(_vm.form.observer),callback:function ($$v) {_vm.$set(_vm.form, \"observer\", $$v)},expression:\"form.observer\"}}),_vm._v(\" \"),_c('nz-user-autocomplete',{attrs:{\"error\":_vm.form.errors.has('identifier'),\"message\":_vm.form.errors.has('identifier') ? _vm.form.errors.first('identifier') : null,\"user\":_vm.form.identified_by,\"label\":_vm.trans('labels.field_observations.identifier'),\"disabled\":!_vm.isIdentified},on:{\"select\":_vm.onIdentifierSelect},model:{value:(_vm.form.identifier),callback:function ($$v) {_vm.$set(_vm.form, \"identifier\", $$v)},expression:\"form.identifier\"}})]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.data_license'),\"label-for\":\"data_license\",\"type\":_vm.form.errors.has('data_license') ? 'is-danger' : null,\"message\":_vm.form.errors.has('data_license') ? _vm.form.errors.first('data_license') : null}},[_c('b-select',{attrs:{\"id\":\"data_license\",\"expanded\":\"\"},model:{value:(_vm.form.data_license),callback:function ($$v) {_vm.$set(_vm.form, \"data_license\", $$v)},expression:\"form.data_license\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.default')))]),_vm._v(\" \"),_vm._l((_vm.licenses),function(label,value){return _c('option',{domProps:{\"value\":value,\"textContent\":_vm._s(label)}})})],2)],1)],1)])],2),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.field_observations.save_tooltip')}),expression:\"{content: trans('labels.field_observations.save_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n        'is-loading': _vm.submittingWithRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save'))+\"\\n  \")]),_vm._v(\" \"),(_vm.submitMore)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.field_observations.save_more_tooltip')}),expression:\"{content: trans('labels.field_observations.save_more_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n        'is-outlined': !_vm.submittingWithoutRedirect,\n        'is-loading': _vm.submittingWithoutRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save_more'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"button is-text\",attrs:{\"href\":_vm.cancelUrl},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form :action=\"action\" method=\"POST\" :lang=\"locale\" class=\"literature-observation-form\">\n    <div class=\"mb-8\">\n      <nz-publication-autocomplete\n        class=\"is-required\"\n        v-model=\"publicationCitation\"\n        @select=\"onPublicationSelect\"\n        :publication=\"form.publication\"\n        :error=\"form.errors.has('publication_id')\"\n        :message=\"form.errors.has('publication_id') ? form.errors.first('publication_id') : null\"\n        autofocus=\"autofocus\"\n        ref=\"publicationAutocomplete\"\n        :label=\"trans('labels.literature_observations.publication')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_publication')\"\n      >\n        <a\n          class=\"button\"\n          :title=\"trans('labels.literature_observations.add_new_publication')\"\n          :href=\"$ziggy('admin.publications.create')\"\n          @click.prevent=\"addNewPublication\"\n        >\n          <b-icon icon=\"plus\" />\n        </a>\n      </nz-publication-autocomplete>\n\n      <b-field\n        class=\"is-required\"\n        :label=\"trans('labels.literature_observations.is_original_data')\"\n        :error=\"form.errors.has('is_original_data')\"\n        :message=\"form.errors.has('is_original_data') ? form.errors.first('is_original_data') : null\"\n      >\n        <b-select :value=\"form.is_original_data\" @input=\"handleIsOriginalDataInput\" expanded>\n          <option :value=\"true\">{{ trans('labels.literature_observations.original_data') }}</option>\n          <option :value=\"false\">{{ trans('labels.literature_observations.citation') }}</option>\n        </b-select>\n      </b-field>\n\n      <nz-publication-autocomplete\n        v-show=\"!form.is_original_data\"\n        v-model=\"citedPublication\"\n        @select=\"onCitedPublicationSelect\"\n        class=\"is-required\"\n        :publication=\"form.cited_publication\"\n        :error=\"form.errors.has('cited_publication_id')\"\n        :message=\"form.errors.has('cited_publication_id') ? form.errors.first('cited_publication_id') : null\"\n        :label=\"trans('labels.literature_observations.cited_publication')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_publication')\"\n      >\n        <a\n          class=\"button\"\n          :title=\"trans('labels.literature_observations.add_new_publication')\"\n          :href=\"$ziggy('admin.publications.create')\"\n          @click.prevent=\"addNewPublication\"\n        >\n          <b-icon icon=\"plus\" />\n        </a>\n      </nz-publication-autocomplete>\n\n      <nz-taxon-autocomplete\n        v-model=\"taxonName\"\n        @select=\"onTaxonSelect\"\n        class=\"is-required\"\n        :taxon=\"form.taxon\"\n        :error=\"form.errors.has('taxon_id')\"\n        :message=\"form.errors.has('taxon_id') ? form.errors.first('taxon_id') : null\"\n        autofocus=\"autofocus\"\n        ref=\"taxonAutocomplete\"\n        :label=\"trans('labels.literature_observations.taxon')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_taxon')\"\n      />\n\n      <nz-date-input\n        :year.sync=\"form.year\"\n        :month.sync=\"form.month\"\n        :day.sync=\"form.day\"\n        :errors=\"form.errors\"\n        :label=\"trans('labels.literature_observations.date')\"\n        :placeholders=\"{\n            year: trans('labels.literature_observations.year'),\n            month: trans('labels.literature_observations.month'),\n            day: trans('labels.literature_observations.day')\n        }\"\n      />\n\n      <div>\n        <h2 class=\"is-size-4\">{{ trans('labels.literature_observations.verbatim_data') }}</h2>\n\n        <b-field\n          class=\"is-required\"\n          :label=\"trans('labels.literature_observations.original_identification')\"\n          :type=\"form.errors.has('original_identification') ? 'is-danger' : null\"\n          :message=\"form.errors.has('original_identification') ? form.errors.first('original_identification') : null\"\n        >\n          <b-input name=\"original_identification\" v-model=\"form.original_identification\" />\n        </b-field>\n\n        <b-field\n          class=\"is-required\"\n          :label=\"trans('labels.literature_observations.original_identification_validity')\"\n          :type=\"form.errors.has('original_identification_validity') ? 'is-danger' : null\"\n          :message=\"form.errors.has('original_identification_validity') ? form.errors.first('original_identification_validity') : null\"\n        >\n          <b-select name=\"original_identification_validity\" v-model=\"form.original_identification_validity\" expanded>\n            <option :value=\"value\" v-for=\"(label, value) in validityOptions\">{{ label }}</option>\n          </b-select>\n        </b-field>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_date')\"\n            :type=\"form.errors.has('original_date') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_date') ? form.errors.first('original_date') : null\"\n          >\n            <b-input name=\"original_date\" v-model=\"form.original_date\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_locality')\"\n            :type=\"form.errors.has('original_locality') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_locality') ? form.errors.first('original_locality') : null\"\n          >\n            <b-input v-model=\"form.original_locality\"/>\n          </b-field>\n        </div>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_coordinates')\"\n            :type=\"form.errors.has('original_coordinates') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_coordinates') ? form.errors.first('original_coordinates') : null\"\n          >\n            <b-input v-model=\"form.original_coordinates\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_elevation')\"\n            :type=\"form.errors.has('original_elevation') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_elevation') ? form.errors.first('original_elevation') : null\"\n          >\n            <b-input v-model=\"form.original_elevation\" :placeholder=\"trans('labels.literature_observations.original_elevation_placeholder')\"/>\n          </b-field>\n        </div>\n      </div>\n\n      <nz-spatial-input\n        class=\"mb-4\"\n        :latitude.sync=\"form.latitude\"\n        :longitude.sync=\"form.longitude\"\n        :location.sync=\"form.location\"\n        :accuracy.sync=\"form.accuracy\"\n        :elevation.sync=\"form.elevation\"\n        @elevation-fetched=\"handleElevationFetched\"\n        :errors=\"form.errors\"\n        :has-other-errors=\"form.errors.has('minimum_elevation') || form.errors.has('maximum_elevation')\"\n      >\n        <b-field\n          :label=\"trans('labels.literature_observations.minimum_elevation_m')\"\n          :type=\"form.errors.has('minimum_elevation') ? 'is-danger' : null\"\n          :message=\"form.errors.has('minimum_elevation') ? form.errors.first('minimum_elevation') : null\"\n          custom-class=\"is-small\"\n        >\n          <b-input type=\"number\" size=\"is-small\" v-model.number=\"form.minimum_elevation\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.maximum_elevation_m')\"\n          :type=\"form.errors.has('maximum_elevation') ? 'is-danger' : null\"\n          :message=\"form.errors.has('maximum_elevation') ? form.errors.first('maximum_elevation') : null\"\n          custom-class=\"is-small\"\n        >\n          <b-input type=\"number\" size=\"is-small\" v-model.number=\"form.maximum_elevation\"/>\n        </b-field>\n      </nz-spatial-input>\n\n      <div class=\"columns\">\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.literature_observations.georeferenced_by')\"\n            :type=\"form.errors.has('georeferenced_by') ? 'is-danger' : null\"\n            :message=\"form.errors.has('georeferenced_by') ? form.errors.first('georeferenced_by') : null\"\n          >\n            <b-input v-model.number=\"form.georeferenced_by\"/>\n          </b-field>\n        </div>\n\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.literature_observations.georeferenced_date')\"\n            :type=\"form.errors.has('georeferenced_date') ? 'is-danger' : null\"\n            :message=\"form.errors.has('georeferenced_date') ? form.errors.first('georeferenced_date') : null\"\n          >\n            <b-datepicker\n              v-model=\"georeferencedDate\"\n              :max-date=\"new Date()\"\n              :mobile-native=\"false\"\n              :date-formatter=\"dateFormater\"\n              :first-day-of-week=\"1\"\n              placeholder=\"DD.MM.YYYY\"\n            >\n              <button type=\"button\" class=\"button is-danger\" @click=\"form.georeferenced_date = null\">\n                <b-icon icon=\"close\" />\n                <span>Clear</span>\n              </button>\n            </b-datepicker>\n          </b-field>\n        </div>\n      </div>\n\n      <b-field :label=\"trans('labels.literature_observations.stage')\" :type=\"form.errors.has('stage_id') ? 'is-danger' : null\" :message=\"form.errors.has('stage_id') ? form.errors.first('stage_id') : null\">\n        <b-select v-model=\"form.stage_id\" :disabled=\"!stages.length\" expanded=\"expanded\">\n          <option :value=\"null\">{{ trans('labels.literature_observations.choose_a_stage') }}</option>\n          <option v-for=\"stage in stages\" :value=\"stage.id\" :key=\"stage.id\" v-text=\"trans('stages.'+stage.name)\"></option>\n        </b-select>\n      </b-field>\n\n      <b-field :label=\"trans('labels.literature_observations.sex')\" :type=\"form.errors.has('sex') ? 'is-danger' : null\" :message=\"form.errors.has('sex') ? form.errors.first('sex') : null\">\n        <b-select v-model=\"form.sex\" expanded=\"expanded\">\n          <option :value=\"null\">{{ trans('labels.literature_observations.choose_a_value') }}</option>\n          <option v-for=\"sex in sexes\" :value=\"sex\" v-text=\"trans('labels.sexes.'+sex)\"></option>\n        </b-select>\n      </b-field>\n\n      <b-field\n        :label=\"trans('labels.literature_observations.number')\"\n        :type=\"form.errors.has('number') ? 'is-danger' : null\"\n        :message=\"form.errors.has('number') ? form.errors.first('number') : null\"\n      >\n        <b-input type=\"number\" v-model=\"form.number\"/>\n      </b-field>\n\n      <div class=\"mt-4\">\n        <b-field :label=\"trans('labels.literature_observations.note')\" :error=\"form.errors.has('note')\" :message=\"form.errors.has('note') ? form.errors.first('note') : null\"><b-input type=\"textarea\" v-model=\"form.note\"/></b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.habitat')\"\n          :type=\"form.errors.has('habitat') ? 'is-danger' : null\"\n          :message=\"form.errors.has('habitat') ? form.errors.first('habitat') : null\"\n        >\n          <b-input v-model=\"form.habitat\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.found_on')\"\n          :type=\"form.errors.has('found_on') ? 'is-danger' : null\"\n          :message=\"form.errors.has('found_on') ? form.errors.first('found_on') : null\"\n        >\n          <label for=\"found_on\" class=\"label\" slot=\"label\">\n            <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.found_on_tooltip')}\">\n              {{ trans('labels.literature_observations.found_on') }}\n            </span>\n          </label>\n\n          <b-input id=\"found_on\" name=\"found_on\" v-model=\"form.found_on\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.time')\"\n          :type=\"form.errors.has('time') ? 'is-danger' : null\"\n          :message=\"form.errors.has('time') ? form.errors.first('time') : null\"\n        >\n          <b-timepicker\n            :value=\"time\"\n            @input=\"onTimeInput\"\n            :placeholder=\"trans('labels.literature_observations.click_to_select')\"\n            icon=\"clock-o\"\n            :mobile-native=\"false\"\n          >\n            <button type=\"button\" class=\"button is-danger\" @click=\"form.time = null\">\n              <b-icon icon=\"close\"></b-icon>\n            </button>\n          </b-timepicker>\n        </b-field>\n\n        <div class=\"columns\">\n          <div class=\"column\">\n            <div class=\"field\">\n              <label for=\"project\" class=\"label\">\n                <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.project_tooltip')}\">\n                  {{ trans('labels.literature_observations.project') }}\n                </span>\n              </label>\n\n              <b-input id=\"project\" name=\"project\" v-model=\"form.project\"/>\n\n              <p v-if=\"form.errors.has('project')\" v-html=\"form.errors.first('project')\" class=\"help\" :class=\"{ 'is-danger': form.errors.has('project') }\"/>\n            </div>\n          </div>\n\n          <div class=\"column\">\n            <div class=\"field\">\n              <label for=\"dataset\" class=\"label\">\n                {{ trans('labels.literature_observations.dataset') }}\n              </label>\n\n              <b-input id=\"dataset\" name=\"dataset\" v-model=\"form.dataset\"/>\n\n              <p v-if=\"form.errors.has('dataset')\" v-html=\"form.errors.first('dataset')\" class=\"help\" :class=\"{ 'is-danger': form.errors.has('dataset') }\"/>\n            </div>\n          </div>\n        </div>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.observer')\"\n          :type=\"form.errors.has('observer') ? 'is-danger' : null\"\n          :message=\"form.errors.has('observer') ? form.errors.first('observer') : null\"\n        >\n          <b-input name=\"observer\" v-model=\"form.observer\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.identifier')\"\n          :type=\"form.errors.has('identifier') ? 'is-danger' : null\"\n          :message=\"form.errors.has('identifier') ? form.errors.first('identifier') : null\"\n        >\n          <b-input name=\"identifier\" v-model=\"form.identifier\"/>\n        </b-field>\n      </div>\n    </div>\n\n    <b-field\n      :label=\"trans('labels.literature_observations.place_where_referenced_in_publication')\"\n      :type=\"form.errors.has('place_where_referenced_in_publication') ? 'is-danger' : null\"\n      :message=\"form.errors.has('place_where_referenced_in_publication') ? form.errors.first('place_where_referenced_in_publication') : null\"\n    >\n      <b-input v-model=\"form.place_where_referenced_in_publication\" :placeholder=\"trans('labels.literature_observations.place_where_referenced_in_publication_placeholder')\"/>\n    </b-field>\n\n    <hr>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-loading': submittingWithRedirect\n      }\"\n      @click.prevent=\"submitWithRedirect\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_tooltip')}\"\n    >\n      {{ trans('buttons.save') }}\n    </button>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-outlined': !submittingWithoutRedirect,\n        'is-loading': submittingWithoutRedirect\n      }\"\n      @click.prevent=\"submitWithoutRedirect\"\n      v-if=\"submitMore\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_more_tooltip')}\">\n      {{ trans('buttons.save_more') }}\n    </button>\n\n    <button\n      type=\"button\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-outlined': !submittingWithoutRedirectWithSameTaxon,\n        'is-loading': submittingWithoutRedirectWithSameTaxon\n      }\"\n      @click.prevent=\"submitWithoutRedirectWithSameTaxon\"\n      v-if=\"submitMoreWithSameTaxon\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_more_same_taxon_tooltip')}\">\n      {{ trans('labels.literature_observations.save_more_same_taxon') }}\n    </button>\n\n    <a :href=\"cancelUrl\" class=\"button is-text\" @click=\"onCancel\">{{ trans('buttons.cancel') }}</a>\n  </form>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport _get from 'lodash/get'\nimport _find from 'lodash/find'\nimport _pick from 'lodash/pick'\nimport FormMixin from '@/mixins/FormMixin'\nimport PersistentForm from '@/mixins/PersistentForm'\n\nexport default {\n  name: 'nzLiteratureObservationForm',\n\n  mixins: [PersistentForm, FormMixin],\n\n  props: {\n    submitMoreWithSameTaxon: Boolean,\n\n    observation: {\n      type: Object,\n      default() {\n        return {\n          original_date: null,\n          original_locality: null,\n          original_elevation: null,\n          original_coordinates: null,\n          original_identification: null,\n          original_identification_validity: null,\n          place_where_referenced_in_publication: null,\n          publication_id: null,\n          taxon_id: null,\n          year: moment().year(),\n          month: moment().month() + 1,\n          day: moment().date(),\n          is_original_data: true,\n          cited_publication_id: null,\n          latitude: null,\n          longitude: null,\n          location: null,\n          accuracy: null,\n          elevation: null,\n          minimum_elevation: null,\n          maximum_elevation: null,\n          georeferenced_by: null,\n          georeferenced_date: null,\n\n          observer: null,\n          identifier: null,\n          note: null,\n          sex: null,\n          number: null,\n          project: null,\n          found_on: null,\n          habitat: null,\n          stage_id: null,\n          time: null,\n          dataset: null,\n\n          taxon: null,\n          publication: null,\n          cited_publication: null\n        }\n      }\n    },\n\n    sexes: {\n      type: Array,\n      default: () => []\n    },\n\n    validityOptions: {\n      type: [Array, Object],\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      keepAfterSubmit: this.getAttributesToKeep(),\n      submittingWithoutRedirectWithSameTaxon: false,\n      locale: window.App.locale,\n      taxonName: _get(this.observation, 'taxon.name', ''),\n      publicationCitation: _get(this.observation, 'publication.citation', ''),\n      citedPublication: _get(this.observation, 'cited_publication.citation', '')\n    }\n  },\n\n  computed: {\n    stages() {\n      return this.form.taxon\n        ? this.form.taxon.stages\n        : []\n    },\n\n    time() {\n      return this.form.time\n        ? moment(this.form.time, 'HH:mm').toDate()\n        : null\n    },\n\n    georeferencedDate: {\n      get() {\n        const val = moment(this.form.georeferenced_date)\n\n        return val.isValid() ? val.toDate() : null\n      },\n\n      set(value) {\n        this.form.georeferenced_date = moment(value).format('YYYY-MM-DD')\n      }\n    }\n  },\n\n  created() {\n    this.restoreState()\n  },\n\n  methods: {\n    otherPersistentKeys() {\n      return ['taxonName', 'publicationCitation', 'citedPublication']\n    },\n\n    /**\n     * Create new form instance.\n     *\n     * @return {Form}\n     */\n    newForm() {\n      return new Form({\n        ...this.observation,\n        reason: null\n      }, {\n        resetOnSuccess: false\n      })\n    },\n\n    /**\n     * Handle taxon being selected.\n     *\n     * @param {Object} value\n     */\n    onTaxonSelect(taxon) {\n      this.form.taxon = taxon || null\n      this.form.taxon_id = taxon ? taxon.id : null\n      this.taxonName = taxon ? taxon.name : null\n\n      const invalidStage = !_find(this.stages, stage => stage.id === this.form.stage_id)\n\n      if (invalidStage) {\n        this.form.stage_id = null\n      }\n    },\n\n    /**\n     * Handle publication being selected.\n     *\n     * @param {Object} value\n     */\n    onPublicationSelect(publication) {\n      this.form.publication = publication || null\n      this.form.publication_id = publication ? publication.id : null\n      this.publicationCitation = publication ? publication.citation : null\n    },\n\n    /**\n     * Handle cited publication being selected.\n     *\n     * @param {Object} value\n     */\n    onCitedPublicationSelect(publication) {\n      this.form.cited_publication = publication || null\n      this.form.cited_publication_id = publication ? publication.id : null\n      this.citedPublication = publication ? publication.citation : null\n    },\n\n    /**\n     * Set time.\n     */\n    onTimeInput(value) {\n      this.form.time = value ? moment(value).format('HH:mm') : null\n    },\n\n    /**\n     * Attributes to keep after submit without redirect.\n     *\n     * @return {Array}\n     */\n    getAttributesToKeep() {\n      return [\n        'location',\n        'accuracy',\n        'elevation',\n        'latitude',\n        'longitude',\n        'year',\n        'month',\n        'day',\n        'project',\n        'observer',\n        'identifier',\n        'dataset',\n        'publication',\n        'publication_id',\n        'cited_publication',\n        'cited_publication_id',\n        'is_original_data',\n        'minimum_elevation',\n        'maximum_elevation',\n        'original_locality',\n        'original_elevation',\n        'original_coordinates',\n        'georeferenced_by',\n        'georeferenced_date'\n      ]\n    },\n\n    hookAfterSubmitWithoutRedirect() {\n      this.taxonName = ''\n    },\n\n    handleIsOriginalDataInput(value) {\n      if (value) {\n        this.onCitedPublicationSelect(null)\n      }\n\n      this.form.is_original_data = value\n    },\n\n    addNewPublication() {\n      this.saveState()\n\n      window.location.href = route('admin.publications.create')\n    },\n\n    dateFormater(date) {\n      return moment(date).format('DD.MM.YYYY')\n    },\n\n    handleElevationFetched(elevation) {\n      this.form.minimum_elevation = elevation\n      this.form.maximum_elevation = elevation\n    },\n\n    /**\n     * Submit the form and stay to add more, with same taxon.\n     */\n    submitWithoutRedirectWithSameTaxon() {\n      if (this.form.processing) return\n\n      if (this.submitOnlyDirty  && !this.isDirty()) return this.notifyNoChanges()\n\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithoutRedirectWithSameTaxon)\n\n      this.performSubmitWithoutRedirectWithSameTaxon()\n    },\n\n    /**\n     * Submit the form and stay to add more, with same taxon.\n     */\n    performSubmitWithoutRedirectWithSameTaxon(reason = null) {\n      this.submittingWithoutRedirectWithSameTaxon = true\n      this.confirmingSubmit = false\n\n      if (this.shouldAskReason) {\n        this.form.reason = reason\n      }\n\n      this.form[this.method.toLowerCase()](this.action)\n          .then(this.onSuccessfulSubmitWithoutRedirectWithSameTaxon)\n          .catch(error => {\n            this.submittingWithoutRedirectWithSameTaxon = false\n            this.onFailedSubmit(error)\n          })\n    },\n\n    /**\n     * Handle successful form submit with no redirect.\n     */\n    onSuccessfulSubmitWithoutRedirectWithSameTaxon() {\n      this.submittingWithoutRedirectWithSameTaxon = false\n\n      this.$buefy.toast.open({\n        message: this.trans('Saved successfully'),\n        type: 'is-success'\n      })\n\n      // Reset the form but remember some data.\n      const keep = _pick(this.form.data(), this.keepAfterSubmit.concat([\n        'original_identification_validity', 'place_where_referenced_in_publication',\n        'taxon', 'taxon_id', 'original_identification',\n      ]))\n      this.form.reset()\n      this.form.populate(keep)\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationForm.vue?vue&type=script&lang=js&\"","import _pick from 'lodash/pick'\nimport expiringStorage from '@/expiring-storage'\n\nexport default {\n  props: {\n    cacheKey: { default: null },\n    cacheLifetime: { default: 60 * 24 }\n  },\n\n  computed: {\n    storageKey() {\n      return this.cacheKey\n        ? `nz-form.${this.cacheKey}`\n        : `nz-form.${window.location.host}${window.location.pathname}`\n    }\n  },\n\n  methods: {\n    getFormKey() {\n      return 'form'\n    },\n\n    otherPersistentKeys() {\n      return []\n    },\n\n    saveState() {\n      const data = {\n        ..._pick(this.$data, this.otherPersistentKeys()),\n        form: this[this.getFormKey()].data()\n      }\n\n      expiringStorage.set(this.storageKey, data, this.cacheLifetime)\n    },\n\n    restoreState() {\n      const previousState = expiringStorage.get(this.storageKey);\n\n      if (previousState === null) {\n        return\n      }\n\n      this[this.getFormKey()].populate(previousState.form)\n\n      this.otherPersistentKeys().forEach(key => {\n        if (previousState[key] !== undefined) {\n          this.$set(this, key, previousState[key])\n        }\n      })\n\n      this.clearPersistedState()\n    },\n\n    clearPersistedState() {\n      expiringStorage.delete(this.storageKey)\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./LiteratureObservationForm.vue?vue&type=template&id=1941291a&\"\nimport script from \"./LiteratureObservationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./LiteratureObservationForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"literature-observation-form\",attrs:{\"action\":_vm.action,\"method\":\"POST\",\"lang\":_vm.locale}},[_c('div',{staticClass:\"mb-8\"},[_c('nz-publication-autocomplete',{ref:\"publicationAutocomplete\",staticClass:\"is-required\",attrs:{\"publication\":_vm.form.publication,\"error\":_vm.form.errors.has('publication_id'),\"message\":_vm.form.errors.has('publication_id') ? _vm.form.errors.first('publication_id') : null,\"autofocus\":\"autofocus\",\"label\":_vm.trans('labels.literature_observations.publication'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_publication')},on:{\"select\":_vm.onPublicationSelect},model:{value:(_vm.publicationCitation),callback:function ($$v) {_vm.publicationCitation=$$v},expression:\"publicationCitation\"}},[_c('a',{staticClass:\"button\",attrs:{\"title\":_vm.trans('labels.literature_observations.add_new_publication'),\"href\":_vm.$ziggy('admin.publications.create')},on:{\"click\":function($event){$event.preventDefault();return _vm.addNewPublication($event)}}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)]),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.is_original_data'),\"error\":_vm.form.errors.has('is_original_data'),\"message\":_vm.form.errors.has('is_original_data') ? _vm.form.errors.first('is_original_data') : null}},[_c('b-select',{attrs:{\"value\":_vm.form.is_original_data,\"expanded\":\"\"},on:{\"input\":_vm.handleIsOriginalDataInput}},[_c('option',{domProps:{\"value\":true}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.original_data')))]),_vm._v(\" \"),_c('option',{domProps:{\"value\":false}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.citation')))])])],1),_vm._v(\" \"),_c('nz-publication-autocomplete',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.form.is_original_data),expression:\"!form.is_original_data\"}],staticClass:\"is-required\",attrs:{\"publication\":_vm.form.cited_publication,\"error\":_vm.form.errors.has('cited_publication_id'),\"message\":_vm.form.errors.has('cited_publication_id') ? _vm.form.errors.first('cited_publication_id') : null,\"label\":_vm.trans('labels.literature_observations.cited_publication'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_publication')},on:{\"select\":_vm.onCitedPublicationSelect},model:{value:(_vm.citedPublication),callback:function ($$v) {_vm.citedPublication=$$v},expression:\"citedPublication\"}},[_c('a',{staticClass:\"button\",attrs:{\"title\":_vm.trans('labels.literature_observations.add_new_publication'),\"href\":_vm.$ziggy('admin.publications.create')},on:{\"click\":function($event){$event.preventDefault();return _vm.addNewPublication($event)}}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)]),_vm._v(\" \"),_c('nz-taxon-autocomplete',{ref:\"taxonAutocomplete\",staticClass:\"is-required\",attrs:{\"taxon\":_vm.form.taxon,\"error\":_vm.form.errors.has('taxon_id'),\"message\":_vm.form.errors.has('taxon_id') ? _vm.form.errors.first('taxon_id') : null,\"autofocus\":\"autofocus\",\"label\":_vm.trans('labels.literature_observations.taxon'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.taxonName),callback:function ($$v) {_vm.taxonName=$$v},expression:\"taxonName\"}}),_vm._v(\" \"),_c('nz-date-input',{attrs:{\"year\":_vm.form.year,\"month\":_vm.form.month,\"day\":_vm.form.day,\"errors\":_vm.form.errors,\"label\":_vm.trans('labels.literature_observations.date'),\"placeholders\":{\n          year: _vm.trans('labels.literature_observations.year'),\n          month: _vm.trans('labels.literature_observations.month'),\n          day: _vm.trans('labels.literature_observations.day')\n      }},on:{\"update:year\":function($event){return _vm.$set(_vm.form, \"year\", $event)},\"update:month\":function($event){return _vm.$set(_vm.form, \"month\", $event)},\"update:day\":function($event){return _vm.$set(_vm.form, \"day\", $event)}}}),_vm._v(\" \"),_c('div',[_c('h2',{staticClass:\"is-size-4\"},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.verbatim_data')))]),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_identification'),\"type\":_vm.form.errors.has('original_identification') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_identification') ? _vm.form.errors.first('original_identification') : null}},[_c('b-input',{attrs:{\"name\":\"original_identification\"},model:{value:(_vm.form.original_identification),callback:function ($$v) {_vm.$set(_vm.form, \"original_identification\", $$v)},expression:\"form.original_identification\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_identification_validity'),\"type\":_vm.form.errors.has('original_identification_validity') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_identification_validity') ? _vm.form.errors.first('original_identification_validity') : null}},[_c('b-select',{attrs:{\"name\":\"original_identification_validity\",\"expanded\":\"\"},model:{value:(_vm.form.original_identification_validity),callback:function ($$v) {_vm.$set(_vm.form, \"original_identification_validity\", $$v)},expression:\"form.original_identification_validity\"}},_vm._l((_vm.validityOptions),function(label,value){return _c('option',{domProps:{\"value\":value}},[_vm._v(_vm._s(label))])}),0)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_date'),\"type\":_vm.form.errors.has('original_date') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_date') ? _vm.form.errors.first('original_date') : null}},[_c('b-input',{attrs:{\"name\":\"original_date\"},model:{value:(_vm.form.original_date),callback:function ($$v) {_vm.$set(_vm.form, \"original_date\", $$v)},expression:\"form.original_date\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_locality'),\"type\":_vm.form.errors.has('original_locality') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_locality') ? _vm.form.errors.first('original_locality') : null}},[_c('b-input',{model:{value:(_vm.form.original_locality),callback:function ($$v) {_vm.$set(_vm.form, \"original_locality\", $$v)},expression:\"form.original_locality\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_coordinates'),\"type\":_vm.form.errors.has('original_coordinates') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_coordinates') ? _vm.form.errors.first('original_coordinates') : null}},[_c('b-input',{model:{value:(_vm.form.original_coordinates),callback:function ($$v) {_vm.$set(_vm.form, \"original_coordinates\", $$v)},expression:\"form.original_coordinates\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_elevation'),\"type\":_vm.form.errors.has('original_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_elevation') ? _vm.form.errors.first('original_elevation') : null}},[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.literature_observations.original_elevation_placeholder')},model:{value:(_vm.form.original_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"original_elevation\", $$v)},expression:\"form.original_elevation\"}})],1)],1)],1),_vm._v(\" \"),_c('nz-spatial-input',{staticClass:\"mb-4\",attrs:{\"latitude\":_vm.form.latitude,\"longitude\":_vm.form.longitude,\"location\":_vm.form.location,\"accuracy\":_vm.form.accuracy,\"elevation\":_vm.form.elevation,\"errors\":_vm.form.errors,\"has-other-errors\":_vm.form.errors.has('minimum_elevation') || _vm.form.errors.has('maximum_elevation')},on:{\"update:latitude\":function($event){return _vm.$set(_vm.form, \"latitude\", $event)},\"update:longitude\":function($event){return _vm.$set(_vm.form, \"longitude\", $event)},\"update:location\":function($event){return _vm.$set(_vm.form, \"location\", $event)},\"update:accuracy\":function($event){return _vm.$set(_vm.form, \"accuracy\", $event)},\"update:elevation\":function($event){return _vm.$set(_vm.form, \"elevation\", $event)},\"elevation-fetched\":_vm.handleElevationFetched}},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.minimum_elevation_m'),\"type\":_vm.form.errors.has('minimum_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('minimum_elevation') ? _vm.form.errors.first('minimum_elevation') : null,\"custom-class\":\"is-small\"}},[_c('b-input',{attrs:{\"type\":\"number\",\"size\":\"is-small\"},model:{value:(_vm.form.minimum_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"minimum_elevation\", _vm._n($$v))},expression:\"form.minimum_elevation\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.maximum_elevation_m'),\"type\":_vm.form.errors.has('maximum_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('maximum_elevation') ? _vm.form.errors.first('maximum_elevation') : null,\"custom-class\":\"is-small\"}},[_c('b-input',{attrs:{\"type\":\"number\",\"size\":\"is-small\"},model:{value:(_vm.form.maximum_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"maximum_elevation\", _vm._n($$v))},expression:\"form.maximum_elevation\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.georeferenced_by'),\"type\":_vm.form.errors.has('georeferenced_by') ? 'is-danger' : null,\"message\":_vm.form.errors.has('georeferenced_by') ? _vm.form.errors.first('georeferenced_by') : null}},[_c('b-input',{model:{value:(_vm.form.georeferenced_by),callback:function ($$v) {_vm.$set(_vm.form, \"georeferenced_by\", _vm._n($$v))},expression:\"form.georeferenced_by\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.georeferenced_date'),\"type\":_vm.form.errors.has('georeferenced_date') ? 'is-danger' : null,\"message\":_vm.form.errors.has('georeferenced_date') ? _vm.form.errors.first('georeferenced_date') : null}},[_c('b-datepicker',{attrs:{\"max-date\":new Date(),\"mobile-native\":false,\"date-formatter\":_vm.dateFormater,\"first-day-of-week\":1,\"placeholder\":\"DD.MM.YYYY\"},model:{value:(_vm.georeferencedDate),callback:function ($$v) {_vm.georeferencedDate=$$v},expression:\"georeferencedDate\"}},[_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.form.georeferenced_date = null}}},[_c('b-icon',{attrs:{\"icon\":\"close\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Clear\")])],1)])],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.stage'),\"type\":_vm.form.errors.has('stage_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('stage_id') ? _vm.form.errors.first('stage_id') : null}},[_c('b-select',{attrs:{\"disabled\":!_vm.stages.length,\"expanded\":\"expanded\"},model:{value:(_vm.form.stage_id),callback:function ($$v) {_vm.$set(_vm.form, \"stage_id\", $$v)},expression:\"form.stage_id\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.choose_a_stage')))]),_vm._v(\" \"),_vm._l((_vm.stages),function(stage){return _c('option',{key:stage.id,domProps:{\"value\":stage.id,\"textContent\":_vm._s(_vm.trans('stages.'+stage.name))}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.sex'),\"type\":_vm.form.errors.has('sex') ? 'is-danger' : null,\"message\":_vm.form.errors.has('sex') ? _vm.form.errors.first('sex') : null}},[_c('b-select',{attrs:{\"expanded\":\"expanded\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.choose_a_value')))]),_vm._v(\" \"),_vm._l((_vm.sexes),function(sex){return _c('option',{domProps:{\"value\":sex,\"textContent\":_vm._s(_vm.trans('labels.sexes.'+sex))}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.number'),\"type\":_vm.form.errors.has('number') ? 'is-danger' : null,\"message\":_vm.form.errors.has('number') ? _vm.form.errors.first('number') : null}},[_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.note'),\"error\":_vm.form.errors.has('note'),\"message\":_vm.form.errors.has('note') ? _vm.form.errors.first('note') : null}},[_c('b-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.habitat'),\"type\":_vm.form.errors.has('habitat') ? 'is-danger' : null,\"message\":_vm.form.errors.has('habitat') ? _vm.form.errors.first('habitat') : null}},[_c('b-input',{model:{value:(_vm.form.habitat),callback:function ($$v) {_vm.$set(_vm.form, \"habitat\", $$v)},expression:\"form.habitat\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.found_on'),\"type\":_vm.form.errors.has('found_on') ? 'is-danger' : null,\"message\":_vm.form.errors.has('found_on') ? _vm.form.errors.first('found_on') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"found_on\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.found_on_tooltip')}),expression:\"{content: trans('labels.literature_observations.found_on_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n            \"+_vm._s(_vm.trans('labels.literature_observations.found_on'))+\"\\n          \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"found_on\",\"name\":\"found_on\"},model:{value:(_vm.form.found_on),callback:function ($$v) {_vm.$set(_vm.form, \"found_on\", $$v)},expression:\"form.found_on\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.time'),\"type\":_vm.form.errors.has('time') ? 'is-danger' : null,\"message\":_vm.form.errors.has('time') ? _vm.form.errors.first('time') : null}},[_c('b-timepicker',{attrs:{\"value\":_vm.time,\"placeholder\":_vm.trans('labels.literature_observations.click_to_select'),\"icon\":\"clock-o\",\"mobile-native\":false},on:{\"input\":_vm.onTimeInput}},[_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.form.time = null}}},[_c('b-icon',{attrs:{\"icon\":\"close\"}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"project\"}},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.project_tooltip')}),expression:\"{content: trans('labels.literature_observations.project_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n                \"+_vm._s(_vm.trans('labels.literature_observations.project'))+\"\\n              \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"project\",\"name\":\"project\"},model:{value:(_vm.form.project),callback:function ($$v) {_vm.$set(_vm.form, \"project\", $$v)},expression:\"form.project\"}}),_vm._v(\" \"),(_vm.form.errors.has('project'))?_c('p',{staticClass:\"help\",class:{ 'is-danger': _vm.form.errors.has('project') },domProps:{\"innerHTML\":_vm._s(_vm.form.errors.first('project'))}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"dataset\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.trans('labels.literature_observations.dataset'))+\"\\n            \")]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"dataset\",\"name\":\"dataset\"},model:{value:(_vm.form.dataset),callback:function ($$v) {_vm.$set(_vm.form, \"dataset\", $$v)},expression:\"form.dataset\"}}),_vm._v(\" \"),(_vm.form.errors.has('dataset'))?_c('p',{staticClass:\"help\",class:{ 'is-danger': _vm.form.errors.has('dataset') },domProps:{\"innerHTML\":_vm._s(_vm.form.errors.first('dataset'))}}):_vm._e()],1)])]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.observer'),\"type\":_vm.form.errors.has('observer') ? 'is-danger' : null,\"message\":_vm.form.errors.has('observer') ? _vm.form.errors.first('observer') : null}},[_c('b-input',{attrs:{\"name\":\"observer\"},model:{value:(_vm.form.observer),callback:function ($$v) {_vm.$set(_vm.form, \"observer\", $$v)},expression:\"form.observer\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.identifier'),\"type\":_vm.form.errors.has('identifier') ? 'is-danger' : null,\"message\":_vm.form.errors.has('identifier') ? _vm.form.errors.first('identifier') : null}},[_c('b-input',{attrs:{\"name\":\"identifier\"},model:{value:(_vm.form.identifier),callback:function ($$v) {_vm.$set(_vm.form, \"identifier\", $$v)},expression:\"form.identifier\"}})],1)],1)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.place_where_referenced_in_publication'),\"type\":_vm.form.errors.has('place_where_referenced_in_publication') ? 'is-danger' : null,\"message\":_vm.form.errors.has('place_where_referenced_in_publication') ? _vm.form.errors.first('place_where_referenced_in_publication') : null}},[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.literature_observations.place_where_referenced_in_publication_placeholder')},model:{value:(_vm.form.place_where_referenced_in_publication),callback:function ($$v) {_vm.$set(_vm.form, \"place_where_referenced_in_publication\", $$v)},expression:\"form.place_where_referenced_in_publication\"}})],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-loading': _vm.submittingWithRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save'))+\"\\n  \")]),_vm._v(\" \"),(_vm.submitMore)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_more_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_more_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-outlined': !_vm.submittingWithoutRedirect,\n      'is-loading': _vm.submittingWithoutRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save_more'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.submitMoreWithSameTaxon)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_more_same_taxon_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_more_same_taxon_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-outlined': !_vm.submittingWithoutRedirectWithSameTaxon,\n      'is-loading': _vm.submittingWithoutRedirectWithSameTaxon\n    },attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirectWithSameTaxon($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('labels.literature_observations.save_more_same_taxon'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"button is-text\",attrs:{\"href\":_vm.cancelUrl},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form :action=\"action\" method=\"POST\" @submit.prevent=\"submitWithRedirect\">\n    <b-field :label=\"trans('labels.view_groups.parent')\">\n      <b-select v-model=\"parent\">\n        <option></option>\n        <option v-for=\"rootGroup in rootGroups\" :value=\"rootGroup\">{{ rootGroup.name }}</option>\n      </b-select>\n    </b-field>\n\n    <b-field :label=\"trans('labels.view_groups.name')\">\n      <b-tabs size=\"is-small\" class=\"block\" @change=\"(index) => focusOnTranslation(index, 'name')\">\n        <b-tab-item :label=\"trans('languages.' + data.name)\" v-for=\"(data, locale) in supportedLocales\" :key=\"locale\">\n          <b-input v-model=\"form.name[locale]\" :id=\"`name-${locale}`\" />\n        </b-tab-item>\n      </b-tabs>\n    </b-field>\n\n    <b-field :label=\"trans('labels.view_groups.description')\">\n      <b-tabs size=\"is-small\" class=\"block\" @change=\"(index) => focusOnTranslation(index, 'description')\">\n        <b-tab-item :label=\"trans('languages.' + data.name)\" v-for=\"(data, locale) in supportedLocales\" :key=\"locale\">\n          <b-input type=\"textarea\" v-model=\"form.description[locale]\" :id=\"`description-${locale}`\" />\n        </b-tab-item>\n      </b-tabs>\n    </b-field>\n\n    <template v-if=\"!isRoot\">\n      <b-field :label=\"trans('labels.view_groups.taxa')\">\n        <b-taginput v-model=\"taxa\"\n            :data=\"filteredTaxa\"\n            autocomplete\n            field=\"name\"\n            @typing=\"onTaxonNameInput\"\n        />\n      </b-field>\n\n      <b-field>\n        <b-checkbox v-model=\"form.only_observed_taxa\">{{ trans('labels.view_groups.only_observed_taxa') }}</b-checkbox>\n      </b-field>\n    </template>\n\n    <b-field :label=\"trans('labels.view_groups.image')\">\n      <nz-photo-upload\n        :image-url=\"form.image_url\"\n    \t\t:image-path=\"form.image_path\"\n    \t\t:licenses=\"{}\"\n    \t\t:with-license=\"false\"\n        :with-crop=\"false\"\n        @uploaded=\"onImageUploaded\"\n        @removed=\"onImageRemoved\"\n      />\n    </b-field>\n\n    <hr>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n          'is-loading': form.processing\n      }\"\n      @click=\"submitWithRedirect\"\n    >\n      {{ trans('buttons.save') }}\n    </button>\n\n    <a :href=\"cancelUrl\" class=\"button is-text\" @click=\"onCancel\">{{ trans('buttons.cancel') }}</a>\n  </form>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport _keys from 'lodash/keys'\nimport _find from 'lodash/find'\nimport _get from 'lodash/get'\nimport _debounce from 'lodash/debounce'\nimport FormMixin from '@/mixins/FormMixin'\n\nfunction defaultTranslations() {\n  const value = {}\n\n  _keys(window.App.supportedLocales).forEach(locale => {\n    value[locale] = null\n  })\n\n  return value\n}\n\nexport default {\n  name: 'nzViewGroupForm',\n\n  mixins: [FormMixin],\n\n  props: {\n    group: {\n      type: Object,\n      default() {\n        return {\n            parent_id: null,\n            only_observed_taxa: false,\n            taxa: []\n        }\n      }\n    },\n    rootGroups: Array,\n    names: {\n      type: Object,\n      default: () => defaultTranslations()\n    },\n    descriptions: {\n      type: Object,\n      default: () => defaultTranslations()\n    }\n  },\n\n  data() {\n    return {\n      form: this.newForm(),\n      taxa: this.group.taxa,\n      filteredTaxa: []\n    }\n  },\n\n  computed: {\n    supportedLocales() {\n      return window.App.supportedLocales\n    },\n\n    parent: {\n      get() {\n        return _find(this.rootGroups, { id: this.form.parent_id })\n      },\n\n      set(value) {\n        this.form.parent_id = _get(value, 'id')\n      }\n    },\n\n    isRoot() {\n      return !this.form.parent_id\n    }\n  },\n\n  watch: {\n    taxa(value) {\n      this.form.taxa_ids = value.map(taxon => taxon.id)\n    }\n  },\n\n  methods: {\n    newForm() {\n      return new Form({\n        parent_id: this.group.parent_id,\n        name: this.names,\n        description: this.descriptions,\n        image_url: this.group.image_url,\n        image_path: this.group.image_path,\n        only_observed_taxa: this.group.only_observed_taxa,\n        taxa_ids: this.group.taxa.map(taxon => taxon.id)\n      }, {\n        resetOnSuccess: false\n      })\n    },\n\n    focusOnTranslation(index, attribute) {\n      const locales = _keys(this.supportedLocales)\n      const selector = `#${attribute}-${locales[index]}`\n\n      setTimeout(() => {\n        this.$el.querySelector(selector).focus()\n      }, 500)\n    },\n\n    fetchTaxa(name) {\n      axios.get(route('api.taxa.index'), {\n        params: {\n          name,\n          page: 1,\n          per_page: 10,\n          except: this.taxa.map(taxon => taxon.id)\n        }\n      }).then(({ data }) => {\n        this.filteredTaxa = data.data\n      })\n    },\n\n    onTaxonNameInput: _debounce(function (name) {\n      return this.fetchTaxa(name)\n    }, 500),\n\n    onImageUploaded(image) {\n      this.form.image_path = image.path\n    },\n\n    onImageRemoved() {\n      this.form.image_url = null\n      this.form.image_path = null\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroupForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewGroupForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewGroupForm.vue?vue&type=template&id=2a390a0e&\"\nimport script from \"./ViewGroupForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewGroupForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{\"action\":_vm.action,\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submitWithRedirect($event)}}},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.view_groups.parent')}},[_c('b-select',{model:{value:(_vm.parent),callback:function ($$v) {_vm.parent=$$v},expression:\"parent\"}},[_c('option'),_vm._v(\" \"),_vm._l((_vm.rootGroups),function(rootGroup){return _c('option',{domProps:{\"value\":rootGroup}},[_vm._v(_vm._s(rootGroup.name))])})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.view_groups.name')}},[_c('b-tabs',{staticClass:\"block\",attrs:{\"size\":\"is-small\"},on:{\"change\":function (index) { return _vm.focusOnTranslation(index, 'name'); }}},_vm._l((_vm.supportedLocales),function(data,locale){return _c('b-tab-item',{key:locale,attrs:{\"label\":_vm.trans('languages.' + data.name)}},[_c('b-input',{attrs:{\"id\":(\"name-\" + locale)},model:{value:(_vm.form.name[locale]),callback:function ($$v) {_vm.$set(_vm.form.name, locale, $$v)},expression:\"form.name[locale]\"}})],1)}),1)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.view_groups.description')}},[_c('b-tabs',{staticClass:\"block\",attrs:{\"size\":\"is-small\"},on:{\"change\":function (index) { return _vm.focusOnTranslation(index, 'description'); }}},_vm._l((_vm.supportedLocales),function(data,locale){return _c('b-tab-item',{key:locale,attrs:{\"label\":_vm.trans('languages.' + data.name)}},[_c('b-input',{attrs:{\"type\":\"textarea\",\"id\":(\"description-\" + locale)},model:{value:(_vm.form.description[locale]),callback:function ($$v) {_vm.$set(_vm.form.description, locale, $$v)},expression:\"form.description[locale]\"}})],1)}),1)],1),_vm._v(\" \"),(!_vm.isRoot)?[_c('b-field',{attrs:{\"label\":_vm.trans('labels.view_groups.taxa')}},[_c('b-taginput',{attrs:{\"data\":_vm.filteredTaxa,\"autocomplete\":\"\",\"field\":\"name\"},on:{\"typing\":_vm.onTaxonNameInput},model:{value:(_vm.taxa),callback:function ($$v) {_vm.taxa=$$v},expression:\"taxa\"}})],1),_vm._v(\" \"),_c('b-field',[_c('b-checkbox',{model:{value:(_vm.form.only_observed_taxa),callback:function ($$v) {_vm.$set(_vm.form, \"only_observed_taxa\", $$v)},expression:\"form.only_observed_taxa\"}},[_vm._v(_vm._s(_vm.trans('labels.view_groups.only_observed_taxa')))])],1)]:_vm._e(),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.view_groups.image')}},[_c('nz-photo-upload',{attrs:{\"image-url\":_vm.form.image_url,\"image-path\":_vm.form.image_path,\"licenses\":{},\"with-license\":false,\"with-crop\":false},on:{\"uploaded\":_vm.onImageUploaded,\"removed\":_vm.onImageRemoved}})],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary\",class:{\n        'is-loading': _vm.form.processing\n    },attrs:{\"type\":\"submit\"},on:{\"click\":_vm.submitWithRedirect}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save'))+\"\\n  \")]),_vm._v(\" \"),_c('a',{staticClass:\"button is-text\",attrs:{\"href\":_vm.cancelUrl},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form @submit.prevent=\"submit\" class=\"announcement-form\">\n    <b-field\n      class=\"is-required\"\n      :label=\"trans('labels.announcements.title')\"\n      :type=\"form.errors.has('title') ? 'is-danger' : ''\"\n      :message=\"form.errors.has('title') ? form.errors.first('title') : ''\"\n    >\n      <b-tabs size=\"is-small\" class=\"block\" @change=\"(index) => focusOnTranslation(index, 'title')\">\n        <b-tab-item :label=\"trans('languages.' + data.name)\" v-for=\"(data, locale) in supportedLocales\" :key=\"locale\">\n          <b-input v-model=\"form.title[locale]\" autofocus  :ref=\"`title-${locale}`\" />\n        </b-tab-item>\n      </b-tabs>\n    </b-field>\n\n    <b-field\n      class=\"is-required\"\n      :label=\"trans('labels.announcements.message')\"\n      :type=\"form.errors.has('message') ? 'is-danger' : ''\"\n      :message=\"form.errors.has('message') ? form.errors.first('message') : ''\"\n    >\n      <b-tabs size=\"is-small\" class=\"block\" @change=\"(index) => focusOnTranslation(index, 'message')\">\n        <b-tab-item :label=\"trans('languages.' + data.name)\" v-for=\"(data, locale) in supportedLocales\" :key=\"locale\">\n          <nz-wysiwyg v-model=\"form.message[locale]\" :ref=\"`message-${locale}`\" />\n        </b-tab-item>\n      </b-tabs>\n    </b-field>\n\n    <div class=\"columns\">\n      <div class=\"column\">\n        <b-field :label=\"trans('labels.announcements.private')\">\n          <b-switch v-model=\"form.private\">\n              {{ form.private ? trans('Yes') : trans('No') }}\n          </b-switch>\n        </b-field>\n      </div>\n    </div>\n\n    <hr>\n\n    <button type=\"submit\" class=\"button is-primary\">{{ isEdit ? trans('buttons.save') : trans('labels.announcements.publish') }}</button>\n\n    <a :href=\"cancelUrl\" class=\"button\">{{ trans('buttons.cancel') }}</a>\n  </form>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport _keys from 'lodash/keys'\nimport _get from 'lodash/get'\nimport _first from 'lodash/first'\n\nfunction defaultTranslations() {\n    const value = {};\n\n    _keys(window.App.supportedLocales).forEach(locale => {\n        value[locale] = null;\n    });\n\n    return value;\n}\n\nexport default {\n    name: 'nzAnnouncementForm',\n\n    props: {\n        action: String,\n        method: {\n            type: String,\n            default: 'post'\n        },\n        types: {\n            type: Array,\n            default: () => []\n        },\n        announcement: {\n            type: Object,\n            default() {\n                return {\n                    private: false,\n                };\n            }\n        },\n        title: {\n            type: Object,\n            default: () => defaultTranslations()\n        },\n        message: {\n            type: Object,\n            default: () => defaultTranslations()\n        },\n        redirectUrl: String,\n        cancelUrl: String\n    },\n\n    data() {\n        return {\n            form: this.newForm()\n        };\n    },\n\n    computed: {\n        supportedLocales() {\n            return window.App.supportedLocales;\n        },\n\n        isEdit() {\n            return this.method.toLowerCase() === 'put'\n        }\n    },\n\n    methods: {\n        submit() {\n            if (this.form.processing) return;\n\n            this.form[this.method.toLowerCase()](this.action)\n                .then(this.onSuccessfulSubmit)\n                .catch(this.onFailedSubmit);\n        },\n\n        /**\n         * Handle successful form submit.\n         */\n        onSuccessfulSubmit() {\n            this.form.processing = true\n\n            this.$buefy.toast.open({\n                message: this.trans('Saved successfully'),\n                type: 'is-success'\n            });\n\n            // We want to wait a bit before we send the user to redirect route\n            // so we can show the message that the action was successful.\n            setTimeout(() => {\n                this.form.processing = false;\n\n                window.location.href = this.redirectUrl;\n            }, 500);\n        },\n\n        /**\n         * Handle failed form submit.\n         *\n         * @param {Error} error\n         */\n        onFailedSubmit(error) {\n            this.$buefy.toast.open({\n                duration: 2500,\n                message: _get(error, 'response.data.message', error.message),\n                type: 'is-danger'\n            });\n        },\n\n        newForm() {\n            return new Form({\n                ...this.announcement,\n                title: this.title,\n                message: this.message\n            }, {\n                resetOnSuccess: false\n            });\n        },\n\n        focusOnTranslation(index, attribute) {\n            const locales = _keys(this.supportedLocales);\n            const selector = `${attribute}-${locales[index]}`;\n\n            setTimeout(() => {\n                _first(this.$refs[selector]).focus();\n            }, 500);\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnouncementForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnnouncementForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnnouncementForm.vue?vue&type=template&id=9c773b0e&\"\nimport script from \"./AnnouncementForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AnnouncementForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"announcement-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.announcements.title'),\"type\":_vm.form.errors.has('title') ? 'is-danger' : '',\"message\":_vm.form.errors.has('title') ? _vm.form.errors.first('title') : ''}},[_c('b-tabs',{staticClass:\"block\",attrs:{\"size\":\"is-small\"},on:{\"change\":function (index) { return _vm.focusOnTranslation(index, 'title'); }}},_vm._l((_vm.supportedLocales),function(data,locale){return _c('b-tab-item',{key:locale,attrs:{\"label\":_vm.trans('languages.' + data.name)}},[_c('b-input',{ref:(\"title-\" + locale),refInFor:true,attrs:{\"autofocus\":\"\"},model:{value:(_vm.form.title[locale]),callback:function ($$v) {_vm.$set(_vm.form.title, locale, $$v)},expression:\"form.title[locale]\"}})],1)}),1)],1),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.announcements.message'),\"type\":_vm.form.errors.has('message') ? 'is-danger' : '',\"message\":_vm.form.errors.has('message') ? _vm.form.errors.first('message') : ''}},[_c('b-tabs',{staticClass:\"block\",attrs:{\"size\":\"is-small\"},on:{\"change\":function (index) { return _vm.focusOnTranslation(index, 'message'); }}},_vm._l((_vm.supportedLocales),function(data,locale){return _c('b-tab-item',{key:locale,attrs:{\"label\":_vm.trans('languages.' + data.name)}},[_c('nz-wysiwyg',{ref:(\"message-\" + locale),refInFor:true,model:{value:(_vm.form.message[locale]),callback:function ($$v) {_vm.$set(_vm.form.message, locale, $$v)},expression:\"form.message[locale]\"}})],1)}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.announcements.private')}},[_c('b-switch',{model:{value:(_vm.form.private),callback:function ($$v) {_vm.$set(_vm.form, \"private\", $$v)},expression:\"form.private\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.form.private ? _vm.trans('Yes') : _vm.trans('No'))+\"\\n        \")])],1)],1)]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.isEdit ? _vm.trans('buttons.save') : _vm.trans('labels.announcements.publish')))]),_vm._v(\" \"),_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.cancelUrl}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationAttachmentUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationAttachmentUpload.vue?vue&type=script&lang=js&\"","<template>\n  <b-field :message=\"error || null\" :type=\"error ? 'is-danger' : null\" expanded>\n    <b-field class=\"file\">\n      <progress class=\"progress is-primary is-small\" :value=\"progress\" max=\"100\" v-if=\"uploading\">{{ progress }}%</progress>\n\n      <b-upload @input=\"onInput\" accept=\".pdf,.odt,.doc,.docx\" v-show=\"!uploading\" v-if=\"!hasAttachment\" ref=\"upload\">\n        <button type=\"button\" @click=\"openUpload\" class=\"button is-secondary\">\n          <b-icon icon=\"upload\"></b-icon>\n          <span>Upload Document</span>\n        </button>\n      </b-upload>\n      <div class=\"flex items-center justify-between w-full\" v-else>\n        <div class=\"mr-4\">\n          {{ attachmentFileName }}\n        </div>\n        <button type=\"button\" class=\"button is-danger is-outlined\" @click=\"remove\">\n          <b-icon icon=\"times\" />\n        </button>\n      </div>\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nexport default {\n  name: 'nzPublicationAttachmentUpload',\n\n  props: {\n    attachmentName: String\n  },\n\n  data() {\n    return {\n      attachmentFileName: this.attachmentName,\n      reader: null,\n      uploading: false,\n      progress: 0,\n      error: null,\n    }\n  },\n\n  computed: {\n    hasAttachment() {\n      return !!this.attachmentFileName\n    }\n  },\n\n  methods: {\n    onInput(file) {\n      this.error = null\n\n      if (!file) {\n        this.remove()\n      } else {\n        this.upload(file)\n      }\n    },\n\n    openUpload() {\n      this.$refs.upload.$refs.input.click()\n    },\n\n    upload(file) {\n      this.uploading = true\n      return axios.post(route('api.publication-attachments.store'), this.makeForm(file), {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Accept: 'application/json'\n        },\n        onUploadProgress: progressEvent => {\n           this.progress = Math.floor((progressEvent.loaded * 100) / progressEvent.total)\n        }\n      }).then(response => {\n        const attachment = response.data.data\n\n        this.attachmentFileName = attachment.original_name\n\n        this.uploading = false\n        this.progress = 0\n\n        this.$emit('uploaded', attachment)\n      }).catch(this.handleError)\n    },\n\n    makeForm(file) {\n      let form = new FormData()\n\n      form.append('attachment', file)\n\n      return form\n    },\n\n    remove() {\n      this.$emit('removed', this.attachment)\n\n      this.attachmentFileName = null\n    },\n\n    handleError(error) {\n      this.uploading = false\n      this.progress = 0\n\n      // Clear the input so we can select the same file if needed.\n      this.$el.querySelector('input[type=\"file\"]').value = ''\n\n      if (!error.response) {\n        return this.$buefy.toast.open({\n          duration: 5000,\n          message: error.message,\n          position: 'is-top',\n          type: 'is-danger'\n        })\n      }\n\n      this.error = error.response.data.errors.attachment[0] || this.trans('Error')\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./PublicationAttachmentUpload.vue?vue&type=template&id=50b43b5e&\"\nimport script from \"./PublicationAttachmentUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationAttachmentUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{attrs:{\"message\":_vm.error || null,\"type\":_vm.error ? 'is-danger' : null,\"expanded\":\"\"}},[_c('b-field',{staticClass:\"file\"},[(_vm.uploading)?_c('progress',{staticClass:\"progress is-primary is-small\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.progress}},[_vm._v(_vm._s(_vm.progress)+\"%\")]):_vm._e(),_vm._v(\" \"),(!_vm.hasAttachment)?_c('b-upload',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.uploading),expression:\"!uploading\"}],ref:\"upload\",attrs:{\"accept\":\".pdf,.odt,.doc,.docx\"},on:{\"input\":_vm.onInput}},[_c('button',{staticClass:\"button is-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openUpload}},[_c('b-icon',{attrs:{\"icon\":\"upload\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Upload Document\")])],1)]):_c('div',{staticClass:\"flex items-center justify-between w-full\"},[_c('div',{staticClass:\"mr-4\"},[_vm._v(\"\\n        \"+_vm._s(_vm.attachmentFileName)+\"\\n      \")]),_vm._v(\" \"),_c('button',{staticClass:\"button is-danger is-outlined\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.remove}},[_c('b-icon',{attrs:{\"icon\":\"times\"}})],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form :action=\"action\" :method=\"method\" :lang=\"locale\" class=\"publication-form\" @submit.prevent=\"submitWithRedirect\">\n    <div class=\"columns\">\n      <div class=\"column\">\n        <b-field\n          :label=\"trans('labels.publications.type')\"\n          label-for=\"type\"\n          :type=\"form.errors.has('type') ? 'is-danger' : null\"\n          :message=\"form.errors.has('type') ? form.errors.first('type') : null\"\n          class=\"is-required\"\n        >\n          <b-select id=\"type\" name=\"type\" v-model=\"form.type\" expanded>\n            <option\n              v-for=\"publicationType in publicationTypes\"\n              :value=\"publicationType.value\"\n              :key=\"publicationType.value\"\n            >\n              {{ publicationType.label }}\n            </option>\n          </b-select>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.publications.year')\"\n          label-for=\"year\"\n          :type=\"form.errors.has('year') ? 'is-danger' : null\"\n          :message=\"form.errors.has('year') ? form.errors.first('year') : null\"\n          class=\"is-required\"\n        >\n          <b-input id=\"year\" name=\"year\" v-model=\"form.year\" type=\"number\" expanded />\n        </b-field>\n\n        <b-field\n          v-if=\"typeHasName\"\n          :label=\"nameLabel\"\n          label-for=\"name\"\n          :type=\"form.errors.has('name') ? 'is-danger' : null\"\n          :message=\"form.errors.has('name') ? form.errors.first('name') : null\"\n          class=\"is-required\"\n        >\n          <b-input id=\"name\" name=\"name\" v-model=\"form.name\" expanded />\n        </b-field>\n\n        <b-field\n          :label=\"titleLabel\"\n          label-for=\"title\"\n          :type=\"form.errors.has('title') ? 'is-danger' : null\"\n          :message=\"form.errors.has('title') ? form.errors.first('title') : null\"\n          class=\"is-required\"\n        >\n          <b-input id=\"title\" name=\"title\" v-model=\"form.title\" expanded />\n        </b-field>\n\n        <b-field\n          v-if=\"typeHasPublisher\"\n          :label=\"trans('labels.publications.publisher')\"\n          label-for=\"publisher\"\n          :class=\"{'is-required': typeRequiresPublisher}\"\n          :type=\"form.errors.has('publisher') ? 'is-danger' : null\"\n          :message=\"form.errors.has('publisher') ? form.errors.first('publisher') : null\"\n        >\n          <b-input id=\"publisher\" name=\"publisher\" v-model=\"form.publisher\" expanded />\n        </b-field>\n\n        <b-field\n          v-if=\"typeHasIssue\"\n          :label=\"trans('labels.publications.issue')\"\n          label-for=\"issue\"\n          :type=\"form.errors.has('issue') ? 'is-danger' : null\"\n          :message=\"form.errors.has('issue') ? form.errors.first('issue') : null\"\n          :class=\"{'is-required': typeRequiresIssue}\"\n        >\n          <b-input id=\"issue\" name=\"issue\" v-model=\"form.issue\" expanded />\n        </b-field>\n\n        <b-field\n          v-if=\"typeHasPlace\"\n          :label=\"trans('labels.publications.place')\"\n          label-for=\"place\"\n          :class=\"{'is-required': typeRequiresPlace}\"\n          :type=\"form.errors.has('place') ? 'is-danger' : null\"\n          :message=\"form.errors.has('place') ? form.errors.first('place') : null\"\n        >\n          <b-input id=\"place\" name=\"place\" v-model=\"form.place\" expanded />\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.publications.page_count')\"\n          label-for=\"page_count\"\n          :type=\"form.errors.has('page_count') ? 'is-danger' : null\"\n          :message=\"form.errors.has('page_count') ? form.errors.first('page_count') : null\"\n        >\n          <b-input id=\"page_count\" name=\"page_count\" v-model=\"form.page_count\" expanded />\n        </b-field>\n\n        <b-field\n          v-if=\"typeHasPageRange\"\n          :label=\"trans('labels.publications.page_range')\"\n          label-for=\"page_range\"\n          :type=\"form.errors.has('page_range') ? 'is-danger' : null\"\n          :message=\"form.errors.has('page_range') ? form.errors.first('page_range') : null\"\n        >\n          <b-input id=\"page_range\" name=\"page_range\" v-model=\"form.page_range\" expanded />\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.publications.doi')\"\n          label-for=\"doi\"\n          :type=\"form.errors.has('doi') ? 'is-danger' : null\"\n          :message=\"form.errors.has('doi') ? form.errors.first('doi') : null\"\n        >\n          <b-input id=\"doi\" name=\"doi\" v-model=\"form.doi\" expanded />\n        </b-field>\n\n        <b-field\n          label-for=\"citation\"\n          :type=\"form.errors.has('citation') ? 'is-danger' : null\"\n          :message=\"form.errors.has('citation') ? form.errors.first('citation') : null\"\n        >\n          <label for=\"citation\" class=\"label\" slot=\"label\">\n            <span\n              class=\"is-dashed\"\n              v-tooltip=\"{content: trans('labels.publications.citation_tooltip')}\"\n            >\n              {{ trans('labels.publications.citation') }}\n            </span>\n          </label>\n\n          <b-input id=\"citation\" type=\"textarea\" name=\"citation\" v-model=\"form.citation\" expanded />\n        </b-field>\n      </div>\n\n      <div class=\"column\">\n        <b-field\n          :label=\"trans('labels.publications.authors')\"\n          :type=\"form.errors.has('authors') ? 'is-danger' : null\"\n          :message=\"form.errors.has('authors') ? form.errors.first('authors') : null\"\n          class=\"is-required\"\n          :addons=\"false\"\n        >\n          <b-field\n            v-for=\"(_,i) in form.authors\"\n            :key=\"i\"\n            :type=\"authorHasError(i) ? 'is-danger' : null\"\n            :message=\"authorHasError(i) ? getAuthorError(i) : null\"\n            expanded\n            :addons=\"false\"\n          >\n            <b-field\n              :type=\"authorHasError(i) ? 'is-danger' : null\"\n              expanded\n            >\n              <b-input\n                :name=\"`authors[${i}][first_name]`\"\n                v-model=\"form.authors[i].first_name\"\n                :placeholder=\"trans('labels.publications.first_name')\"\n                expanded\n              />\n\n              <b-input\n                :name=\"`authors[${i}][last_name]`\"\n                v-model=\"form.authors[i].last_name\"\n                :placeholder=\"trans('labels.publications.last_name')\"\n                expanded\n              />\n\n              <p class=\"control\">\n                <button type=\"button\" class=\"button is-danger is-outlined\" @click=\"removeAuthor(i)\">\n                  <b-icon icon=\"times\" size=\"is-small\"/>\n                </button>\n              </p>\n\n            </b-field>\n          </b-field>\n\n          <button\n            type=\"button\"\n            class=\"button is-secondary is-outlined\"\n            @click=\"addAuthor\"\n          >\n            {{ trans('labels.publications.add_author') }}\n          </button>\n        </b-field>\n\n        <b-field\n          v-if=\"typeHasEditors\"\n          :class=\"{'is-required': typeRequiresEditors}\"\n          :label=\"trans('labels.publications.editors')\"\n          :type=\"form.errors.has('editors') ? 'is-danger' : null\"\n          :message=\"form.errors.has('editors') ? form.errors.first('editors') : null\"\n          :addons=\"false\"\n        >\n          <b-field\n            v-for=\"(_,i) in form.editors\"\n            :key=\"i\"\n            :type=\"editorHasError(i) ? 'is-danger' : null\"\n            :message=\"editorHasError(i) ? getEditorError(i) : null\"\n            expanded\n            :addons=\"false\"\n          >\n            <b-field\n              :type=\"editorHasError(i) ? 'is-danger' : null\"\n              expanded\n            >\n              <b-input\n                :name=\"`editors[${i}][first_name]`\"\n                v-model=\"form.editors[i].first_name\"\n                :placeholder=\"trans('labels.publications.first_name')\"\n                expanded\n              />\n\n              <b-input\n                :name=\"`editors[${i}][last_name]`\"\n                v-model=\"form.editors[i].last_name\"\n                :placeholder=\"trans('labels.publications.last_name')\"\n                expanded\n              />\n\n              <p class=\"control\">\n                <button type=\"button\" class=\"button is-danger is-outlined\" @click=\"removeEditor(i)\">\n                  <b-icon icon=\"times\" size=\"is-small\"/>\n                </button>\n              </p>\n\n            </b-field>\n          </b-field>\n\n          <button\n            type=\"button\"\n            class=\"button is-secondary is-outlined\"\n            @click=\"addEditor\"\n          >\n            {{ trans('labels.publications.add_editor') }}\n          </button>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.publications.link')\"\n          :type=\"form.errors.has('link') ? 'is-danger' : null\"\n          :message=\"form.errors.has(`link`) ? form.errors.first(`link`) : null\"\n        >\n          <b-input name=\"link\" v-model=\"form.link\" expanded/>\n        </b-field>\n\n        <b-field :label=\"trans('labels.publications.attachment')\">\n          <nz-publication-attachment-upload\n            @uploaded=\"handleAttachmentUploaded\"\n            @removed=\"handleRemovedAttachment\"\n            :attachment-name=\"form.attachment ? form.attachment.original_name : null\"\n          />\n        </b-field>\n      </div>\n    </div>\n\n    <hr>\n\n    <button type=\"submit\" class=\"button is-primary\">{{ trans('buttons.save') }}</button>\n\n    <a :href=\"cancelUrl\" class=\"button\">{{ trans('buttons.cancel') }}</a>\n  </form>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport moment from 'moment'\nimport _find from 'lodash/find'\nimport FormMixin from '@/mixins/FormMixin'\nimport PublicationAttachmentUpload from '@/components/inputs/PublicationAttachmentUpload'\n\nexport default {\n  name: 'nzPublicationForm',\n\n  components: {\n    [PublicationAttachmentUpload.name]: PublicationAttachmentUpload\n  },\n\n  mixins: [FormMixin],\n\n  props: {\n    publication: {\n      type: Object,\n      default: () => ({\n        type: null,\n        year: null,\n        name: null,\n        title: null,\n        publisher: null,\n        issue: null,\n        place: null,\n        page_count: null,\n        page_range: null,\n        doi: null,\n        citation: null,\n        authors: [],\n        editors: [],\n        link: null,\n        attachment: null,\n        attachment_id: null\n      })\n    },\n\n    publicationTypes: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      form: new Form({\n        ...this.publication\n      }, {\n        resetOnSuccess: false\n      })\n    }\n  },\n\n  computed: {\n    chosenType() {\n      return _find(this.publicationTypes, { value: this.form.type })\n    },\n\n    typeHasName() {\n      return this.chosenType ? this.chosenType.has_name : false\n    },\n\n    typeHasEditors() {\n      return this.chosenType ? this.chosenType.has_editors : false\n    },\n\n    typeRequiresEditors() {\n      return this.chosenType ? this.chosenType.requires_editors : false\n    },\n\n    typeHasPublisher() {\n      return this.chosenType ? this.chosenType.has_publisher : false\n    },\n\n    typeRequiresPublisher() {\n      return this.chosenType ? this.chosenType.requires_publisher : false\n    },\n\n    typeHasIssue() {\n      return this.chosenType ? this.chosenType.has_issue : false\n    },\n\n    typeRequiresIssue() {\n      return this.chosenType ? this.chosenType.requires_issue : false\n    },\n\n    typeHasPlace() {\n      return this.chosenType ? this.chosenType.has_place : false\n    },\n\n    typeRequiresPlace() {\n      return this.chosenType ? this.chosenType.requires_place : false\n    },\n\n    typeHasPageRange() {\n      return this.chosenType ? this.chosenType.has_page_range : false\n    },\n\n    nameLabel() {\n      const type = this.form.type\n\n      return this.trans(`labels.publications.${type}_name`, {}, this.trans('labels.publications.name'))\n    },\n\n    titleLabel() {\n      const type = this.form.type\n\n      return this.trans(`labels.publications.${type}_title`, {}, this.trans('labels.publications.title'))\n    }\n  },\n\n  methods: {\n    addAuthor() {\n      this.form.authors.push({ first_name: '', last_name: '' })\n    },\n\n    addEditor() {\n      this.form.editors.push({ first_name: '', last_name: '' })\n    },\n\n    removeAuthor(index) {\n      this.removeItemFromField('authors', index)\n    },\n\n    removeEditor(index) {\n      this.removeItemFromField('editors', index)\n    },\n\n    removeItemFromField(field, index) {\n      this.form[field] = [\n        ...this.form[field].slice(0, index),\n        ...this.form[field].slice(index + 1)\n      ]\n\n      // We don't want to show that error after removing the erroneous field.\n      this.removeErrorForItem(field, index)\n    },\n\n    removeErrorForItem(field, index) {\n      // One problem may occur if we delete the previous field and are left\n      // with error showing for noncorresponding field. We need to shift\n      // the key of all later errors so they match the correct field.\n      const errors = this.form.errors.all()\n      const newErrors = {}\n\n      Object.keys(errors).forEach(errorField => {\n        const match = errorField.match(new RegExp(`^${field}.\\(\\\\d+\\)$`))\n\n        if (match && match[1] > index) {\n          newErrors[`${field}.${match[1] - 1}`] = errors[errorField]\n        } else if (!match) {\n          newErrors[errorField] = errors[errorField]\n        }\n      })\n\n      this.form.errors.record(newErrors)\n    },\n\n    handleAttachmentUploaded(attachment) {\n      this.form.attachment = attachment\n      this.form.attachment_id = attachment.id\n    },\n\n    handleRemovedAttachment() {\n      this.form.attachment = null\n      this.form.attachment_id = null\n    },\n\n    authorHasError(index) {\n      return this.form.errors.has(`authors.${index}`) ||\n        this.form.errors.has(`authors.${index}.first_name`) ||\n        this.form.errors.has(`authors.${index}.last_name`)\n    },\n\n    getAuthorError(index) {\n      return this.form.errors.first(`authors.${index}`) ||\n        this.form.errors.first(`authors.${index}.first_name`) ||\n        this.form.errors.first(`authors.${index}.last_name`)\n    },\n\n    editorHasError(index) {\n      return this.form.errors.has(`editors.${index}`) ||\n        this.form.errors.has(`editors.${index}.first_name`) ||\n        this.form.errors.has(`editors.${index}.last_name`)\n    },\n\n    getEditorError(index) {\n      return this.form.errors.first(`editors.${index}`) ||\n        this.form.errors.first(`editors.${index}.first_name`) ||\n        this.form.errors.first(`editors.${index}.last_name`)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicationForm.vue?vue&type=template&id=437b2a1c&\"\nimport script from \"./PublicationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"publication-form\",attrs:{\"action\":_vm.action,\"method\":_vm.method,\"lang\":_vm.locale},on:{\"submit\":function($event){$event.preventDefault();return _vm.submitWithRedirect($event)}}},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.publications.type'),\"label-for\":\"type\",\"type\":_vm.form.errors.has('type') ? 'is-danger' : null,\"message\":_vm.form.errors.has('type') ? _vm.form.errors.first('type') : null}},[_c('b-select',{attrs:{\"id\":\"type\",\"name\":\"type\",\"expanded\":\"\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.publicationTypes),function(publicationType){return _c('option',{key:publicationType.value,domProps:{\"value\":publicationType.value}},[_vm._v(\"\\n            \"+_vm._s(publicationType.label)+\"\\n          \")])}),0)],1),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.publications.year'),\"label-for\":\"year\",\"type\":_vm.form.errors.has('year') ? 'is-danger' : null,\"message\":_vm.form.errors.has('year') ? _vm.form.errors.first('year') : null}},[_c('b-input',{attrs:{\"id\":\"year\",\"name\":\"year\",\"type\":\"number\",\"expanded\":\"\"},model:{value:(_vm.form.year),callback:function ($$v) {_vm.$set(_vm.form, \"year\", $$v)},expression:\"form.year\"}})],1),_vm._v(\" \"),(_vm.typeHasName)?_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.nameLabel,\"label-for\":\"name\",\"type\":_vm.form.errors.has('name') ? 'is-danger' : null,\"message\":_vm.form.errors.has('name') ? _vm.form.errors.first('name') : null}},[_c('b-input',{attrs:{\"id\":\"name\",\"name\":\"name\",\"expanded\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1):_vm._e(),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.titleLabel,\"label-for\":\"title\",\"type\":_vm.form.errors.has('title') ? 'is-danger' : null,\"message\":_vm.form.errors.has('title') ? _vm.form.errors.first('title') : null}},[_c('b-input',{attrs:{\"id\":\"title\",\"name\":\"title\",\"expanded\":\"\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),(_vm.typeHasPublisher)?_c('b-field',{class:{'is-required': _vm.typeRequiresPublisher},attrs:{\"label\":_vm.trans('labels.publications.publisher'),\"label-for\":\"publisher\",\"type\":_vm.form.errors.has('publisher') ? 'is-danger' : null,\"message\":_vm.form.errors.has('publisher') ? _vm.form.errors.first('publisher') : null}},[_c('b-input',{attrs:{\"id\":\"publisher\",\"name\":\"publisher\",\"expanded\":\"\"},model:{value:(_vm.form.publisher),callback:function ($$v) {_vm.$set(_vm.form, \"publisher\", $$v)},expression:\"form.publisher\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.typeHasIssue)?_c('b-field',{class:{'is-required': _vm.typeRequiresIssue},attrs:{\"label\":_vm.trans('labels.publications.issue'),\"label-for\":\"issue\",\"type\":_vm.form.errors.has('issue') ? 'is-danger' : null,\"message\":_vm.form.errors.has('issue') ? _vm.form.errors.first('issue') : null}},[_c('b-input',{attrs:{\"id\":\"issue\",\"name\":\"issue\",\"expanded\":\"\"},model:{value:(_vm.form.issue),callback:function ($$v) {_vm.$set(_vm.form, \"issue\", $$v)},expression:\"form.issue\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.typeHasPlace)?_c('b-field',{class:{'is-required': _vm.typeRequiresPlace},attrs:{\"label\":_vm.trans('labels.publications.place'),\"label-for\":\"place\",\"type\":_vm.form.errors.has('place') ? 'is-danger' : null,\"message\":_vm.form.errors.has('place') ? _vm.form.errors.first('place') : null}},[_c('b-input',{attrs:{\"id\":\"place\",\"name\":\"place\",\"expanded\":\"\"},model:{value:(_vm.form.place),callback:function ($$v) {_vm.$set(_vm.form, \"place\", $$v)},expression:\"form.place\"}})],1):_vm._e(),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.publications.page_count'),\"label-for\":\"page_count\",\"type\":_vm.form.errors.has('page_count') ? 'is-danger' : null,\"message\":_vm.form.errors.has('page_count') ? _vm.form.errors.first('page_count') : null}},[_c('b-input',{attrs:{\"id\":\"page_count\",\"name\":\"page_count\",\"expanded\":\"\"},model:{value:(_vm.form.page_count),callback:function ($$v) {_vm.$set(_vm.form, \"page_count\", $$v)},expression:\"form.page_count\"}})],1),_vm._v(\" \"),(_vm.typeHasPageRange)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.publications.page_range'),\"label-for\":\"page_range\",\"type\":_vm.form.errors.has('page_range') ? 'is-danger' : null,\"message\":_vm.form.errors.has('page_range') ? _vm.form.errors.first('page_range') : null}},[_c('b-input',{attrs:{\"id\":\"page_range\",\"name\":\"page_range\",\"expanded\":\"\"},model:{value:(_vm.form.page_range),callback:function ($$v) {_vm.$set(_vm.form, \"page_range\", $$v)},expression:\"form.page_range\"}})],1):_vm._e(),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.publications.doi'),\"label-for\":\"doi\",\"type\":_vm.form.errors.has('doi') ? 'is-danger' : null,\"message\":_vm.form.errors.has('doi') ? _vm.form.errors.first('doi') : null}},[_c('b-input',{attrs:{\"id\":\"doi\",\"name\":\"doi\",\"expanded\":\"\"},model:{value:(_vm.form.doi),callback:function ($$v) {_vm.$set(_vm.form, \"doi\", $$v)},expression:\"form.doi\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label-for\":\"citation\",\"type\":_vm.form.errors.has('citation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('citation') ? _vm.form.errors.first('citation') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"citation\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.publications.citation_tooltip')}),expression:\"{content: trans('labels.publications.citation_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n            \"+_vm._s(_vm.trans('labels.publications.citation'))+\"\\n          \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"citation\",\"type\":\"textarea\",\"name\":\"citation\",\"expanded\":\"\"},model:{value:(_vm.form.citation),callback:function ($$v) {_vm.$set(_vm.form, \"citation\", $$v)},expression:\"form.citation\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.publications.authors'),\"type\":_vm.form.errors.has('authors') ? 'is-danger' : null,\"message\":_vm.form.errors.has('authors') ? _vm.form.errors.first('authors') : null,\"addons\":false}},[_vm._l((_vm.form.authors),function(_,i){return _c('b-field',{key:i,attrs:{\"type\":_vm.authorHasError(i) ? 'is-danger' : null,\"message\":_vm.authorHasError(i) ? _vm.getAuthorError(i) : null,\"expanded\":\"\",\"addons\":false}},[_c('b-field',{attrs:{\"type\":_vm.authorHasError(i) ? 'is-danger' : null,\"expanded\":\"\"}},[_c('b-input',{attrs:{\"name\":(\"authors[\" + i + \"][first_name]\"),\"placeholder\":_vm.trans('labels.publications.first_name'),\"expanded\":\"\"},model:{value:(_vm.form.authors[i].first_name),callback:function ($$v) {_vm.$set(_vm.form.authors[i], \"first_name\", $$v)},expression:\"form.authors[i].first_name\"}}),_vm._v(\" \"),_c('b-input',{attrs:{\"name\":(\"authors[\" + i + \"][last_name]\"),\"placeholder\":_vm.trans('labels.publications.last_name'),\"expanded\":\"\"},model:{value:(_vm.form.authors[i].last_name),callback:function ($$v) {_vm.$set(_vm.form.authors[i], \"last_name\", $$v)},expression:\"form.authors[i].last_name\"}}),_vm._v(\" \"),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-danger is-outlined\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeAuthor(i)}}},[_c('b-icon',{attrs:{\"icon\":\"times\",\"size\":\"is-small\"}})],1)])],1)],1)}),_vm._v(\" \"),_c('button',{staticClass:\"button is-secondary is-outlined\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addAuthor}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans('labels.publications.add_author'))+\"\\n        \")])],2),_vm._v(\" \"),(_vm.typeHasEditors)?_c('b-field',{class:{'is-required': _vm.typeRequiresEditors},attrs:{\"label\":_vm.trans('labels.publications.editors'),\"type\":_vm.form.errors.has('editors') ? 'is-danger' : null,\"message\":_vm.form.errors.has('editors') ? _vm.form.errors.first('editors') : null,\"addons\":false}},[_vm._l((_vm.form.editors),function(_,i){return _c('b-field',{key:i,attrs:{\"type\":_vm.editorHasError(i) ? 'is-danger' : null,\"message\":_vm.editorHasError(i) ? _vm.getEditorError(i) : null,\"expanded\":\"\",\"addons\":false}},[_c('b-field',{attrs:{\"type\":_vm.editorHasError(i) ? 'is-danger' : null,\"expanded\":\"\"}},[_c('b-input',{attrs:{\"name\":(\"editors[\" + i + \"][first_name]\"),\"placeholder\":_vm.trans('labels.publications.first_name'),\"expanded\":\"\"},model:{value:(_vm.form.editors[i].first_name),callback:function ($$v) {_vm.$set(_vm.form.editors[i], \"first_name\", $$v)},expression:\"form.editors[i].first_name\"}}),_vm._v(\" \"),_c('b-input',{attrs:{\"name\":(\"editors[\" + i + \"][last_name]\"),\"placeholder\":_vm.trans('labels.publications.last_name'),\"expanded\":\"\"},model:{value:(_vm.form.editors[i].last_name),callback:function ($$v) {_vm.$set(_vm.form.editors[i], \"last_name\", $$v)},expression:\"form.editors[i].last_name\"}}),_vm._v(\" \"),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-danger is-outlined\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeEditor(i)}}},[_c('b-icon',{attrs:{\"icon\":\"times\",\"size\":\"is-small\"}})],1)])],1)],1)}),_vm._v(\" \"),_c('button',{staticClass:\"button is-secondary is-outlined\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addEditor}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans('labels.publications.add_editor'))+\"\\n        \")])],2):_vm._e(),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.publications.link'),\"type\":_vm.form.errors.has('link') ? 'is-danger' : null,\"message\":_vm.form.errors.has(\"link\") ? _vm.form.errors.first(\"link\") : null}},[_c('b-input',{attrs:{\"name\":\"link\",\"expanded\":\"\"},model:{value:(_vm.form.link),callback:function ($$v) {_vm.$set(_vm.form, \"link\", $$v)},expression:\"form.link\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.publications.attachment')}},[_c('nz-publication-attachment-upload',{attrs:{\"attachment-name\":_vm.form.attachment ? _vm.form.attachment.original_name : null},on:{\"uploaded\":_vm.handleAttachmentUploaded,\"removed\":_vm.handleRemovedAttachment}})],1)],1)]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.trans('buttons.save')))]),_vm._v(\" \"),_c('a',{staticClass:\"button\",attrs:{\"href\":_vm.cancelUrl}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationApproved.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationApproved.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.approved') }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityFieldObservationApproved',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./FieldObservationApproved.vue?vue&type=template&id=160ee0cc&\"\nimport script from \"./FieldObservationApproved.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationApproved.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.approved'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationCreated.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationCreated.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.added_record') }} {{ activity.subject_id }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityFieldObservationCreated',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./FieldObservationCreated.vue?vue&type=template&id=6f970986&\"\nimport script from \"./FieldObservationCreated.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationCreated.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.added_record'))+\" \"+_vm._s(_vm.activity.subject_id)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationMarkedUnidentifiable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationMarkedUnidentifiable.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.marked_unidentifiable') }}: {{ activity.properties.reason }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityFieldObservationMarkedUnidentifiable',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./FieldObservationMarkedUnidentifiable.vue?vue&type=template&id=4725b5a1&\"\nimport script from \"./FieldObservationMarkedUnidentifiable.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationMarkedUnidentifiable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.marked_unidentifiable'))+\": \"+_vm._s(_vm.activity.properties.reason)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationMovedToPending.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationMovedToPending.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.moved_to_pending') }}: {{ activity.properties.reason }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityFieldObservationMovedToPending',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./FieldObservationMovedToPending.vue?vue&type=template&id=0ddb07bc&\"\nimport script from \"./FieldObservationMovedToPending.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationMovedToPending.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.moved_to_pending'))+\": \"+_vm._s(_vm.activity.properties.reason)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.changed') }} {{ formatedChanges }}: {{ activity.properties.reason }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityFieldObservationUpdated',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    formatedChanges() {\n      const old = this.activity.properties.old\n\n      return Object.keys(old).map(key => {\n        const val = this.oldValue(old, key)\n        return `${this.trans('labels.field_observations.'+key)}` + (val ? ` (${val})` : '')\n      }).join(', ')\n    }\n  },\n\n  methods: {\n    oldValue(old, key) {\n      const value = old[key]\n\n      if (value === null || value === undefined) {\n        return null\n      }\n\n      if (typeof value === 'object') {\n        return value.label ? this.trans(value.label) : null\n      }\n\n      return value\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationUpdated.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationUpdated.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FieldObservationUpdated.vue?vue&type=template&id=1966923a&\"\nimport script from \"./FieldObservationUpdated.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationUpdated.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.changed'))+\" \"+_vm._s(_vm.formatedChanges)+\": \"+_vm._s(_vm.activity.properties.reason)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-log\">\n    <component\n      v-for=\"activity in activities\"\n      :key=\"activity.id\"\n      :is=\"chooseActivityComponent(activity)\"\n      :activity=\"activity\"\n    />\n  </div>\n</template>\n\n<script>\nimport ActivityFieldObservationApproved from './FieldObservationApproved'\nimport ActivityFieldObservationCreated from './FieldObservationCreated'\nimport ActivityFieldObservationMarkedUnidentifiable from './FieldObservationMarkedUnidentifiable'\nimport ActivityFieldObservationMovedToPending from './FieldObservationMovedToPending'\nimport ActivityFieldObservationUpdated from './FieldObservationUpdated'\n\nexport default {\n  name: 'nzFieldObservationActivityLog',\n\n  components: {\n    [ActivityFieldObservationApproved.name]: ActivityFieldObservationApproved,\n    [ActivityFieldObservationCreated.name]: ActivityFieldObservationCreated,\n    [ActivityFieldObservationMarkedUnidentifiable.name]: ActivityFieldObservationMarkedUnidentifiable,\n    [ActivityFieldObservationMovedToPending.name]: ActivityFieldObservationMovedToPending,\n    [ActivityFieldObservationUpdated.name]: ActivityFieldObservationUpdated\n  },\n\n  props: {\n    activities: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  methods: {\n    chooseActivityComponent(activity) {\n      return `nz-activity-field-observation-${activity.description.split('_').join('-')}`\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationActivityLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationActivityLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FieldObservationActivityLog.vue?vue&type=template&id=cca78604&\"\nimport script from \"./FieldObservationActivityLog.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationActivityLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log\"},_vm._l((_vm.activities),function(activity){return _c(_vm.chooseActivityComponent(activity),{key:activity.id,tag:\"component\",attrs:{\"activity\":activity}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationCreated.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationCreated.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.added_record') }} {{ activity.subject_id }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityLiteratureObservationCreated',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./LiteratureObservationCreated.vue?vue&type=template&id=a24cc888&\"\nimport script from \"./LiteratureObservationCreated.vue?vue&type=script&lang=js&\"\nexport * from \"./LiteratureObservationCreated.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.added_record'))+\" \"+_vm._s(_vm.activity.subject_id)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.changed') }} {{ formatedChanges }}: {{ activity.properties.reason }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityLiteratureObservationUpdated',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    formatedChanges() {\n      const old = this.activity.properties.old\n\n      return Object.keys(old).map(key => {\n        const val = this.oldValue(old, key)\n        return `${this.trans('labels.literature_observations.'+key)}` + (val ? ` (${val})` : '')\n      }).join(', ')\n    }\n  },\n\n  methods: {\n    oldValue(old, key) {\n      const value = old[key]\n\n      if (value === null || value === undefined) {\n        return null\n      }\n\n      if (typeof value === 'object') {\n        return value.label ? this.trans(value.label) : null\n      }\n\n      return value\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationUpdated.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationUpdated.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LiteratureObservationUpdated.vue?vue&type=template&id=658fb8a2&\"\nimport script from \"./LiteratureObservationUpdated.vue?vue&type=script&lang=js&\"\nexport * from \"./LiteratureObservationUpdated.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.changed'))+\" \"+_vm._s(_vm.formatedChanges)+\": \"+_vm._s(_vm.activity.properties.reason)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-log\">\n    <component\n      v-for=\"activity in activities\"\n      :key=\"activity.id\"\n      :is=\"chooseActivityComponent(activity)\"\n      :activity=\"activity\"\n    />\n  </div>\n</template>\n\n<script>\nimport ActivityLiteratureObservationCreated from './LiteratureObservationCreated'\nimport ActivityLiteratureObservationUpdated from './LiteratureObservationUpdated'\n\nexport default {\n  name: 'nzLiteratureObservationActivityLog',\n\n  components: {\n    [ActivityLiteratureObservationCreated.name]: ActivityLiteratureObservationCreated,\n    [ActivityLiteratureObservationUpdated.name]: ActivityLiteratureObservationUpdated\n  },\n\n  props: {\n    activities: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  methods: {\n    chooseActivityComponent(activity) {\n      return `nz-activity-literature-observation-${activity.description.split('_').join('-')}`\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationActivityLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationActivityLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LiteratureObservationActivityLog.vue?vue&type=template&id=6bf7634a&\"\nimport script from \"./LiteratureObservationActivityLog.vue?vue&type=script&lang=js&\"\nexport * from \"./LiteratureObservationActivityLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log\"},_vm._l((_vm.activities),function(activity){return _c(_vm.chooseActivityComponent(activity),{key:activity.id,tag:\"component\",attrs:{\"activity\":activity}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonCreated.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonCreated.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.added_record') }} {{ activity.subject_id }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityTaxonCreated',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TaxonCreated.vue?vue&type=template&id=a5f06644&\"\nimport script from \"./TaxonCreated.vue?vue&type=script&lang=js&\"\nexport * from \"./TaxonCreated.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.added_record'))+\" \"+_vm._s(_vm.activity.subject_id)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-log-item\">\n    {{ activity.created_at | formatDateTime }} {{ activity.causer.full_name }} {{ trans('activityLog.changed') }} {{ formatedChanges }}: {{ activity.properties.reason }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzActivityTaxonUpdated',\n\n  props: {\n    activity: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    formatedChanges() {\n      const old = this.activity.properties.old\n\n      return Object.keys(old).map(key => {\n        const val = this.oldValue(old, key)\n        return `${this.trans('labels.taxa.'+key)}` + (val ? ` (${val})` : '')\n      }).join(', ')\n    }\n  },\n\n  methods: {\n    oldValue(old, key) {\n      const value = old[key]\n\n      if (value === null || value === undefined) {\n        return null\n      }\n\n      if (typeof value === 'object') {\n        return value.label ? this.trans(value.label) : null\n      }\n\n      return value\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonUpdated.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonUpdated.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaxonUpdated.vue?vue&type=template&id=0d26ab02&\"\nimport script from \"./TaxonUpdated.vue?vue&type=script&lang=js&\"\nexport * from \"./TaxonUpdated.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log-item\"},[_vm._v(\"\\n  \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.activity.created_at))+\" \"+_vm._s(_vm.activity.causer.full_name)+\" \"+_vm._s(_vm.trans('activityLog.changed'))+\" \"+_vm._s(_vm.formatedChanges)+\": \"+_vm._s(_vm.activity.properties.reason)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-log\">\n    <component\n      v-for=\"activity in activities\"\n      :key=\"activity.id\"\n      :is=\"chooseActivityComponent(activity)\"\n      :activity=\"activity\"\n    />\n  </div>\n</template>\n\n<script>\nimport ActivityTaxonCreated from './TaxonCreated'\nimport ActivityTaxonUpdated from './TaxonUpdated'\n\nexport default {\n  name: 'nzTaxonActivityLog',\n\n  components: {\n    [ActivityTaxonCreated.name]: ActivityTaxonCreated,\n    [ActivityTaxonUpdated.name]: ActivityTaxonUpdated,\n  },\n\n  props: {\n    activities: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  methods: {\n    chooseActivityComponent(activity) {\n      return `nz-activity-taxon-${activity.description.replace('_', '-')}`\n    }\n  }\n}\n</script>\n\n<style lang=\"css\">\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonActivityLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonActivityLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaxonActivityLog.vue?vue&type=template&id=c063f276&\"\nimport script from \"./TaxonActivityLog.vue?vue&type=script&lang=js&\"\nexport * from \"./TaxonActivityLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity-log\"},_vm._l((_vm.activities),function(activity){return _c(_vm.chooseActivityComponent(activity),{key:activity.id,tag:\"component\",attrs:{\"activity\":activity}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-card\">\n    <div class=\"modal-card-head\">\n      <p class=\"modal-card-title\">{{ trans('labels.exports.title') }}</p>\n    </div>\n\n    <div class=\"modal-card-body\">\n      <template v-if=\"processing\">\n        {{ trans('labels.exports.processing') }}\n\n        <span class=\"loader mr-2 is-inline-block\"></span>\n      </template>\n\n      <template v-else>\n        <b-field>\n          <b-checkbox v-model=\"onlyChecked\">{{ trans('labels.exports.only_checked') }}</b-checkbox>\n        </b-field>\n\n        <b-field>\n          <b-checkbox v-model=\"applyFilters\">{{ trans('labels.exports.apply_filters') }}</b-checkbox>\n        </b-field>\n\n        <b-field\n          :type=\"form.errors.has('with_header') ? 'is-danger' : null\"\n          :message=\"form.errors.first('with_header')\"\n        >\n          <b-checkbox v-model=\"withHeader\">{{ trans('labels.exports.with_header') }}</b-checkbox>\n        </b-field>\n\n        <div class=\"field\">\n          <p class=\"help is-danger\" v-if=\"form.errors.has('columns')\">{{ form.errors.first('columns') }}</p>\n\n          <nz-columns-picker v-model=\"selectedColumns\" :columns=\"columns\" :title=\"trans('labels.exports.columns')\"/>\n        </div>\n      </template>\n    </div>\n\n    <div class=\"modal-card-foot\" v-if=\"!processing\">\n      <button type=\"button\" class=\"button is-primary\" @click=\"sendExportRequest\">{{ trans('buttons.export') }}</button>\n\n      <button type=\"button\" class=\"button\" @click=\"$emit('cancel')\">{{ trans('buttons.cancel') }}</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'nzCustomExport',\n\n  props: {\n    checked: {\n      type: Array,\n      default: () => []\n    },\n\n    filter: {\n      type: Object,\n      default: () => ({})\n    },\n\n    columns: {\n     type: [Array, Object],\n     required: true\n    },\n\n    url: {\n      type: String,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      onlyChecked: false,\n      applyFilters: true,\n      processing: false,\n      currentExport: null,\n      selectedColumns: [],\n      withHeader: false,\n      form: new Form(),\n    }\n  },\n\n  computed: {\n    filters() {\n      let filters = {}\n\n      if (this.applyFilters) {\n        filters = Object.assign(filters, this.filter)\n      }\n\n      if (this.onlyChecked) {\n        filters.id = this.checked\n      }\n\n      return filters\n    },\n\n    exportStatus() {\n      return _get(this.currentExport, 'status')\n    },\n\n    exportFinished() {\n      return this.exportStatus === 'finished'\n    },\n\n    exportFailed() {\n      return this.exportStatus === 'failed'\n    }\n  },\n\n  methods: {\n    sendExportRequest() {\n      if (this.processing) return\n\n      this.processing = true\n\n      this.form.withData({\n        ...this.filters,\n        columns: this.selectedColumns,\n        with_header: this.withHeader,\n      }).post(this.url).then((response) => {\n          this.startCheckingStatus(response)\n      }).catch((e) => {\n        this.processing = false\n      })\n    },\n\n    startCheckingStatus(data) {\n      this.currentExport = data\n      this.checkInterval = setInterval(() => {\n        this.checkExportStatus()\n      }, 2000)\n    },\n\n    checkExportStatus() {\n      axios.get(`/api/exports/${this.currentExport.id}`).then(({ data }) => {\n        this.currentExport = data\n\n        if (this.exportFailed || this.exportFinished) {\n          clearInterval(this.checkInterval)\n          this.processing = false\n\n          this.$emit('done', this.currentExport)\n        }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomExport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomExport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomExport.vue?vue&type=template&id=caa7abea&\"\nimport script from \"./CustomExport.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomExport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-card\"},[_c('div',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('labels.exports.title')))])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-card-body\"},[(_vm.processing)?[_vm._v(\"\\n      \"+_vm._s(_vm.trans('labels.exports.processing'))+\"\\n\\n      \"),_c('span',{staticClass:\"loader mr-2 is-inline-block\"})]:[_c('b-field',[_c('b-checkbox',{model:{value:(_vm.onlyChecked),callback:function ($$v) {_vm.onlyChecked=$$v},expression:\"onlyChecked\"}},[_vm._v(_vm._s(_vm.trans('labels.exports.only_checked')))])],1),_vm._v(\" \"),_c('b-field',[_c('b-checkbox',{model:{value:(_vm.applyFilters),callback:function ($$v) {_vm.applyFilters=$$v},expression:\"applyFilters\"}},[_vm._v(_vm._s(_vm.trans('labels.exports.apply_filters')))])],1),_vm._v(\" \"),_c('b-field',{attrs:{\"type\":_vm.form.errors.has('with_header') ? 'is-danger' : null,\"message\":_vm.form.errors.first('with_header')}},[_c('b-checkbox',{model:{value:(_vm.withHeader),callback:function ($$v) {_vm.withHeader=$$v},expression:\"withHeader\"}},[_vm._v(_vm._s(_vm.trans('labels.exports.with_header')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[(_vm.form.errors.has('columns'))?_c('p',{staticClass:\"help is-danger\"},[_vm._v(_vm._s(_vm.form.errors.first('columns')))]):_vm._e(),_vm._v(\" \"),_c('nz-columns-picker',{attrs:{\"columns\":_vm.columns,\"title\":_vm.trans('labels.exports.columns')},model:{value:(_vm.selectedColumns),callback:function ($$v) {_vm.selectedColumns=$$v},expression:\"selectedColumns\"}})],1)]],2),_vm._v(\" \"),(!_vm.processing)?_c('div',{staticClass:\"modal-card-foot\"},[_c('button',{staticClass:\"button is-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.sendExportRequest}},[_vm._v(_vm._s(_vm.trans('buttons.export')))]),_vm._v(\" \"),_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-card\">\n    <div class=\"modal-card-head\">\n      <p class=\"modal-card-title\">{{ trans('labels.exports.title') }}</p>\n    </div>\n\n    <div class=\"modal-card-body\">\n      <template v-if=\"processing\">\n        {{ trans('labels.exports.processing') }}\n\n        <span class=\"loader mr-2 is-inline-block\"></span>\n      </template>\n\n      <template v-else>\n        <b-field\n          v-if=\"types.length > 1\"\n          :type=\"form.errors.has('type') ? 'is-danger' : null\"\n          :message=\"form.errors.first('type')\"\n        >\n          <b-radio\n            v-for=\"exportType in types\"\n            v-model=\"type\"\n            :native-value=\"exportType\"\n            :key=\"exportType\"\n          >\n            {{ trans(`labels.exports.types.${exportType}`) }}\n          </b-radio>\n        </b-field>\n\n        <b-field>\n          <b-checkbox v-model=\"onlyChecked\">{{ trans('labels.exports.only_checked') }}</b-checkbox>\n        </b-field>\n\n        <b-field>\n          <b-checkbox v-model=\"applyFilters\">{{ trans('labels.exports.apply_filters') }}</b-checkbox>\n        </b-field>\n\n        <template v-if=\"isCustom\">\n          <b-field\n            :type=\"form.errors.has('with_header') ? 'is-danger' : null\"\n            :message=\"form.errors.first('with_header')\"\n          >\n            <b-checkbox v-model=\"withHeader\">{{ trans('labels.exports.with_header') }}</b-checkbox>\n          </b-field>\n\n          <div class=\"field\">\n            <p class=\"help is-danger\" v-if=\"form.errors.has('columns')\">{{ form.errors.first('columns') }}</p>\n\n            <nz-columns-picker v-model=\"selectedColumns\" :columns=\"columns\" :title=\"trans('labels.exports.columns')\"/>\n          </div>\n        </template>\n      </template>\n    </div>\n\n    <div class=\"modal-card-foot\" v-if=\"!processing\">\n      <button type=\"button\" class=\"button is-primary\" @click=\"sendExportRequest\">{{ trans('buttons.export') }}</button>\n\n      <button type=\"button\" class=\"button\" @click=\"$emit('cancel')\">{{ trans('buttons.cancel') }}</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'nzExportModal',\n\n  props: {\n    checked: {\n      type: Array,\n      default: () => []\n    },\n\n    filter: {\n      type: Object,\n      default: () => ({})\n    },\n\n    columns: {\n      type: [Array, Object],\n      required: true\n    },\n\n    url: {\n      type: String,\n      required: true\n    },\n    types: {\n      type: Array,\n      default: () => ['custom', 'darwin_core'],\n      validator: value => value.length > 0\n    },\n    sort: String\n  },\n\n  data() {\n    return {\n      onlyChecked: false,\n      applyFilters: true,\n      processing: false,\n      currentExport: null,\n      selectedColumns: [],\n      withHeader: false,\n      type: this.types[0],\n      form: new Form(),\n    }\n  },\n\n  computed: {\n    filters() {\n      let filters = {}\n\n      if (this.applyFilters) {\n        filters = Object.assign(filters, this.filter)\n      }\n\n      if (this.onlyChecked) {\n        filters.id = this.checked\n      }\n\n      return filters\n    },\n\n    exportStatus() {\n      return _get(this.currentExport, 'status')\n    },\n\n    exportFinished() {\n      return this.exportStatus === 'finished'\n    },\n\n    exportFailed() {\n      return this.exportStatus === 'failed'\n    },\n\n    isCustom() {\n      return this.type === 'custom'\n    }\n  },\n\n  methods: {\n    sendExportRequest() {\n      if (this.processing) return\n\n      this.processing = true\n\n      this.form.withData({\n        ...this.filters,\n        sort_by: this.sort,\n        columns: this.selectedColumns,\n        with_header: this.withHeader,\n        type: this.type\n      }).post(this.url).then((response) => {\n        this.startCheckingStatus(response)\n      }).catch((e) => {\n        this.processing = false\n      })\n    },\n\n    startCheckingStatus(data) {\n      this.currentExport = data\n      this.checkInterval = setInterval(() => {\n        this.checkExportStatus()\n      }, 2000)\n    },\n\n    checkExportStatus() {\n      axios.get(`/api/exports/${this.currentExport.id}`).then(({ data }) => {\n        this.currentExport = data\n\n        if (this.exportFailed || this.exportFinished) {\n         clearInterval(this.checkInterval)\n         this.processing = false\n\n         this.$emit('done', this.currentExport)\n        }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportModal.vue?vue&type=template&id=768e45ce&\"\nimport script from \"./ExportModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-card\"},[_c('div',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('labels.exports.title')))])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-card-body\"},[(_vm.processing)?[_vm._v(\"\\n      \"+_vm._s(_vm.trans('labels.exports.processing'))+\"\\n\\n      \"),_c('span',{staticClass:\"loader mr-2 is-inline-block\"})]:[(_vm.types.length > 1)?_c('b-field',{attrs:{\"type\":_vm.form.errors.has('type') ? 'is-danger' : null,\"message\":_vm.form.errors.first('type')}},_vm._l((_vm.types),function(exportType){return _c('b-radio',{key:exportType,attrs:{\"native-value\":exportType},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans((\"labels.exports.types.\" + exportType)))+\"\\n        \")])}),1):_vm._e(),_vm._v(\" \"),_c('b-field',[_c('b-checkbox',{model:{value:(_vm.onlyChecked),callback:function ($$v) {_vm.onlyChecked=$$v},expression:\"onlyChecked\"}},[_vm._v(_vm._s(_vm.trans('labels.exports.only_checked')))])],1),_vm._v(\" \"),_c('b-field',[_c('b-checkbox',{model:{value:(_vm.applyFilters),callback:function ($$v) {_vm.applyFilters=$$v},expression:\"applyFilters\"}},[_vm._v(_vm._s(_vm.trans('labels.exports.apply_filters')))])],1),_vm._v(\" \"),(_vm.isCustom)?[_c('b-field',{attrs:{\"type\":_vm.form.errors.has('with_header') ? 'is-danger' : null,\"message\":_vm.form.errors.first('with_header')}},[_c('b-checkbox',{model:{value:(_vm.withHeader),callback:function ($$v) {_vm.withHeader=$$v},expression:\"withHeader\"}},[_vm._v(_vm._s(_vm.trans('labels.exports.with_header')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[(_vm.form.errors.has('columns'))?_c('p',{staticClass:\"help is-danger\"},[_vm._v(_vm._s(_vm.form.errors.first('columns')))]):_vm._e(),_vm._v(\" \"),_c('nz-columns-picker',{attrs:{\"columns\":_vm.columns,\"title\":_vm.trans('labels.exports.columns')},model:{value:(_vm.selectedColumns),callback:function ($$v) {_vm.selectedColumns=$$v},expression:\"selectedColumns\"}})],1)]:_vm._e()]],2),_vm._v(\" \"),(!_vm.processing)?_c('div',{staticClass:\"modal-card-foot\"},[_c('button',{staticClass:\"button is-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.sendExportRequest}},[_vm._v(_vm._s(_vm.trans('buttons.export')))]),_vm._v(\" \"),_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsImport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsImport.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"field-observations-import\">\n    <div class=\"is-flex is-flex-center flex-col\" v-if=\"importing\">\n      <div class=\"is-flex is-flex-center\">\n        <span class=\"loader mr-2\"></span>\n\n        <span class=\"has-loader\" v-if=\"currentImport\">{{ importStatus }}</span>\n      </div>\n\n      <button\n        type=\"button\"\n        class=\"button is-text has-text-danger\"\n        v-if=\"cancellable\"\n        @click=\"cancel\"\n      >{{ trans('buttons.cancel') }}</button>\n    </div>\n\n    <div v-else>\n      <b-notification type=\"is-success\" :active.sync=\"showSuccessMessage\">\n        {{ trans('imports.success') }}\n      </b-notification>\n\n      <nz-user-autocomplete\n        v-if=\"canSubmitForUser\"\n        :label=\"trans('labels.imports.user')\"\n        :placeholder=\"userFullName\"\n        @select=\"setUserId\"\n        v-model=\"user\"\n      />\n\n      <div class=\"level mb-4\">\n        <div class=\"level-left\">\n          <div class=\"level-item\">\n            <div class=\"buttons\">\n              <button\n                type=\"button\"\n                class=\"button is-outlined\"\n                :class=\"[showColumnsSelection ? 'is-primary' : '']\"\n                @click=\"toggleColumns\"\n                v-if=\"!importing\"\n              >{{ trans('labels.imports.choose_columns') }}</button>\n            </div>\n          </div>\n\n          <div class=\"level-item\">\n            <b-field class=\"file\" v-if=\"!importing\">\n              <b-upload v-model=\"file\" accept=\".csv\">\n                <a class=\"button\">\n                  <span>{{ trans('labels.imports.select_csv_file') }}</span>\n                </a>\n              </b-upload>\n\n              <span class=\"file-name\" v-if=\"file\">{{ file.name }}</span>\n            </b-field>\n          </div>\n        </div>\n\n        <div class=\"level-right\">\n          <div class=\"level-item\">\n            <button\n              type=\"button\"\n              class=\"button is-primary is-outlined\"\n              :disabled=\"!canSubmit\"\n              @click=\"submit\"\n            >\n              <b-icon icon=\"upload\"></b-icon>\n\n              <span>{{ trans('labels.imports.import') }}</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <b-checkbox v-model=\"hasHeading\">{{ trans('labels.imports.has_heading') }}</b-checkbox>\n\n      <div v-if=\"canApproveCurated\">\n        <b-checkbox v-model=\"approveCurated\">{{ trans('labels.imports.approve_curated') }}</b-checkbox>\n      </div>\n    </div>\n\n    <b-collapse :open=\"showColumnsSelection\">\n      <nz-columns-picker :columns=\"columns\" v-model=\"selectedColumns\" :title=\"trans('labels.imports.columns')\"/>\n    </b-collapse>\n\n    <b-table\n      v-if=\"validationErrors.length\"\n      :data=\"validationErrors\"\n      :paginated=\"true\"\n      :per-page=\"30\"\n      :current-page.sync=\"currentErrorsPage\"\n      class=\"is-danger\">\n\n      <template slot-scope=\"props\">\n          <b-table-column field=\"row\" :label=\"trans('labels.imports.row_number')\">\n              {{ props.row.row }}\n          </b-table-column>\n\n          <b-table-column field=\"error\" :label=\"trans('labels.imports.error')\">\n              {{ props.row.error }}\n          </b-table-column>\n      </template>\n    </b-table>\n  </div>\n</template>\n\n<script>\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'nzFieldObservationsImport',\n\n  props: {\n    columns: {\n      type: Array,\n      default: () => []\n    },\n\n    initial: {\n      type: Array,\n      default: () => []\n    },\n\n    runningImport: Object,\n\n    cancellableStatuses: {\n      type: Array,\n      default: () => []\n    },\n\n    canSubmitForUser: Boolean,\n    canApproveCurated: Boolean,\n  },\n\n  data() {\n    return {\n      selectedColumns: this.initial,\n      showColumnsSelection: false,\n      file: null,\n      importing: false,\n      currentImport: this.runningImport,\n      validationErrors: [],\n      currentErrorsPage: 1,\n      submissionErrors: null,\n      hasHeading: false,\n      approveCurated: false,\n      showSuccessMessage: false,\n      cancelling: false,\n      userId: null,\n      user: null\n    }\n  },\n\n  computed: {\n    canSubmit() {\n      return !this.importing && this.file\n    },\n\n    validationFailed() {\n      return _get(this.currentImport, 'status') === 'validation_failed'\n    },\n\n    saved() {\n      return _get(this.currentImport, 'status') === 'saved'\n    },\n\n    savingFailed() {\n      return _get(this.currentImport, 'status') === 'saving_failed'\n    },\n\n    cancelled() {\n      return _get(this.currentImport, 'status') === 'cancelled'\n    },\n\n    importStatus() {\n      const status = _get(this.currentImport, 'status')\n\n      return this.trans(`imports.status.${status}`)\n    },\n\n    cancellable() {\n      return this.currentImport &&\n        this.cancellableStatuses.includes(this.currentImport.status) &&\n        !this.cancelling\n    },\n\n    userFullName() {\n      return window.App.User.full_name\n    }\n  },\n\n  created() {\n    if (this.currentImport && !this.saved) {\n      this.importing = true\n\n      this.startCheckingStatus()\n    }\n  },\n\n  methods: {\n    toggleColumns() {\n      this.showColumnsSelection = !this.showColumnsSelection\n    },\n\n    submit() {\n      if (!this.canSubmit) return\n\n      this.resetForm()\n      this.importing = true\n      this.currentImport = null\n\n      axios.post('/api/field-observation-imports', this.makeForm())\n        .then(this.handleSuccessfulSubmit)\n        .catch(this.handleFailedSubmit)\n    },\n\n    makeForm() {\n      const form = new FormData()\n\n      form.append('file', this.file)\n      this.selectedColumns.forEach((column) => {\n        form.append('columns[]', column)\n      })\n\n      if (this.hasHeading) {\n        form.append('has_heading', 1)\n      }\n\n      form.append('user_id', this.userId || '')\n\n      if (this.approveCurated) {\n        form.append('options[approve_curated]', 1)\n      }\n\n      return form\n    },\n\n    resetForm() {\n      this.validationErrors = []\n      this.currentErrorsPage = 1\n      this.showColumnsSelection = false\n      this.submissionErrors = null\n    },\n\n    handleSuccessfulSubmit({ data }) {\n      this.currentImport = data\n      this.file = null\n\n      this.startCheckingStatus()\n    },\n\n    handleFailedSubmit(error) {\n      this.importing = false\n      this.submissionErrors = _get(error, 'response.data.errors', [])\n\n      this.$buefy.toast.open({\n        duration: 2500,\n        message: _get(error, 'response.data.message'),\n        type: 'is-danger'\n      })\n    },\n\n    startCheckingStatus() {\n      this.interval = setInterval(() => {\n        this.checkStatus()\n      }, 2500)\n    },\n\n    checkStatus() {\n      return axios.get(`/api/field-observation-imports/${this.currentImport.id}`).then(({ data }) => {\n        this.currentImport = data\n\n        if (this.validationFailed) {\n          return this.handleFailedValidation()\n        }\n\n        if (this.savingFailed) {\n          return this.handleFailedSaving()\n        }\n\n        if (this.cancelled) {\n          return this.stopCheckingImport()\n        }\n\n        if (this.saved) {\n          this.handleStored()\n        }\n      })\n    },\n\n    showValiadtionErrors() {\n      return axios.get(this.currentImport.errors_url).then(({ data }) => {\n        this.validationErrors = data\n      })\n    },\n\n    handleFailedValidation() {\n      this.$buefy.toast.open({\n        duration: 2500,\n        message: this.trans('imports.validation_failed'),\n        type: 'is-danger'\n      })\n\n      this.showColumnsSelection = false\n\n      this.showValiadtionErrors()\n\n      this.stopCheckingImport()\n    },\n\n    handleFailedSaving() {\n      this.$buefy.toast.open({\n        duration: 2500,\n        message: this.trans('imports.saving_failed'),\n        type: 'is-danger'\n      })\n\n      this.showColumnsSelection = false\n\n      this.stopCheckingImport()\n    },\n\n    handleStored() {\n      this.showSuccessMessage = true\n\n      this.stopCheckingImport()\n    },\n\n    cancel() {\n      if (!this.cancellable) return\n\n      this.cancelling = true\n\n      axios.post('/api/cancelled-imports', {\n        import_id: this.currentImport.id,\n      }).then(() => {\n        this.cancelling = false\n\n        this.stopCheckingImport()\n      }).catch(() => {\n        this.cancelling = false\n      })\n    },\n\n    stopCheckingImport() {\n      clearInterval(this.interval)\n      this.importing = false\n      this.currentImport = null\n    },\n\n    setUserId(userId) {\n      this.userId = userId ? userId.id : null\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .buttons {\n    .field {\n      margin-bottom: 0;\n\n      &.file {\n        margin-right: .5rem;\n      }\n\n      .upload {\n        &:hover {\n          cursor: pointer;\n        }\n\n        .button {\n          margin-right: 0;\n\n        }\n      }\n    }\n  }\n</style>\n","import { render, staticRenderFns } from \"./FieldObservationsImport.vue?vue&type=template&id=9ca2001e&scoped=true&\"\nimport script from \"./FieldObservationsImport.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationsImport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FieldObservationsImport.vue?vue&type=style&index=0&id=9ca2001e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ca2001e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-observations-import\"},[(_vm.importing)?_c('div',{staticClass:\"is-flex is-flex-center flex-col\"},[_c('div',{staticClass:\"is-flex is-flex-center\"},[_c('span',{staticClass:\"loader mr-2\"}),_vm._v(\" \"),(_vm.currentImport)?_c('span',{staticClass:\"has-loader\"},[_vm._v(_vm._s(_vm.importStatus))]):_vm._e()]),_vm._v(\" \"),(_vm.cancellable)?_c('button',{staticClass:\"button is-text has-text-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))]):_vm._e()]):_c('div',[_c('b-notification',{attrs:{\"type\":\"is-success\",\"active\":_vm.showSuccessMessage},on:{\"update:active\":function($event){_vm.showSuccessMessage=$event}}},[_vm._v(\"\\n      \"+_vm._s(_vm.trans('imports.success'))+\"\\n    \")]),_vm._v(\" \"),(_vm.canSubmitForUser)?_c('nz-user-autocomplete',{attrs:{\"label\":_vm.trans('labels.imports.user'),\"placeholder\":_vm.userFullName},on:{\"select\":_vm.setUserId},model:{value:(_vm.user),callback:function ($$v) {_vm.user=$$v},expression:\"user\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"level mb-4\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('div',{staticClass:\"buttons\"},[(!_vm.importing)?_c('button',{staticClass:\"button is-outlined\",class:[_vm.showColumnsSelection ? 'is-primary' : ''],attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleColumns}},[_vm._v(_vm._s(_vm.trans('labels.imports.choose_columns')))]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"level-item\"},[(!_vm.importing)?_c('b-field',{staticClass:\"file\"},[_c('b-upload',{attrs:{\"accept\":\".csv\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}},[_c('a',{staticClass:\"button\"},[_c('span',[_vm._v(_vm._s(_vm.trans('labels.imports.select_csv_file')))])])]),_vm._v(\" \"),(_vm.file)?_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(_vm.file.name))]):_vm._e()],1):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button is-primary is-outlined\",attrs:{\"type\":\"button\",\"disabled\":!_vm.canSubmit},on:{\"click\":_vm.submit}},[_c('b-icon',{attrs:{\"icon\":\"upload\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('labels.imports.import')))])],1)])])]),_vm._v(\" \"),_c('b-checkbox',{model:{value:(_vm.hasHeading),callback:function ($$v) {_vm.hasHeading=$$v},expression:\"hasHeading\"}},[_vm._v(_vm._s(_vm.trans('labels.imports.has_heading')))]),_vm._v(\" \"),(_vm.canApproveCurated)?_c('div',[_c('b-checkbox',{model:{value:(_vm.approveCurated),callback:function ($$v) {_vm.approveCurated=$$v},expression:\"approveCurated\"}},[_vm._v(_vm._s(_vm.trans('labels.imports.approve_curated')))])],1):_vm._e()],1),_vm._v(\" \"),_c('b-collapse',{attrs:{\"open\":_vm.showColumnsSelection}},[_c('nz-columns-picker',{attrs:{\"columns\":_vm.columns,\"title\":_vm.trans('labels.imports.columns')},model:{value:(_vm.selectedColumns),callback:function ($$v) {_vm.selectedColumns=$$v},expression:\"selectedColumns\"}})],1),_vm._v(\" \"),(_vm.validationErrors.length)?_c('b-table',{staticClass:\"is-danger\",attrs:{\"data\":_vm.validationErrors,\"paginated\":true,\"per-page\":30,\"current-page\":_vm.currentErrorsPage},on:{\"update:currentPage\":function($event){_vm.currentErrorsPage=$event},\"update:current-page\":function($event){_vm.currentErrorsPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-table-column',{attrs:{\"field\":\"row\",\"label\":_vm.trans('labels.imports.row_number')}},[_vm._v(\"\\n            \"+_vm._s(props.row.row)+\"\\n        \")]),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"error\",\"label\":_vm.trans('labels.imports.error')}},[_vm._v(\"\\n            \"+_vm._s(props.row.error)+\"\\n        \")])]}}],null,false,2183879962)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationApproval.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationApproval.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"level-right\">\n    <div class=\"level-item\" v-if=\"approveUrl\">\n      <button\n        type=\"button\"\n        class=\"button\"\n        :class=\"{'is-loading': approving}\"\n        @click=\"confirmApprove\"\n        :disabled=\"busy\"\n      >\n        <b-icon icon=\"check\" class=\"has-text-success\" />\n\n        <span>{{ trans('buttons.approve') }}</span>\n      </button>\n    </div>\n\n    <div class=\"level-item\" v-if=\"markAsUnidentifiableUrl\">\n      <button\n        type=\"button\"\n        class=\"button\"\n        :class=\"{'is-loading': markingAsUnidentifiable}\"\n        @click=\"confirmMarkingAsUnidentifiable\"\n        :disabled=\"busy\"\n      >\n        <b-icon icon=\"times\" class=\"has-text-danger\" />\n\n        <span>{{ trans('buttons.unidentifiable') }}</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'nzFieldObservationApproval',\n\n  props: {\n    approveUrl: String,\n    markAsUnidentifiableUrl: String,\n\n    redirectUrl: {\n      type: String,\n      required: true\n    },\n\n    fieldObservation: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      approving: false,\n      markingAsUnidentifiable: false\n    }\n  },\n\n  computed: {\n    busy() {\n      return this.approving || this.markingAsUnidentifiable\n    }\n  },\n\n  methods: {\n    confirmApprove() {\n      this.$buefy.dialog.confirm({\n        message: this.trans('You are about to approve this field observation'),\n        confirmText: this.trans('buttons.approve'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-primary',\n        onConfirm: this.approve.bind(this)\n      })\n    },\n\n    approve() {\n      this.approving = true;\n\n      axios.post(this.approveUrl, {\n        field_observation_ids: [this.fieldObservation.id]\n      }).then(this.successfullyApproved).catch(this.failedToApprove)\n    },\n\n    successfullyApproved() {\n      this.$buefy.toast.open({\n        message: this.trans('Observation has been approved'),\n        type: 'is-success'\n      });\n\n      setTimeout(() => {\n        this.approving = false;\n\n        window.location.href = this.redirectUrl\n      }, 1000)\n    },\n\n    failedToApprove(error) {\n      this.approving = false\n\n      this.$buefy.toast.open({\n        message: this.trans('Observation cannot be approved'),\n        type: 'is-danger',\n        duration: 5000\n      })\n    },\n\n    confirmMarkingAsUnidentifiable() {\n      const dialog = this.$buefy.dialog.prompt({\n        message: this.trans('You are about to mark observation as unidentifiable. What\\'s the reason?'),\n        confirmText: this.trans('buttons.mark_unidentifiable'),\n        cancelText: this.trans('buttons.cancel'),\n        type: 'is-warning',\n        inputAttrs: {\n            placeholder: this.trans('Reason'),\n            required: true,\n            maxlength: 255\n        },\n        onConfirm: this.markAsUnidentifiable.bind(this)\n      })\n\n      dialog.$nextTick(() => {\n        this.validateReason(dialog);\n      })\n    },\n\n    markAsUnidentifiable(reason) {\n      this.markingAsUnidentifiable = true\n\n      axios.post(this.markAsUnidentifiableUrl, {\n        field_observation_ids: [this.fieldObservation.id],\n        reason\n      }).then(this.successfullyMarkedAsUnidentifiable)\n      .catch(this.failedToMarkAsUnidentifiable)\n    },\n\n    successfullyMarkedAsUnidentifiable() {\n      this.$buefy.toast.open({\n        message: this.trans('Observation has been marked as unidentifiable'),\n        type: 'is-success'\n      })\n\n      setTimeout(() => {\n        this.markingAsUnidentifiable = false\n\n        window.location.href = this.redirectUrl\n      }, 1000)\n    },\n\n    failedToMarkAsUnidentifiable(error) {\n      this.markingAsUnidentifiable = false\n      this.$buefy.toast.open({\n        message: this.trans('This observation cannot be marked as unidentifiable'),\n        type: 'is-danger',\n        duration: 5000\n      })\n    },\n\n    validateReason(dialog) {\n      dialog.$refs.input.addEventListener('invalid', (e) => {\n        e.target.setCustomValidity('')\n\n        if (!e.target.validity.valid) {\n          e.target.setCustomValidity(this.trans('This field is required and can contain max 255 chars.'))\n        }\n      });\n\n      dialog.$refs.input.addEventListener('input', (e) => {\n        dialog.validationMessage = null\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./FieldObservationApproval.vue?vue&type=template&id=7a72b818&\"\nimport script from \"./FieldObservationApproval.vue?vue&type=script&lang=js&\"\nexport * from \"./FieldObservationApproval.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"level-right\"},[(_vm.approveUrl)?_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button\",class:{'is-loading': _vm.approving},attrs:{\"type\":\"button\",\"disabled\":_vm.busy},on:{\"click\":_vm.confirmApprove}},[_c('b-icon',{staticClass:\"has-text-success\",attrs:{\"icon\":\"check\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.approve')))])],1)]):_vm._e(),_vm._v(\" \"),(_vm.markAsUnidentifiableUrl)?_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button\",class:{'is-loading': _vm.markingAsUnidentifiable},attrs:{\"type\":\"button\",\"disabled\":_vm.busy},on:{\"click\":_vm.confirmMarkingAsUnidentifiable}},[_c('b-icon',{staticClass:\"has-text-danger\",attrs:{\"icon\":\"times\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.unidentifiable')))])],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 800 600\">\n      <g>\n        <rect x=\"70\" y=\"30\" width=\"62\" height=\"500\" fill=\"#ffffff\"></rect>\n        <text x=\"101\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">I</text>\n\n        <rect x=\"132\" y=\"30\" width=\"56\" height=\"500\" fill=\"#eeeeee\"></rect>\n        <text x=\"160\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">II</text>\n\n        <rect x=\"188\" y=\"30\" width=\"62\" height=\"500\" fill=\"#ffffff\"></rect>\n        <text x=\"219\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">III</text>\n\n        <rect x=\"250\" y=\"30\" width=\"60\" height=\"500\" fill=\"#eeeeee\"></rect>\n        <text x=\"280\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">IV</text>\n\n        <rect x=\"310\" y=\"30\" width=\"62\" height=\"500\" fill=\"#ffffff\"></rect>\n        <text x=\"341\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">V</text>\n\n        <rect x=\"372\" y=\"30\" width=\"60\" height=\"500\" fill=\"#eeeeee\"></rect>\n        <text x=\"402\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">VI</text>\n\n        <rect x=\"432\" y=\"30\" width=\"62\" height=\"500\" fill=\"#ffffff\"></rect>\n        <text x=\"463\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">VII</text>\n\n        <rect x=\"494\" y=\"30\" width=\"62\" height=\"500\" fill=\"#eeeeee\"></rect>\n        <text x=\"525\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">VIII</text>\n\n        <rect x=\"556\" y=\"30\" width=\"60\" height=\"500\" fill=\"#ffffff\"></rect>\n        <text x=\"586\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">IX</text>\n\n        <rect x=\"616\" y=\"30\" width=\"62\" height=\"500\" fill=\"#eeeeee\"></rect>\n        <text x=\"647\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">X</text>\n\n        <rect x=\"678\" y=\"30\" width=\"60\" height=\"500\" fill=\"#ffffff\"></rect>\n        <text x=\"708\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">XI</text>\n\n        <rect x=\"738\" y=\"30\" width=\"62\" height=\"500\" fill=\"#eeeeee\"></rect>\n        <text x=\"769\" y=\"560\" font-size=\"25\" fill=\"#000000\" text-anchor=\"middle\">XII</text>\n\n        <line x1=\"70\" y1=\"10\" x2=\"70\" y2=\"530\" stroke-width=\"2\" stroke=\"#222222\" />\n        <path d=\"M70 7 L65 15 L75 15 Z\" />\n        <text x=\"80\" y=\"25\" font-size=\"20\" fill=\"#000000\">{{ elevationLabel }} (m)</text>\n\n        <text x=\"400\" y=\"590\" font-size=\"20\" fill=\"#000000\" dominant-baseline=\"middle\" text-anchor=\"middle\">{{ monthsLabel }}</text>\n\n        <template v-for=\"(elevation, index) in negativeElevations\">\n          <line x1=\"60\" :y1=\"elevation.y\" x2=\"800\" :y2=\"elevation.y\" stroke-width=\"1\" :stroke=\"(index + 1) % 2 ? '#555555' : '#222222'\" />\n          <text x=\"55\" :y=\"elevation.y\" font-size=\"20\" fill=\"#000000\" dominant-baseline=\"central\" text-anchor=\"end\">{{ elevation.value }}</text>\n        </template>\n\n        <line x1=\"60\" :y1=\"yForZeroElevation\" x2=\"800\" :y2=\"yForZeroElevation\" stroke-width=\"2\" stroke=\"#222222\" />\n        <text x=\"55\" :y=\"yForZeroElevation\" font-size=\"20\" fill=\"#000000\" dominant-baseline=\"central\" text-anchor=\"end\">0</text>\n\n        <template v-for=\"(elevation, index) in positiveElevations\">\n          <line x1=\"60\" :y1=\"elevation.y\" x2=\"800\" :y2=\"elevation.y\" stroke-width=\"1\" :stroke=\"(index + 1) % 2 ? '#555555' : '#222222'\" />\n          <text x=\"55\" :y=\"elevation.y\" font-size=\"20\" fill=\"#000000\" dominant-baseline=\"central\" text-anchor=\"end\">{{ elevation.value }}</text>\n        </template>\n      </g>\n\n      <g>\n        <!--Occurrence -->\n        <template v-for=\"point in preparedPoints\">\n          <circle :cx=\"point.x\" :cy=\"point.y\" r=\"7\" :fill=\"point.color\" stroke-width=\"1\" stroke=\"black\" />\n        </template>\n      </g>\n\n      <!-- Current day of year -->\n      <line :x1=\"currentDateLineX\" y1=\"30\" :x2=\"currentDateLineX\" y2=\"528\" stroke-width=\"1\" stroke=\"#00aa00\" />\n    </svg>\n\n    <div class=\"flex flex-col is-flex-center\">\n      <div class=\"control\" v-for=\"stage in allStages\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" name=\"stages\" :value=\"stage\" v-model=\"visibleStages\"> {{ trans(`stages.${stage}`) }} <span :style=\"optionColor(stage)\"></span>\n        </label>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _sortBy from 'lodash/sortBy'\nimport _maxBy from 'lodash/maxBy'\nimport _minBy from 'lodash/minBy'\n\nconst TOTAL_YEAR_SPACE = 730\nconst START_YEAR_FROM = 70\n\nconst ELEVATION_START = 529\nconst ELEVATION_END = 30\nconst ELEVATION_RANGE = ELEVATION_START - ELEVATION_END\n\nconst STAGE_COLORS = {\n  egg: 'white',\n  larva: 'green',\n  pupa: 'yellow',\n  juvenile: 'orange',\n  adult: 'red'\n}\n\nconst ALL_STAGES = Object.keys(STAGE_COLORS)\n\nexport default {\n  name: 'nzOccurrenceChart',\n\n  props: {\n    elevationLabel: {\n      type: String,\n      default: 'Elevation'\n    },\n\n    monthsLabel: {\n      type: String,\n      default: 'Months'\n    },\n\n    availableStages: {\n      type: Array,\n      default: () => []\n    },\n\n    data: {\n      type: Array,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      visibleStages: ALL_STAGES\n    }\n  },\n\n  computed: {\n    /**\n     * All available stages for the Taxon.\n     *\n     * @return {Array}\n     */\n    allStages() {\n      return ALL_STAGES.filter(stage => this.availableStages.includes(stage))\n    },\n\n    /**\n     * Position on X axis of current date.\n     *\n     * @return {Number}\n     */\n    currentDateLineX() {\n      return this.xForDate(moment()) - 1 // fixed by the stroke width of the line\n    },\n\n    /**\n     * Data filtered by having supported stage and any value for elevation.\n     *\n     * @return {Array}\n     */\n    filteredData() {\n      return this.data.filter(item => this.visibleStages.includes(item.stage) && item.elevation !== null)\n    },\n\n    /**\n     * Data filtered and sorted by date.\n     *\n     * @return {Array}\n     */\n    sortedData() {\n      const stageOrder = this.stageOrder\n\n      return _sortBy(this.filteredData, item => item.date)\n    },\n\n    /**\n     * The highest elevation among given data.\n     *\n     * @return {Number}\n     */\n    maxElevation() {\n      const max = _maxBy(this.data, item => item.elevation)\n\n      return max ? max.elevation : 1000\n    },\n\n    /**\n     * The lowest elevation (depth) among given data.\n     *\n     * @return {Number}\n     */\n    minElevation() {\n      const min = _minBy(this.data, item => item.elevation)\n\n      return min ? min.elevation : 0\n    },\n\n    /**\n     * The highest label for elevation.\n     *\n     * @return {Number}\n     */\n    topElevationValue() {\n      return parseInt(Math.ceil(this.maxElevation / 1000)) * 1000\n    },\n\n    /**\n     * The lowest (negative) label for elevation (depth).\n     *\n     * @return {Number}\n     */\n    bottomElevationValue() {\n      const step = this.topElevationValue / 4\n\n      return this.minElevation >= 0 ? 0 : parseInt(Math.floor(this.minElevation / step)) * step\n    },\n\n    /**\n     * Data required to draw the circles marking occurrence.\n     *\n     * @return {Array}\n     */\n    preparedPoints() {\n      return this.sortedData.map(item => ({\n        x: this.xForDate(item.date),\n        y: this.yForElevation(item.elevation),\n        color: STAGE_COLORS[item.stage]\n      }))\n    },\n\n    /**\n     * Line for O on Y axis.\n     *\n     * @return {Object}\n     */\n    yForZeroElevation() {\n      return this.yForElevation(0)\n    },\n\n    /**\n     * Lines on the Y axis for labeling depths.\n     *\n     * @return {Array}\n     */\n    negativeElevations() {\n      const bottomElevationValue = this.bottomElevationValue\n\n      if (bottomElevationValue === 0) {\n        return []\n      }\n\n      const topElevationValue = this.topElevationValue\n\n      const stepSize = topElevationValue / 4\n      const stepCount = Math.abs(bottomElevationValue / stepSize)\n      const steps = []\n\n      for (let i = 0; i <= stepCount; i++) {\n        const elevation = (i + 1) * -stepSize\n\n        steps.push({\n          value: elevation,\n          y: this.yForElevation(elevation),\n        })\n      }\n\n      return steps\n    },\n\n    /**\n     * Lines on the Y axis for labeling elevation.\n     *\n     * @return {Array}\n     */\n    positiveElevations() {\n      const topElevationValue = this.topElevationValue\n\n      const steps = []\n\n      for (let i = 0; i < 4; i++) {\n        const elevation = parseInt(topElevationValue * (i + 1) / 4)\n\n        steps.push({\n          value: elevation,\n          y: this.yForElevation(elevation),\n        })\n      }\n\n      return steps\n    }\n  },\n\n  methods: {\n    /**\n     * Calculate progress in a year for given date.\n     *\n     * @param  {String|Moment}  date\n     * @return {Number}\n     */\n    progressInYear(date) {\n      const dateMoment = moment(date)\n      const dayOfYear = parseInt(dateMoment.format('DDD'))\n      const isLeapYear = dateMoment.isLeapYear()\n\n      return dayOfYear / (isLeapYear ? 366 : 365)\n    },\n\n    /**\n     * Calculate position on the X axis for given date.\n     *\n     * @param  {String|Moment}  date\n     * @return {Number}\n     */\n    xForDate(date) {\n      return this.progressInYear(moment(date)) * TOTAL_YEAR_SPACE + START_YEAR_FROM\n    },\n\n    /**\n     * Calculation the position on Y axis for given elevation.\n     *\n     * @param  {Number}  elevation\n     * @return {Number}\n     */\n    yForElevation(elevation) {\n      const topElevationValue = this.topElevationValue\n      const bottomElevationValue = this.bottomElevationValue\n\n      const x = (elevation * ELEVATION_RANGE) / (topElevationValue - bottomElevationValue)\n      const y = (bottomElevationValue * ELEVATION_RANGE) / (topElevationValue - bottomElevationValue)\n\n      return ELEVATION_START - x + y\n    },\n\n    /**\n     * Get style settings for circle to visually differentiate checkboxes for stages.\n     *\n     * @param  {String}  stage\n     * @return {Object}\n     */\n    optionColor(stage) {\n      const color = STAGE_COLORS[stage]\n\n      return {\n        height: '1rem',\n        width: '1rem',\n        backgroundColor: color,\n        borderRadius: '50%',\n        display: 'inline-block',\n        border: '1px solid black',\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccurrenceChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OccurrenceChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OccurrenceChart.vue?vue&type=template&id=74385c9d&\"\nimport script from \"./OccurrenceChart.vue?vue&type=script&lang=js&\"\nexport * from \"./OccurrenceChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 800 600\"}},[_c('g',[_c('rect',{attrs:{\"x\":\"70\",\"y\":\"30\",\"width\":\"62\",\"height\":\"500\",\"fill\":\"#ffffff\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"101\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"I\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"132\",\"y\":\"30\",\"width\":\"56\",\"height\":\"500\",\"fill\":\"#eeeeee\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"160\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"II\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"188\",\"y\":\"30\",\"width\":\"62\",\"height\":\"500\",\"fill\":\"#ffffff\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"219\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"III\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"250\",\"y\":\"30\",\"width\":\"60\",\"height\":\"500\",\"fill\":\"#eeeeee\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"280\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"IV\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"310\",\"y\":\"30\",\"width\":\"62\",\"height\":\"500\",\"fill\":\"#ffffff\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"341\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"V\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"372\",\"y\":\"30\",\"width\":\"60\",\"height\":\"500\",\"fill\":\"#eeeeee\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"402\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"VI\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"432\",\"y\":\"30\",\"width\":\"62\",\"height\":\"500\",\"fill\":\"#ffffff\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"463\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"VII\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"494\",\"y\":\"30\",\"width\":\"62\",\"height\":\"500\",\"fill\":\"#eeeeee\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"525\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"VIII\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"556\",\"y\":\"30\",\"width\":\"60\",\"height\":\"500\",\"fill\":\"#ffffff\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"586\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"IX\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"616\",\"y\":\"30\",\"width\":\"62\",\"height\":\"500\",\"fill\":\"#eeeeee\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"647\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"X\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"678\",\"y\":\"30\",\"width\":\"60\",\"height\":\"500\",\"fill\":\"#ffffff\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"708\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"XI\")]),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"738\",\"y\":\"30\",\"width\":\"62\",\"height\":\"500\",\"fill\":\"#eeeeee\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"769\",\"y\":\"560\",\"font-size\":\"25\",\"fill\":\"#000000\",\"text-anchor\":\"middle\"}},[_vm._v(\"XII\")]),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"70\",\"y1\":\"10\",\"x2\":\"70\",\"y2\":\"530\",\"stroke-width\":\"2\",\"stroke\":\"#222222\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M70 7 L65 15 L75 15 Z\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"80\",\"y\":\"25\",\"font-size\":\"20\",\"fill\":\"#000000\"}},[_vm._v(_vm._s(_vm.elevationLabel)+\" (m)\")]),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"400\",\"y\":\"590\",\"font-size\":\"20\",\"fill\":\"#000000\",\"dominant-baseline\":\"middle\",\"text-anchor\":\"middle\"}},[_vm._v(_vm._s(_vm.monthsLabel))]),_vm._v(\" \"),_vm._l((_vm.negativeElevations),function(elevation,index){return [_c('line',{attrs:{\"x1\":\"60\",\"y1\":elevation.y,\"x2\":\"800\",\"y2\":elevation.y,\"stroke-width\":\"1\",\"stroke\":(index + 1) % 2 ? '#555555' : '#222222'}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"55\",\"y\":elevation.y,\"font-size\":\"20\",\"fill\":\"#000000\",\"dominant-baseline\":\"central\",\"text-anchor\":\"end\"}},[_vm._v(_vm._s(elevation.value))])]}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"60\",\"y1\":_vm.yForZeroElevation,\"x2\":\"800\",\"y2\":_vm.yForZeroElevation,\"stroke-width\":\"2\",\"stroke\":\"#222222\"}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"55\",\"y\":_vm.yForZeroElevation,\"font-size\":\"20\",\"fill\":\"#000000\",\"dominant-baseline\":\"central\",\"text-anchor\":\"end\"}},[_vm._v(\"0\")]),_vm._v(\" \"),_vm._l((_vm.positiveElevations),function(elevation,index){return [_c('line',{attrs:{\"x1\":\"60\",\"y1\":elevation.y,\"x2\":\"800\",\"y2\":elevation.y,\"stroke-width\":\"1\",\"stroke\":(index + 1) % 2 ? '#555555' : '#222222'}}),_vm._v(\" \"),_c('text',{attrs:{\"x\":\"55\",\"y\":elevation.y,\"font-size\":\"20\",\"fill\":\"#000000\",\"dominant-baseline\":\"central\",\"text-anchor\":\"end\"}},[_vm._v(_vm._s(elevation.value))])]})],2),_vm._v(\" \"),_c('g',[_vm._l((_vm.preparedPoints),function(point){return [_c('circle',{attrs:{\"cx\":point.x,\"cy\":point.y,\"r\":\"7\",\"fill\":point.color,\"stroke-width\":\"1\",\"stroke\":\"black\"}})]})],2),_vm._v(\" \"),_c('line',{attrs:{\"x1\":_vm.currentDateLineX,\"y1\":\"30\",\"x2\":_vm.currentDateLineX,\"y2\":\"528\",\"stroke-width\":\"1\",\"stroke\":\"#00aa00\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col is-flex-center\"},_vm._l((_vm.allStages),function(stage){return _c('div',{staticClass:\"control\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.visibleStages),expression:\"visibleStages\"}],attrs:{\"type\":\"checkbox\",\"name\":\"stages\"},domProps:{\"value\":stage,\"checked\":Array.isArray(_vm.visibleStages)?_vm._i(_vm.visibleStages,stage)>-1:(_vm.visibleStages)},on:{\"change\":function($event){var $$a=_vm.visibleStages,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=stage,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.visibleStages=$$a.concat([$$v]))}else{$$i>-1&&(_vm.visibleStages=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.visibleStages=$$c}}}}),_vm._v(\" \"+_vm._s(_vm.trans((\"stages.\" + stage)))+\" \"),_c('span',{style:(_vm.optionColor(stage))})])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountModal.vue?vue&type=script&lang=js&\"","<template>\n  <form :action=\"action\" method=\"POST\" class=\"modal-card\">\n    <header class=\"modal-card-head\">\n      <h3 class=\"modal-card-title\">{{ trans('navigation.preferences.delete_account') }}</h3>\n    </header>\n\n    <input type=\"hidden\" name=\"_token\" :value=\"csrfToken\" />\n    <input type=\"hidden\" name=\"_method\" value=\"DELETE\" />\n\n\n    <section class=\"modal-card-body\">\n      <p>{{ trans('This action is irreversible, once an account is deleted it cannot be restored.') }}</p>\n\n      <p>{{ trans('Are you sure you want to delete your account?') }}</p>\n\n      <b-field class=\"mt-8\">\n        <b-checkbox name=\"delete_observations\">{{ trans('labels.preferences.account.delete_observations') }}</b-checkbox>\n      </b-field>\n    </section>\n\n    <footer class=\"modal-card-foot\">\n      <button class=\"button\" type=\"button\" @click=\"$parent.close()\">{{ trans('buttons.cancel') }}</button>\n\n      <button class=\"button is-danger\" type=\"submit\">{{ trans('labels.preferences.account.delete_account') }}</button>\n    </footer>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'nzDeleteAccounModal',\n\n  props: {\n    action: String,\n    csrfToken: String\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./DeleteAccountModal.vue?vue&type=template&id=bcc0d354&\"\nimport script from \"./DeleteAccountModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteAccountModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"modal-card\",attrs:{\"action\":_vm.action,\"method\":\"POST\"}},[_c('header',{staticClass:\"modal-card-head\"},[_c('h3',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('navigation.preferences.delete_account')))])]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"_token\"},domProps:{\"value\":_vm.csrfToken}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"_method\",\"value\":\"DELETE\"}}),_vm._v(\" \"),_c('section',{staticClass:\"modal-card-body\"},[_c('p',[_vm._v(_vm._s(_vm.trans('This action is irreversible, once an account is deleted it cannot be restored.')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.trans('Are you sure you want to delete your account?')))]),_vm._v(\" \"),_c('b-field',{staticClass:\"mt-8\"},[_c('b-checkbox',{attrs:{\"name\":\"delete_observations\"}},[_vm._v(_vm._s(_vm.trans('labels.preferences.account.delete_observations')))])],1)],1),_vm._v(\" \"),_c('footer',{staticClass:\"modal-card-foot\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))]),_vm._v(\" \"),_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.trans('labels.preferences.account.delete_account')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountButton.vue?vue&type=script&lang=js&\"","<template>\n  <button type=\"button\" @click=\"openModal\" class=\"button is-danger\">\n    {{ trans('labels.preferences.account.delete_account') }}\n  </button>\n</template>\n\n<script>\nimport DeleteAccountModal from './DeleteAccountModal'\n\nexport default {\n  name: 'nzDeleteAccountButton',\n\n  props: {\n    action: String,\n    csrfToken: String\n  },\n\n  methods: {\n    openModal() {\n      this.$buefy.modal.open({\n        parent: this,\n        component: DeleteAccountModal,\n        hasModalCard: true,\n        props: {\n          action: this.action,\n          csrfToken: this.csrfToken\n        }\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./DeleteAccountButton.vue?vue&type=template&id=44769786&\"\nimport script from \"./DeleteAccountButton.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteAccountButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openModal}},[_vm._v(\"\\n  \"+_vm._s(_vm.trans('labels.preferences.account.delete_account'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import './bootstrap'\nimport Vue from 'vue'\nimport Buefy from 'buefy'\nimport * as VueGoogleMaps from 'vue2-google-maps'\nimport { VTooltip } from 'v-tooltip'\nimport { setTooltipOptions } from './tooltip'\nimport VueLazyload from 'vue-lazyload'\nimport _eachRight from 'lodash/eachRight'\nimport _replace from 'lodash/replace'\n\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\nimport Announcement from './components/Announcement'\nimport Captcha from './components/Captcha'\nimport ImageModal from './components/ImageModal'\nimport Slider from './components/Slider'\nimport GroupTaxaSearchButton from './components/GroupTaxaSearchButton'\n\nimport DateInput from './components/inputs/DateInput'\nimport PhotoUpload from './components/inputs/PhotoUpload'\nimport SpatialInput from './components/inputs/SpatialInput'\nimport PublicationAutocomplete from './components/inputs/PublicationAutocomplete'\nimport TaxonAutocomplete from './components/inputs/TaxonAutocomplete'\nimport UserAutocomplete from './components/inputs/UserAutocomplete'\nimport Wysiwyg from './components/inputs/Wysiwyg'\nimport ColumnsPicker from './components/inputs/ColumnsPicker'\nimport DatetimePicker from './components/inputs/DatetimePicker'\n\nimport Table from './components/table/Table'\nimport TaxaTable from './components/tables/TaxaTable'\nimport UsersTable from './components/tables/UsersTable'\nimport ViewGroupsTable from './components/tables/ViewGroupsTable'\nimport AnnouncementsTable from './components/tables/AnnouncementsTable'\nimport FieldObservationsTable from './components/tables/FieldObservationsTable'\nimport LiteratureObservationsTable from './components/tables/LiteratureObservationsTable'\n\nimport RegistrationForm from './components/forms/RegistrationForm'\nimport UserForm from './components/forms/UserForm'\nimport TaxonForm from './components/forms/TaxonForm'\nimport FieldObservationForm from './components/forms/FieldObservationForm'\nimport LiteratureObservationForm from './components/forms/LiteratureObservationForm'\nimport ViewGroupForm from './components/forms/ViewGroupForm'\nimport AnnouncementForm from './components/forms/AnnouncementForm'\nimport PublicationForm from './components/forms/PublicationForm'\n\nimport FieldObservationActivityLog from './components/activity/FieldObservationActivityLog'\nimport LiteratureObservationActivityLog from './components/activity/LiteratureObservationActivityLog'\nimport TaxonActivityLog from './components/activity/TaxonActivityLog'\n\nimport CustomExport from './components/exports/CustomExport'\nimport ExportModal from './components/exports/ExportModal'\n\nimport FieldObservationsImport from './components/imports/FieldObservationsImport'\n\nimport FieldObservationApproval from './components/FieldObservationApproval'\n\nimport OccurrenceChart from './components/OccurrenceChart'\n\nimport DeleteAccountButton from './components/DeleteAccountButton';\n\nwindow.Vue = Vue\n\nVue.use(VueLazyload, {\n  attempt: 1,\n  loading: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCAzOCAzOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBzdHJva2U9IiMzNjM2MzYiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDEpIiBzdHJva2Utd2lkdGg9IjIiPgogICAgICAgICAgICA8Y2lyY2xlIHN0cm9rZS1vcGFjaXR5PSIuNSIgY3g9IjE4IiBjeT0iMTgiIHI9IjE4Ii8+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNiAxOGMwLTkuOTQtOC4wNi0xOC0xOC0xOCI+CiAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybQogICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIKICAgICAgICAgICAgICAgICAgICB0eXBlPSJyb3RhdGUiCiAgICAgICAgICAgICAgICAgICAgZnJvbT0iMCAxOCAxOCIKICAgICAgICAgICAgICAgICAgICB0bz0iMzYwIDE4IDE4IgogICAgICAgICAgICAgICAgICAgIGR1cj0iMXMiCiAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz4KICAgICAgICAgICAgPC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+'\n})\nVue.use(Buefy, { defaultIconPack: 'fa' })\n\n// Config Google Maps\nlet gmapsConfig = {}\nif (window.App && window.App.gmaps && window.App.gmaps.load) {\n    gmapsConfig.load = {\n        key: window.App.gmaps.apiKey,\n        libraries: 'drawing',\n        language: document.documentElement.lang\n    }\n}\nVue.use(VueGoogleMaps, gmapsConfig)\n\nif (window.route) {\n    Vue.prototype.$ziggy = window.route\n}\n\nVue.component(Navbar.name, Navbar)\nVue.component(Sidebar.name, Sidebar)\nVue.component(Announcement.name, Announcement)\nVue.component(Captcha.name, Captcha)\nVue.component(ImageModal.name, ImageModal)\nVue.component(Slider.name, Slider)\nVue.component(GroupTaxaSearchButton.name, GroupTaxaSearchButton)\n\nVue.component(Table.name, Table)\nVue.component(TaxaTable.name, TaxaTable)\nVue.component(UsersTable.name, UsersTable)\nVue.component(ViewGroupsTable.name, ViewGroupsTable)\nVue.component(AnnouncementsTable.name, AnnouncementsTable)\nVue.component(FieldObservationsTable.name, FieldObservationsTable)\nVue.component(LiteratureObservationsTable.name, LiteratureObservationsTable)\n\nVue.component(DateInput.name, DateInput)\nVue.component(PhotoUpload.name, PhotoUpload)\nVue.component(SpatialInput.name, SpatialInput)\nVue.component(PublicationAutocomplete.name, PublicationAutocomplete)\nVue.component(TaxonAutocomplete.name, TaxonAutocomplete)\nVue.component(UserAutocomplete.name, UserAutocomplete)\nVue.component(Wysiwyg.name, Wysiwyg)\nVue.component(ColumnsPicker.name, ColumnsPicker)\nVue.component(DatetimePicker.name, DatetimePicker)\n\nVue.component(RegistrationForm.name, RegistrationForm)\nVue.component(FieldObservationForm.name, FieldObservationForm)\nVue.component(LiteratureObservationForm.name, LiteratureObservationForm)\nVue.component(TaxonForm.name, TaxonForm)\nVue.component(UserForm.name, UserForm)\nVue.component(ViewGroupForm.name, ViewGroupForm)\nVue.component(AnnouncementForm.name, AnnouncementForm)\nVue.component(PublicationForm.name, PublicationForm)\n\nVue.component(FieldObservationActivityLog.name, FieldObservationActivityLog)\nVue.component(LiteratureObservationActivityLog.name, LiteratureObservationActivityLog)\nVue.component(TaxonActivityLog.name, TaxonActivityLog)\n\nVue.component(CustomExport.name, CustomExport)\nVue.component(ExportModal.name, ExportModal)\n\nVue.component(FieldObservationsImport.name, FieldObservationsImport)\n\nVue.component(FieldObservationApproval.name, FieldObservationApproval)\n\nVue.component(OccurrenceChart.name, OccurrenceChart)\n\nVue.component(DeleteAccountButton.name, DeleteAccountButton)\n\nVue.prototype.trans = window.trans = (string, args = {}, defaultString = '') => {\n    let value = window.App.i18n[string] || defaultString || string\n\n    _eachRight(args, (paramVal, paramKey) => {\n        value = _replace(value, `:${paramKey}`, paramVal)\n    })\n\n    return value\n}\n\nVue.filter('formatDateTime', function (value, format = 'DD.MM.YYYY HH:mm') {\n  if (!value) return ''\n\n  value = value.toString()\n\n  return window.moment(value).format(format)\n})\n\nsetTooltipOptions(VTooltip)\nVue.directive('tooltip', VTooltip)\n\nconst app = new Vue({\n    el: '#app'\n})\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsImport.vue?vue&type=style&index=0&id=9ca2001e&lang=scss&scoped=true&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsImport.vue?vue&type=style&index=0&id=9ca2001e&lang=scss&scoped=true&\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationsImport.vue?vue&type=style&index=0&id=9ca2001e&lang=scss&scoped=true&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnsPicker.vue?vue&type=style&index=0&lang=scss&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnsPicker.vue?vue&type=style&index=0&lang=scss&\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnsPicker.vue?vue&type=style&index=0&lang=scss&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".buttons .field[data-v-9ca2001e] {\\n  margin-bottom: 0;\\n}\\n.buttons .field.file[data-v-9ca2001e] {\\n  margin-right: 0.5rem;\\n}\\n.buttons .field .upload[data-v-9ca2001e]:hover {\\n  cursor: pointer;\\n}\\n.buttons .field .upload .button[data-v-9ca2001e] {\\n  margin-right: 0;\\n}\", \"\"]);\n\n// exports\n","import mod from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnsPicker.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnsPicker.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}