{"version":3,"file":"js/b4830d84ed4218e4.js","mappings":"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","sources":["webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/blueimp-load-image/js/load-image-fetch.js","webpack:///./node_modules/lodash/_basePullAt.js","webpack:///./node_modules/blueimp-load-image/js/load-image-iptc-map.js","webpack:///./node_modules/lodash/_baseValues.js","webpack:///./node_modules/lodash/property.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///resources/js/components/ImageModal.vue","webpack:///./resources/js/components/ImageModal.vue?d1e1","webpack:///./resources/js/components/ImageModal.vue?7625","webpack:///./resources/js/components/ImageModal.vue","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/_isStrictComparable.js","webpack:///./node_modules/lodash/_getMatchData.js","webpack:///./node_modules/form-backend-validation/dist/Errors.js","webpack:///./resources/js/components/inputs/DateInput.vue","webpack:///resources/js/components/inputs/DateInput.vue","webpack:///./resources/js/components/inputs/DateInput.vue?1614","webpack:///./resources/js/components/inputs/DateInput.vue?969f","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue","webpack:///resources/js/components/inputs/TaxonAutocomplete.vue","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue?297d","webpack:///./resources/js/components/inputs/TaxonAutocomplete.vue?fd87","webpack:///./node_modules/form-backend-validation/dist/util/fieldNameValidation.js","webpack:///./resources/js/components/inputs/SpatialInput.vue","webpack:///resources/js/components/inputs/SpatialInput.vue","webpack:///./resources/js/components/inputs/SpatialInput.vue?4822","webpack:///./resources/js/components/inputs/SpatialInput.vue?4fb1","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/_baseIsMatch.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/blueimp-load-image/js/load-image-meta.js","webpack:///./node_modules/croppr/dist/croppr.js","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/blueimp-load-image/js/load-image-exif-map.js","webpack:///./node_modules/lodash/_memoizeCapped.js","webpack:///./node_modules/lodash/_copySymbols.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./node_modules/blueimp-load-image/js/load-image-scale.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/_cloneRegExp.js","webpack:///./node_modules/lodash/_getAllKeysIn.js","webpack:///./node_modules/lodash/_baseMatches.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/lodash/_cloneSymbol.js","webpack:///./node_modules/lodash/_baseAssignIn.js","webpack:///./node_modules/lodash/remove.js","webpack:///./node_modules/lodash/pick.js","webpack:///./node_modules/blueimp-load-image/js/load-image.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./node_modules/lodash/_baseAssign.js","webpack:///./node_modules/blueimp-load-image/js/load-image-exif.js","webpack:///./node_modules/lodash/isString.js","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/form-backend-validation/dist/util/index.js","webpack:///./node_modules/lodash/intersection.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/lodash/_baseIteratee.js","webpack:///./node_modules/lodash/_baseIsNaN.js","webpack:///./node_modules/form-backend-validation/dist/util/objects.js","webpack:///./node_modules/lodash/values.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/form-backend-validation/dist/index.js","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./node_modules/lodash/_baseIsSet.js","webpack:///./node_modules/lodash/_baseIndexOf.js","webpack:///./node_modules/lodash/_cloneDataView.js","webpack:///./node_modules/lodash/_initCloneArray.js","webpack:///./resources/js/components/inputs/PhotoUpload.vue","webpack:///./node_modules/croppr/src/box.js","webpack:///./resources/js/Croppr.js","webpack:///resources/js/components/ImageCropModal.vue","webpack:///./resources/js/components/ImageCropModal.vue?9968","webpack:///resources/js/components/inputs/PhotoUpload.vue","webpack:///./resources/js/components/inputs/PhotoUpload.vue?7a61","webpack:///./resources/js/components/ImageCropModal.vue?bb69","webpack:///./resources/js/components/ImageCropModal.vue","webpack:///./resources/js/components/inputs/PhotoUpload.vue?8160","webpack:///./node_modules/lodash/_getSymbolsIn.js","webpack:///./node_modules/form-backend-validation/dist/Form.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/form-backend-validation/dist/util/formData.js","webpack:///./node_modules/lodash/_matchesStrictComparable.js","webpack:///./node_modules/lodash/_initCloneByTag.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/lodash/_basePropertyDeep.js","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/isMap.js","webpack:///./node_modules/lodash/_toKey.js","webpack:///./node_modules/blueimp-load-image/js/load-image-iptc.js","webpack:///./node_modules/lodash/_baseMatchesProperty.js","webpack:///./resources/js/mixins/FormMixin.js","webpack:///./node_modules/lodash/cloneDeep.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/last.js","webpack:///./node_modules/lodash/get.js","webpack:///./resources/js/components/inputs/UserAutocomplete.vue","webpack:///resources/js/components/inputs/UserAutocomplete.vue","webpack:///./resources/js/components/inputs/UserAutocomplete.vue?68c7","webpack:///./resources/js/components/inputs/UserAutocomplete.vue?ed09","webpack:///./node_modules/blueimp-load-image/js/index.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/isSet.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_flatRest.js","webpack:///./node_modules/lodash/_copySymbolsIn.js","webpack:///./node_modules/lodash/_parent.js","webpack:///./node_modules/blueimp-load-image/js/load-image-orientation.js","webpack:///./node_modules/lodash/_baseIsMap.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./resources/js/components/forms/FieldObservationForm.vue","webpack:///./resources/js/models/user.js","webpack:///./resources/js/mixins/UserMixin.js","webpack:///resources/js/components/forms/FieldObservationForm.vue","webpack:///./resources/js/components/forms/FieldObservationForm.vue?2fb7","webpack:///./resources/js/components/forms/FieldObservationForm.vue?7a42","webpack:///./node_modules/lodash/includes.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_baseUnset.js","webpack:///./node_modules/lodash/_baseClone.js"],"sourcesContent":["var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/*\n * JavaScript Load Image Fetch\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2017, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, Promise */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var global = loadImage.global\n\n  if (\n    global.fetch &&\n    global.Request &&\n    global.Response &&\n    global.Response.prototype.blob\n  ) {\n    loadImage.fetchBlob = function (url, callback, options) {\n      /**\n       * Fetch response handler.\n       *\n       * @param {Response} response Fetch response\n       * @returns {Blob} Fetched Blob.\n       */\n      function responseHandler(response) {\n        return response.blob()\n      }\n      if (global.Promise && typeof callback !== 'function') {\n        return fetch(new Request(url, callback)).then(responseHandler)\n      }\n      fetch(new Request(url, options))\n        .then(responseHandler)\n        .then(callback)\n        [\n          // Avoid parsing error in IE<9, where catch is a reserved word.\n          // eslint-disable-next-line dot-notation\n          'catch'\n        ](function (err) {\n          callback(null, err)\n        })\n    }\n  } else if (\n    global.XMLHttpRequest &&\n    // https://xhr.spec.whatwg.org/#the-responsetype-attribute\n    new XMLHttpRequest().responseType === ''\n  ) {\n    loadImage.fetchBlob = function (url, callback, options) {\n      /**\n       * Promise executor\n       *\n       * @param {Function} resolve Resolution function\n       * @param {Function} reject Rejection function\n       */\n      function executor(resolve, reject) {\n        options = options || {} // eslint-disable-line no-param-reassign\n        var req = new XMLHttpRequest()\n        req.open(options.method || 'GET', url)\n        if (options.headers) {\n          Object.keys(options.headers).forEach(function (key) {\n            req.setRequestHeader(key, options.headers[key])\n          })\n        }\n        req.withCredentials = options.credentials === 'include'\n        req.responseType = 'blob'\n        req.onload = function () {\n          resolve(req.response)\n        }\n        req.onerror =\n          req.onabort =\n          req.ontimeout =\n            function (err) {\n              if (resolve === reject) {\n                // Not using Promises\n                reject(null, err)\n              } else {\n                reject(err)\n              }\n            }\n        req.send(options.body)\n      }\n      if (global.Promise && typeof callback !== 'function') {\n        options = callback // eslint-disable-line no-param-reassign\n        return new Promise(executor)\n      }\n      return executor(callback, callback)\n    }\n  }\n})\n","var baseUnset = require('./_baseUnset'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAt;\n","/*\n * JavaScript Load Image IPTC Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n *\n * IPTC tags mapping based on\n * https://iptc.org/standards/photo-metadata\n * https://exiftool.org/TagNames/IPTC.html\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-iptc'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-iptc'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var IptcMapProto = loadImage.IptcMap.prototype\n\n  IptcMapProto.tags = {\n    0: 'ApplicationRecordVersion',\n    3: 'ObjectTypeReference',\n    4: 'ObjectAttributeReference',\n    5: 'ObjectName',\n    7: 'EditStatus',\n    8: 'EditorialUpdate',\n    10: 'Urgency',\n    12: 'SubjectReference',\n    15: 'Category',\n    20: 'SupplementalCategories',\n    22: 'FixtureIdentifier',\n    25: 'Keywords',\n    26: 'ContentLocationCode',\n    27: 'ContentLocationName',\n    30: 'ReleaseDate',\n    35: 'ReleaseTime',\n    37: 'ExpirationDate',\n    38: 'ExpirationTime',\n    40: 'SpecialInstructions',\n    42: 'ActionAdvised',\n    45: 'ReferenceService',\n    47: 'ReferenceDate',\n    50: 'ReferenceNumber',\n    55: 'DateCreated',\n    60: 'TimeCreated',\n    62: 'DigitalCreationDate',\n    63: 'DigitalCreationTime',\n    65: 'OriginatingProgram',\n    70: 'ProgramVersion',\n    75: 'ObjectCycle',\n    80: 'Byline',\n    85: 'BylineTitle',\n    90: 'City',\n    92: 'Sublocation',\n    95: 'State',\n    100: 'CountryCode',\n    101: 'Country',\n    103: 'OriginalTransmissionReference',\n    105: 'Headline',\n    110: 'Credit',\n    115: 'Source',\n    116: 'CopyrightNotice',\n    118: 'Contact',\n    120: 'Caption',\n    121: 'LocalCaption',\n    122: 'Writer',\n    125: 'RasterizedCaption',\n    130: 'ImageType',\n    131: 'ImageOrientation',\n    135: 'LanguageIdentifier',\n    150: 'AudioType',\n    151: 'AudioSamplingRate',\n    152: 'AudioSamplingResolution',\n    153: 'AudioDuration',\n    154: 'AudioOutcue',\n    184: 'JobID',\n    185: 'MasterDocumentID',\n    186: 'ShortDocumentID',\n    187: 'UniqueDocumentID',\n    188: 'OwnerID',\n    200: 'ObjectPreviewFileFormat',\n    201: 'ObjectPreviewFileVersion',\n    202: 'ObjectPreviewData',\n    221: 'Prefs',\n    225: 'ClassifyState',\n    228: 'SimilarityIndex',\n    230: 'DocumentNotes',\n    231: 'DocumentHistory',\n    232: 'ExifCameraInfo',\n    255: 'CatalogSets'\n  }\n\n  IptcMapProto.stringValues = {\n    10: {\n      0: '0 (reserved)',\n      1: '1 (most urgent)',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5 (normal urgency)',\n      6: '6',\n      7: '7',\n      8: '8 (least urgent)',\n      9: '9 (user-defined priority)'\n    },\n    75: {\n      a: 'Morning',\n      b: 'Both Morning and Evening',\n      p: 'Evening'\n    },\n    131: {\n      L: 'Landscape',\n      P: 'Portrait',\n      S: 'Square'\n    }\n  }\n\n  IptcMapProto.getText = function (id) {\n    var value = this.get(id)\n    var tagCode = this.map[id]\n    var stringValue = this.stringValues[tagCode]\n    if (stringValue) return stringValue[value]\n    return String(value)\n  }\n\n  IptcMapProto.getAll = function () {\n    var map = {}\n    var prop\n    var name\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        name = this.tags[prop]\n        if (name) map[name] = this.getText(name)\n      }\n    }\n    return map\n  }\n\n  IptcMapProto.getName = function (tagCode) {\n    return this.tags[tagCode]\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;(function () {\n    var tags = IptcMapProto.tags\n    var map = IptcMapProto.map || {}\n    var prop\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        map[tags[prop]] = Number(prop)\n      }\n    }\n  })()\n})\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","<template>\r\n  <b-modal :active.sync=\"active\" :can-cancel=\"['escape', 'x']\" @close=\"onClose\">\r\n    <div class=\"image-modal\">\r\n      <img :src=\"openImage\">\r\n\r\n      <div class=\"image-modal-navigation\" v-if=\"items.length > 1\">\r\n        <div class=\"image-modal-previous\" @click=\"prev\">\r\n          <i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>\r\n        </div>\r\n\r\n        <div class=\"image-modal-next\" @click=\"next\">\r\n          <i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'nzImageModal',\r\n\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    value: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      newValue: this.value,\r\n      active: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    openImage() {\r\n      return this.items[this.newValue]\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    newValue() {\r\n      this.$emit('input', this.newValue)\r\n    },\r\n\r\n    openImage: {\r\n      handler(value) {\r\n        this.active = Boolean(value)\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    document.addEventListener('keyup', this.registerKeyListener)\r\n  },\r\n\r\n  mounted() {\r\n    this.active = Boolean(this.openImage)\r\n  },\r\n\r\n  beforeDestroy() {\r\n    document.removeEventListener('keyup', this.registerKeyListener)\r\n  },\r\n\r\n  methods: {\r\n    next() {\r\n      let newValue = this.newValue + 1\r\n\r\n      if (newValue >= this.items.length) {\r\n        newValue = 0\r\n      }\r\n\r\n      this.newValue = newValue\r\n    },\r\n\r\n    prev() {\r\n      let newValue = this.newValue - 1\r\n\r\n      if (newValue < 0) {\r\n        newValue = this.items.length - 1\r\n      }\r\n\r\n      this.newValue = newValue\r\n    },\r\n\r\n    registerKeyListener(e) {\r\n      const key = e.which || e.keyCode\r\n\r\n      if (key === 37) { // left arrow\r\n        this.prev()\r\n      } else if (key === 39) { // right arrow\r\n        this.next()\r\n      }\r\n    },\r\n\r\n    onClose(e) {\r\n      this.active = false\r\n\r\n      // b-modal component adds classes that prevent scrolling on body when active\r\n      // so we need to wait for it to remove them before we signal it's closing\r\n      this.$nextTick(() => {\r\n        this.$emit('close', e)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageModal.vue?vue&type=template&id=0d20be8b\"\nimport script from \"./ImageModal.vue?vue&type=script&lang=js\"\nexport * from \"./ImageModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"active\":_vm.active,\"can-cancel\":['escape', 'x']},on:{\"update:active\":function($event){_vm.active=$event},\"close\":_vm.onClose}},[_c('div',{staticClass:\"image-modal\"},[_c('img',{attrs:{\"src\":_vm.openImage}}),_vm._v(\" \"),(_vm.items.length > 1)?_c('div',{staticClass:\"image-modal-navigation\"},[_c('div',{staticClass:\"image-modal-previous\",on:{\"click\":_vm.prev}},[_c('i',{staticClass:\"fa fa-chevron-left\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"image-modal-next\",on:{\"click\":_vm.next}},[_c('i',{staticClass:\"fa fa-chevron-right\",attrs:{\"aria-hidden\":\"true\"}})])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Errors = function () {\n    /**\n     * Create a new Errors instance.\n     */\n    function Errors() {\n        var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, Errors);\n\n        this.record(errors);\n    }\n\n    /**\n     * Get all the errors.\n     *\n     * @return {object}\n     */\n\n\n    _createClass(Errors, [{\n        key: \"all\",\n        value: function all() {\n            return this.errors;\n        }\n\n        /**\n         * Determine if any errors exists for the given field or object.\n         *\n         * @param {string} field\n         */\n\n    }, {\n        key: \"has\",\n        value: function has(field) {\n            var hasError = this.errors.hasOwnProperty(field);\n\n            if (!hasError) {\n                var errors = Object.keys(this.errors).filter(function (e) {\n                    return e.startsWith(field + \".\") || e.startsWith(field + \"[\");\n                });\n\n                hasError = errors.length > 0;\n            }\n\n            return hasError;\n        }\n    }, {\n        key: \"first\",\n        value: function first(field) {\n            return this.get(field)[0];\n        }\n    }, {\n        key: \"get\",\n        value: function get(field) {\n            return this.errors[field] || [];\n        }\n\n        /**\n         * Determine if we have any errors.\n         * Or return errors for the given keys.\n         *\n         * @param {array} keys\n         */\n\n    }, {\n        key: \"any\",\n        value: function any() {\n            var _this = this;\n\n            var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n            if (keys.length === 0) {\n                return Object.keys(this.errors).length > 0;\n            }\n\n            var errors = {};\n\n            keys.forEach(function (key) {\n                return errors[key] = _this.get(key);\n            });\n\n            return errors;\n        }\n\n        /**\n         * Record the new errors.\n         *\n         * @param {object} errors\n         */\n\n    }, {\n        key: \"record\",\n        value: function record() {\n            var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            this.errors = errors;\n        }\n\n        /**\n         * Clear a specific field, object or all error fields.\n         *\n         * @param {string|null} field\n         */\n\n    }, {\n        key: \"clear\",\n        value: function clear(field) {\n            if (!field) {\n                this.errors = {};\n\n                return;\n            }\n\n            var errors = Object.assign({}, this.errors);\n\n            Object.keys(errors).filter(function (e) {\n                return e === field || e.startsWith(field + \".\") || e.startsWith(field + \"[\");\n            }).forEach(function (e) {\n                return delete errors[e];\n            });\n\n            this.errors = errors;\n        }\n    }]);\n\n    return Errors;\n}();\n\nexports.default = Errors;","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-field',{attrs:{\"label\":_vm.label}},[_c('b-field',{attrs:{\"expanded\":\"\",\"grouped\":\"\"}},[_c('b-field',{attrs:{\"type\":_vm.errors.has('year') ? 'is-danger': '',\"message\":_vm.errors.has('year') ? _vm.errors.first('year'): '',\"expanded\":\"\"}},[_c('b-input',{attrs:{\"placeholder\":_vm.placeholders.year,\"value\":_vm.year},on:{\"input\":_vm.onYearInput}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"type\":_vm.errors.has('month') ? 'is-danger': '',\"message\":_vm.errors.has('month') ? _vm.errors.first('month'): '',\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.placeholders.month,\"value\":_vm.month,\"expanded\":\"\"},on:{\"input\":_vm.onMonthInput}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.months),function(month,index){return _c('option',{key:`month-select-${index}`,domProps:{\"value\":(index + 1),\"textContent\":_vm._s(month)}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"type\":_vm.errors.has('day') ? 'is-danger': '',\"message\":_vm.errors.has('day') ? _vm.errors.first('day'): '',\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.placeholders.day,\"value\":_vm.day,\"expanded\":\"\"},on:{\"input\":_vm.onDayInput}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.days),function(day){return _c('option',{key:`day-select-${day}`,domProps:{\"value\":day,\"textContent\":_vm._s(day)}})})],2)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-field :label=\"label\">\r\n    <b-field expanded grouped>\r\n      <b-field\r\n        :type=\"errors.has('year') ? 'is-danger': ''\"\r\n        :message=\"errors.has('year') ? errors.first('year'): ''\"\r\n        expanded\r\n      >\r\n        <b-input :placeholder=\"placeholders.year\" :value=\"year\" @input=\"onYearInput\" />\r\n      </b-field>\r\n\r\n      <b-field\r\n        :type=\"errors.has('month') ? 'is-danger': ''\"\r\n        :message=\"errors.has('month') ? errors.first('month'): ''\"\r\n        expanded\r\n      >\r\n        <b-select :placeholder=\"placeholders.month\" :value=\"month\" @input=\"onMonthInput\" expanded>\r\n          <option :value=\"null\"></option>\r\n          <option v-for=\"(month, index) in months\" :value=\"(index + 1)\" v-text=\"month\" :key=\"`month-select-${index}`\"></option>\r\n        </b-select>\r\n      </b-field>\r\n\r\n      <b-field\r\n        :type=\"errors.has('day') ? 'is-danger': ''\"\r\n        :message=\"errors.has('day') ? errors.first('day'): ''\"\r\n        expanded\r\n      >\r\n        <b-select :placeholder=\"placeholders.day\" :value=\"day\" @input=\"onDayInput\" expanded>\r\n          <option :value=\"null\"></option>\r\n          <option v-for=\"day in days\" :value=\"day\" v-text=\"day\" :key=\"`day-select-${day}`\"></option>\r\n        </b-select>\r\n      </b-field>\r\n    </b-field>\r\n  </b-field>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from '@/dayjs'\r\nimport _range from 'lodash/range'\r\n\r\nexport default {\r\n  name: 'nzDateInput',\r\n\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: 'Date'\r\n    },\r\n\r\n    year: {\r\n      type: Number,\r\n      default: dayjs().year()\r\n    },\r\n\r\n    month: {\r\n      type: Number,\r\n      default: dayjs().month() + 1\r\n    },\r\n\r\n    day: {\r\n      type: Number,\r\n      default: dayjs().date()\r\n    },\r\n\r\n    placeholders: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          year: 'Year',\r\n          month: 'Month',\r\n          day: 'Day'\r\n        }\r\n      }\r\n    },\r\n\r\n    errors: {\r\n      type: Object,\r\n      default: () => ({ has: () => false })\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    now() {\r\n      return dayjs()\r\n    },\r\n\r\n    months() {\r\n      if (!this.year || this.year > dayjs().year()) return []\r\n\r\n      const isThisYear = this.year === dayjs().year()\r\n\r\n      let months = dayjs.months()\r\n\r\n      if (isThisYear) months.splice(dayjs().month() + 1)\r\n\r\n      return months\r\n    },\r\n\r\n    days() {\r\n      const haveDate = this.year && this.month\r\n\r\n      if (!haveDate) return []\r\n\r\n      const isThisMonth = this.year === dayjs().year() && (this.month - 1) === dayjs().month()\r\n\r\n      let days = dayjs(new Date(this.year, this.month - 1, 1)).daysInMonth()\r\n\r\n      if (isThisMonth) days = dayjs().date()\r\n\r\n      return _range(1, days + 1)\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    year() {\r\n      if (this.year > dayjs().year() || this.months.length < this.month -1)  {\r\n          this.onMonthInput(null)\r\n      }\r\n\r\n      this.truncateDay()\r\n    },\r\n\r\n    month() {\r\n      this.truncateDay()\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    truncateDay() {\r\n      if (this.days.length < this.day)  {\r\n          this.onDayInput(null)\r\n      }\r\n    },\r\n\r\n    onYearInput(value) {\r\n      this.$emit('update:year', +value || null)\r\n    },\r\n\r\n    onMonthInput(value) {\r\n      this.$emit('update:month', value)\r\n    },\r\n\r\n    onDayInput(value) {\r\n      this.$emit('update:day', value)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateInput.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateInput.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DateInput.vue?vue&type=template&id=a96f3ce2\"\nimport script from \"./DateInput.vue?vue&type=script&lang=js\"\nexport * from \"./DateInput.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-field',{staticClass:\"nz-taxon-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[(_vm.haveThumbnail)?_c('img',{attrs:{\"width\":\"32\",\"src\":this.selected.thumbnail_url}}):_vm._e(),_vm._v(\" \"),_c('b-autocomplete',{ref:\"autocomplete\",class:[_vm.selected ? 'has-icon-success' : ''],attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"name\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"disabled\":_vm.disabled,\"autofocus\":_vm.autofocus,\"check-infinite-scroll\":\"\"},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect,\"infinite-scroll\":_vm.loadMore},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.enterPressed.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"detault\",fn:function({ option }){return [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-left\"},[(option.thumbnail_url)?_c('img',{attrs:{\"width\":\"32\",\"src\":option.thumbnail_url}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(option.name)+_vm._s(option.native_name ? ` (${option.native_name})` : \"\")+\"\\n          \")])])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-field\r\n    :label=\"label\"\r\n    class=\"nz-taxon-autocomplete\"\r\n    :type=\"error ? 'is-danger' : null\"\r\n    :message=\"message\"\r\n  >\r\n    <b-field grouped>\r\n      <img width=\"32\" :src=\"this.selected.thumbnail_url\" v-if=\"haveThumbnail\" />\r\n      <b-autocomplete\r\n        ref=\"autocomplete\"\r\n        :value=\"value\"\r\n        :data=\"data\"\r\n        field=\"name\"\r\n        :loading=\"loading\"\r\n        @input=\"onInput\"\r\n        @select=\"onSelect\"\r\n        :icon=\"icon\"\r\n        :placeholder=\"placeholder\"\r\n        expanded\r\n        :disabled=\"disabled\"\r\n        :autofocus=\"autofocus\"\r\n        @keydown.native.enter=\"enterPressed\"\r\n        :class=\"[selected ? 'has-icon-success' : '']\"\r\n        check-infinite-scroll\r\n        @infinite-scroll=\"loadMore\"\r\n      >\r\n        <template #detault=\"{ option }\">\r\n          <div class=\"media\">\r\n            <div class=\"media-left\">\r\n              <img\r\n                width=\"32\"\r\n                :src=\"option.thumbnail_url\"\r\n                v-if=\"option.thumbnail_url\"\r\n              />\r\n            </div>\r\n            <div class=\"media-content\">\r\n              {{ option.name\r\n              }}{{ option.native_name ? ` (${option.native_name})` : \"\" }}\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </b-autocomplete>\r\n    </b-field>\r\n  </b-field>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport _debounce from \"lodash/debounce\";\r\nimport _get from \"lodash/get\";\r\n\r\nexport default {\r\n  name: \"nzTaxonAutocomplete\",\r\n\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: \"Taxon\",\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: \"Search for taxon...\",\r\n    },\r\n    taxon: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    url: {\r\n      type: String,\r\n      default: () => route(\"api.taxa.index\"),\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    error: Boolean,\r\n    message: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n    except: {},\r\n    autofocus: Boolean,\r\n    disabled: Boolean\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      data: [],\r\n      selected: this.taxon || null,\r\n      loading: false,\r\n      page: 1,\r\n      isLastPage: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    haveThumbnail() {\r\n      return this.selected && this.selected.thumbnail_url\r\n    },\r\n\r\n    icon() {\r\n      return this.selected ? \"check\" : \"search\"\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    taxon(value) {\r\n      this.selected = value\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    fetchData: _debounce(function () {\r\n      if (!this.value || this.isLastPage) return\r\n\r\n      this.loading = true\r\n\r\n      let params = {\r\n        name: this.value,\r\n        limit: 20,\r\n        page: this.page\r\n      }\r\n\r\n      if (this.except) {\r\n        params.except = this.except\r\n      }\r\n\r\n      axios.get(this.url, { params }).then(\r\n        ({ data }) => {\r\n          data.data.forEach((item) => this.data.push(item));\r\n          this.isLastPage = data.meta.last_page <= this.page\r\n          this.loading = false\r\n        },\r\n        (response) => {\r\n          this.loading = false\r\n        }\r\n      );\r\n    }, 500),\r\n\r\n    onSelect(taxon) {\r\n      this.selected = taxon\r\n\r\n      this.$emit('select', taxon)\r\n    },\r\n\r\n    onInput(value) {\r\n      const currentValue = this.getValue(this.selected);\r\n      if (currentValue && currentValue !== value) {\r\n        this.onSelect(null)\r\n      }\r\n\r\n      this.$emit('input', value)\r\n\r\n      this.page = 1\r\n      this.data = []\r\n      this.isLastPage = false\r\n\r\n      this.fetchData()\r\n    },\r\n\r\n    focusOnInput() {\r\n      this.$el.querySelector('input').focus()\r\n    },\r\n\r\n    /**\r\n     * Return display text for the input.\r\n     * If object, get value from path, or else just the value.\r\n     */\r\n    getValue(option) {\r\n      if (!option) return\r\n\r\n      return typeof option === 'object' ? _get(option, 'name') : option\r\n    },\r\n\r\n    enterPressed() {\r\n      if (!this.$refs.autocomplete.isActive) {\r\n        this.$emit('name')\r\n      }\r\n    },\r\n\r\n    loadMore() {\r\n      if (this.isLastPage) return\r\n\r\n      this.page++\r\n\r\n      this.fetchData()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonAutocomplete.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaxonAutocomplete.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TaxonAutocomplete.vue?vue&type=template&id=6f1f3fa7\"\nimport script from \"./TaxonAutocomplete.vue?vue&type=script&lang=js\"\nexport * from \"./TaxonAutocomplete.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.guardAgainstReservedFieldName = guardAgainstReservedFieldName;\nvar reservedFieldNames = exports.reservedFieldNames = ['__http', '__options', '__validateRequestType', 'clear', 'data', 'delete', 'errors', 'getError', 'getErrors', 'hasError', 'initial', 'onFail', 'only', 'onSuccess', 'patch', 'populate', 'post', 'processing', 'successful', 'put', 'reset', 'submit', 'withData', 'withErrors', 'withOptions'];\n\nfunction guardAgainstReservedFieldName(fieldName) {\n    if (reservedFieldNames.indexOf(fieldName) !== -1) {\n        throw new Error('Field name ' + fieldName + ' isn\\'t allowed to be used in a Form or Errors instance.');\n    }\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"spatial-input\"},[_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.field_observations.map')}},[_c('gmap-map',{staticStyle:{\"width\":\"100%\",\"min-height\":\"400px\"},attrs:{\"center\":_vm.centerCoordinates,\"zoom\":_vm.center.zoom,\"options\":{streetViewControl:false}},on:{\"click\":_vm.setMarker,\"zoom_changed\":_vm.onZoomChanged}},[_c('gmap-marker',{attrs:{\"position\":_vm.position,\"clickable\":true,\"draggable\":true},on:{\"dragend\":_vm.setMarker}}),_vm._v(\" \"),(_vm.position && _vm.newAccuracy)?_c('gmap-circle',{attrs:{\"center\":_vm.position,\"radius\":_vm.newAccuracy,\"editable\":true,\"options\":{ strokeWeight: .75 }},on:{\"radius_changed\":_vm.updateRadius}}):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"has-text-right\"},[(_vm.mapHasErrors)?_c('span',{staticClass:\"has-text-danger is-size-7\"},[_vm._v(_vm._s(_vm.trans('Some fields have errors')))]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"button is-white is-small is-text\",class:{'has-text-danger': _vm.mapHasErrors},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showDetails = !_vm.showDetails}}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.details')))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDetails),expression:\"showDetails\"}]},[_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.latitude')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('latitude')},attrs:{\"placeholder\":\"f.e. 42.5234\"},domProps:{\"value\":_vm.latitude},on:{\"input\":_vm.onLatitudeInput}})]),_vm._v(\" \"),(_vm.errors.has('latitude'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('latitude'))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.longitude')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('longitude')},attrs:{\"placeholder\":\"f.e. 19.1234\"},domProps:{\"value\":_vm.longitude},on:{\"input\":_vm.onLongitudeInput}})]),_vm._v(\" \"),(_vm.errors.has('longitude'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('longitude'))}}):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"field is-expanded\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.accuracy_m')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",attrs:{\"placeholder\":\"f.e. 100\"},domProps:{\"value\":_vm.accuracy},on:{\"input\":_vm.onAccuracyInput}})]),_vm._v(\" \"),(_vm.errors.has('accuracy'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('accuracy'))}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded is-required\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.elevation_m')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",attrs:{\"placeholder\":\"f.e. 500\"},domProps:{\"value\":_vm.elevation},on:{\"input\":_vm.onElevationInput}})]),_vm._v(\" \"),(_vm.errors.has('elevation'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('elevation'))}}):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field is-expanded\"},[_c('label',{staticClass:\"label is-small\"},[_vm._v(_vm._s(_vm.trans('labels.field_observations.location')))]),_vm._v(\" \"),_c('div',{staticClass:\"control is-fullwidth\"},[_c('input',{staticClass:\"input is-small\",class:{'is-danger': _vm.errors.has('location')},attrs:{\"placeholder\":\"Location\"},domProps:{\"value\":_vm.location},on:{\"input\":_vm.onLocationInput}})]),_vm._v(\" \"),(_vm.errors.has('location'))?_c('p',{staticClass:\"help is-danger\",domProps:{\"textContent\":_vm._s(_vm.errors.first('location'))}}):_vm._e()]),_vm._v(\" \"),_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"spatial-input\">\r\n    <b-field :label=\"trans('labels.field_observations.map')\" class=\"is-required\">\r\n      <gmap-map\r\n        style=\"width: 100%; min-height: 400px\"\r\n        :center=\"centerCoordinates\"\r\n        :zoom=\"center.zoom\"\r\n        @click=\"setMarker\"\r\n        @zoom_changed=\"onZoomChanged\"\r\n        :options=\"{streetViewControl:false}\"\r\n      >\r\n        <gmap-marker\r\n          :position=\"position\"\r\n          :clickable=\"true\"\r\n          :draggable=\"true\"\r\n          @dragend=\"setMarker\"\r\n        />\r\n\r\n        <gmap-circle\r\n          v-if=\"position && newAccuracy\"\r\n          :center=\"position\"\r\n          :radius=\"newAccuracy\"\r\n          :editable=\"true\"\r\n          @radius_changed=\"updateRadius\"\r\n          :options=\"{ strokeWeight: .75 }\"\r\n        />\r\n      </gmap-map>\r\n    </b-field>\r\n\r\n    <div class=\"has-text-right\">\r\n      <span v-if=\"mapHasErrors\" class=\"has-text-danger is-size-7\">{{ trans('Some fields have errors') }}</span>\r\n\r\n      <button type=\"button\" class=\"button is-white is-small is-text\" :class=\"{'has-text-danger': mapHasErrors}\" @click=\"showDetails = !showDetails\">{{ trans('labels.field_observations.details') }}</button>\r\n    </div>\r\n\r\n    <div v-show=\"showDetails\">\r\n      <div class=\"field is-grouped\">\r\n        <div class=\"field is-expanded is-required\">\r\n          <label class=\"label is-small\">{{ trans('labels.field_observations.latitude') }}</label>\r\n\r\n          <div class=\"control is-fullwidth\">\r\n            <input class=\"input is-small\" :class=\"{'is-danger': errors.has('latitude')}\" :value=\"latitude\" @input=\"onLatitudeInput\" placeholder=\"f.e. 42.5234\">\r\n          </div>\r\n\r\n          <p class=\"help is-danger\" v-if=\"errors.has('latitude')\" v-text=\"errors.first('latitude')\"></p>\r\n        </div>\r\n\r\n        <div class=\"field is-expanded is-required\">\r\n          <label class=\"label is-small\">{{ trans('labels.field_observations.longitude') }}</label>\r\n\r\n          <div class=\"control is-fullwidth\">\r\n            <input class=\"input is-small\" :class=\"{'is-danger': errors.has('longitude')}\" :value=\"longitude\" @input=\"onLongitudeInput\" placeholder=\"f.e. 19.1234\">\r\n          </div>\r\n\r\n          <p class=\"help is-danger\" v-if=\"errors.has('longitude')\" v-text=\"errors.first('longitude')\"></p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"field is-grouped\">\r\n        <div class=\"field is-expanded\">\r\n          <label class=\"label is-small\">{{ trans('labels.field_observations.accuracy_m') }}</label>\r\n\r\n          <div class=\"control is-fullwidth\">\r\n            <input class=\"input is-small\" :value=\"accuracy\" @input=\"onAccuracyInput\" placeholder=\"f.e. 100\">\r\n          </div>\r\n\r\n          <p class=\"help is-danger\" v-if=\"errors.has('accuracy')\" v-text=\"errors.first('accuracy')\"></p>\r\n        </div>\r\n\r\n        <div class=\"field is-expanded is-required\">\r\n          <label class=\"label is-small\">{{ trans('labels.field_observations.elevation_m') }}</label>\r\n\r\n          <div class=\"control is-fullwidth\">\r\n            <input class=\"input is-small\" :value=\"elevation\" @input=\"onElevationInput\" placeholder=\"f.e. 500\">\r\n          </div>\r\n\r\n          <p class=\"help is-danger\" v-if=\"errors.has('elevation')\" v-text=\"errors.first('elevation')\"></p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"field is-expanded\">\r\n        <label class=\"label is-small\">{{ trans('labels.field_observations.location') }}</label>\r\n\r\n        <div class=\"control is-fullwidth\">\r\n          <input class=\"input is-small\" :class=\"{'is-danger': errors.has('location')}\" :value=\"location\" @input=\"onLocationInput\" placeholder=\"Location\">\r\n        </div>\r\n\r\n        <p class=\"help is-danger\" v-if=\"errors.has('location')\" v-text=\"errors.first('location')\"></p>\r\n      </div>\r\n\r\n      <slot />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _debounce from 'lodash/debounce'\r\n\r\nconst ZOOM_ONE = 6144000\r\n\r\nexport default {\r\n  name: 'nzSpatialInput',\r\n\r\n  props: {\r\n    accuracy: Number,\r\n    elevation: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    latitude: {\r\n      type: Number,\r\n      default: 41.0\r\n    },\r\n    longitude: {\r\n      type: Number,\r\n      default: 19.0\r\n    },\r\n    location: {\r\n      type: [String, Number],\r\n      default: ''\r\n    },\r\n    errors: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    hasOtherErrors: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      emptyAccuracy: this.calculateEmptyAccuracy(window.App.gmaps.center.zoom),\r\n      showDetails: false,\r\n      elevationService: null,\r\n      center: window.App.gmaps.center\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    /**\r\n     * Position object from coordinates.\r\n     *\r\n     * @return {Object}\r\n     */\r\n    position() {\r\n      if (!this.coordinatesSet) {\r\n        return null\r\n      }\r\n\r\n      return {lat: this.latitude, lng: this.longitude}\r\n    },\r\n\r\n    /**\r\n     * Check if coordinate are set.\r\n     *\r\n     * @return {Boolean}\r\n     */\r\n    coordinatesSet() {\r\n      return !(isNaN(this.latitude)||\r\n        this.latitude === null ||\r\n        isNaN(this.longitude) ||\r\n        this.longitude === null\r\n      )\r\n    },\r\n\r\n    /**\r\n     * Check if any of the fields has an error.\r\n     *\r\n     * @return {Boolean}\r\n     */\r\n    mapHasErrors() {\r\n      return this.hasOtherErrors ||\r\n          this.errors.has('latitude') ||\r\n          this.errors.has('longitude') ||\r\n          this.errors.has('elevation') ||\r\n          this.errors.has('accuracy') ||\r\n          this.errors.has('location')\r\n    },\r\n\r\n    newAccuracy () {\r\n      return this.accuracy || this.emptyAccuracy\r\n    },\r\n\r\n    centerCoordinates() {\r\n      return this.position || {\r\n        lat: this.center.latitude,\r\n        lng: this.center.longitude\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    /**\r\n     * Get elevation when coordinates change.\r\n     */\r\n    position(value) {\r\n      if (this.coordinatesSet) {\r\n        this.getElevation(value)\r\n      }\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.setCurrentLocationAsMapCenter()\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Cast to number or null.\r\n     *\r\n     * @param  {any} value\r\n     * @return {Number}\r\n     */\r\n    castNumber(value) {\r\n      return isNaN(value) || value === '' ? null : Number(value)\r\n    },\r\n\r\n    /**\r\n     * Handle location input.\r\n     * @param {Object} event\r\n     */\r\n    onLocationInput(event) {\r\n      this.updateLocation(event.target.value)\r\n    },\r\n\r\n    /**\r\n     * Sync location property.\r\n     *\r\n     * @param {String} value\r\n     */\r\n    updateLocation(value) {\r\n      this.$emit('update:location', value)\r\n    },\r\n\r\n    /**\r\n     * Handle longitude input.\r\n     * @param  {[type]} event [description]\r\n     * @return {[type]}       [description]\r\n     */\r\n    onLongitudeInput: _debounce(function (event) {\r\n      this.updateLongitude(event.target.value)\r\n    }, 1000),\r\n\r\n    /**\r\n     * Sync longitude property.\r\n     *\r\n     * @param {Number} value\r\n     */\r\n    updateLongitude(value) {\r\n      this.$emit('update:longitude', this.castNumber(value))\r\n    },\r\n\r\n    /**\r\n     * Handle latitude input.\r\n     *\r\n     * @param {Object} event\r\n     */\r\n    onLatitudeInput: _debounce(function (event) {\r\n      this.updateLatitude(event.target.value)\r\n    }, 1000),\r\n\r\n    /**\r\n     * Sync latitude property.\r\n     *\r\n     * @param {Number} value\r\n     */\r\n    updateLatitude(value) {\r\n      this.$emit('update:latitude', this.castNumber(value))\r\n    },\r\n\r\n    /**\r\n    * Handle accuracy input.\r\n    *\r\n    * @param {Object} event\r\n    */\r\n    onAccuracyInput: _debounce(function (event) {\r\n      this.updateAccuracy(event.target.value)\r\n    }, 1000),\r\n\r\n    /**\r\n     * Sync accuracy property.\r\n     *\r\n     * @param {Number} value\r\n     */\r\n    updateAccuracy(value) {\r\n      this.$emit('update:accuracy', this.castNumber(value))\r\n    },\r\n\r\n    /**\r\n     * Handle elevation input.\r\n     *\r\n     * @param {Object} event\r\n     */\r\n    onElevationInput(event) {\r\n      this.updateElevation(event.target.value)\r\n    },\r\n\r\n    /**\r\n     * Sync elevation property.\r\n     *\r\n     * @param {Number} value\r\n     */\r\n    updateElevation(value) {\r\n      this.$emit('update:elevation', this.castNumber(value))\r\n    },\r\n\r\n    /**\r\n     * Update coordinates from marker position.\r\n     *\r\n     * @param {Object} position\r\n     */\r\n    setMarker(position) {\r\n      const lat = position.latLng.lat().toFixed(6)\r\n      const lng = position.latLng.lng().toFixed(6)\r\n\r\n      this.updateLatitude(lat)\r\n      this.updateLongitude(lng)\r\n    },\r\n\r\n    /**\r\n     * Update accuracy from circle radius on gmaps.\r\n     *\r\n     * @param  {Number} value\r\n     */\r\n    updateRadius(value) {\r\n      let radius = parseInt(value)\r\n\r\n      if (this.accuracy === null && radius === this.emptyAccuracy) {\r\n        return\r\n      }\r\n\r\n      this.updateAccuracy(radius)\r\n    },\r\n\r\n    /**\r\n     * Get elevation using Google's service.\r\n     *\r\n     * @param  {Object} position\r\n     */\r\n    getElevation(position) {\r\n      // Do nothing if we still don't have gmaps library loaded.\r\n      if (!google || !google.maps || !google.maps.ElevationService) {\r\n        return\r\n      }\r\n\r\n      // We don't initialize service when component is created\r\n      // because Gmap library probably isn't loaded yet,\r\n      // so we do it on first use of this method.\r\n      if (!this.elevationService) {\r\n        this.elevationService = new google.maps.ElevationService()\r\n      }\r\n\r\n      this.elevationService.getElevationForLocations({\r\n        locations: [position]\r\n      }, (results, status) => {\r\n        if (status != google.maps.ElevationStatus.OK || !results.length) {\r\n          return\r\n        }\r\n\r\n        const elevation = parseInt(results[0].elevation)\r\n\r\n        this.$emit('elevation-fetched', elevation)\r\n\r\n        this.updateElevation(elevation)\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Recalculate default accuracy when zoom is changed.\r\n     * @param  {Number} zoom\r\n     */\r\n    onZoomChanged(zoom) {\r\n      this.emptyAccuracy = this.calculateEmptyAccuracy(zoom)\r\n    },\r\n\r\n    /**\r\n     * Calculate accuracy based on map zoom.\r\n     * @param  {Number} zoom\r\n     * @return {Number}\r\n     */\r\n    calculateEmptyAccuracy(zoom) {\r\n      return parseInt(ZOOM_ONE / Math.pow(2, zoom))\r\n    },\r\n\r\n    /**\r\n     * Use browser location to set map center.\r\n     */\r\n    setCurrentLocationAsMapCenter() {\r\n      // We don't want to use this feature if the marker is set.\r\n      if (!navigator.geolocation || this.position) {\r\n        return\r\n      }\r\n\r\n      navigator.geolocation.getCurrentPosition(position => {\r\n        if (this.position) {\r\n          return\r\n        }\r\n\r\n        this.center.latitude = position.coords.latitude\r\n        this.center.longitude = position.coords.longitude\r\n        this.center.zoom = 10\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpatialInput.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpatialInput.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SpatialInput.vue?vue&type=template&id=75e58ea9\"\nimport script from \"./SpatialInput.vue?vue&type=script&lang=js\"\nexport * from \"./SpatialInput.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/*\n * JavaScript Load Image Meta\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Image metadata handling implementation\n * based on the help and contribution of\n * Achim Sthr.\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, Promise, DataView, Uint8Array, ArrayBuffer */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var global = loadImage.global\n  var originalTransform = loadImage.transform\n\n  var blobSlice =\n    global.Blob &&\n    (Blob.prototype.slice ||\n      Blob.prototype.webkitSlice ||\n      Blob.prototype.mozSlice)\n\n  var bufferSlice =\n    (global.ArrayBuffer && ArrayBuffer.prototype.slice) ||\n    function (begin, end) {\n      // Polyfill for IE10, which does not support ArrayBuffer.slice\n      // eslint-disable-next-line no-param-reassign\n      end = end || this.byteLength - begin\n      var arr1 = new Uint8Array(this, begin, end)\n      var arr2 = new Uint8Array(end)\n      arr2.set(arr1)\n      return arr2.buffer\n    }\n\n  var metaDataParsers = {\n    jpeg: {\n      0xffe1: [], // APP1 marker\n      0xffed: [] // APP13 marker\n    }\n  }\n\n  /**\n   * Parses image metadata and calls the callback with an object argument\n   * with the following property:\n   * - imageHead: The complete image head as ArrayBuffer\n   * The options argument accepts an object and supports the following\n   * properties:\n   * - maxMetaDataSize: Defines the maximum number of bytes to parse.\n   * - disableImageHead: Disables creating the imageHead property.\n   *\n   * @param {Blob} file Blob object\n   * @param {Function} [callback] Callback function\n   * @param {object} [options] Parsing options\n   * @param {object} [data] Result data object\n   * @returns {Promise<object>|undefined} Returns Promise if no callback given.\n   */\n  function parseMetaData(file, callback, options, data) {\n    var that = this\n    /**\n     * Promise executor\n     *\n     * @param {Function} resolve Resolution function\n     * @param {Function} reject Rejection function\n     * @returns {undefined} Undefined\n     */\n    function executor(resolve, reject) {\n      if (\n        !(\n          global.DataView &&\n          blobSlice &&\n          file &&\n          file.size >= 12 &&\n          file.type === 'image/jpeg'\n        )\n      ) {\n        // Nothing to parse\n        return resolve(data)\n      }\n      // 256 KiB should contain all EXIF/ICC/IPTC segments:\n      var maxMetaDataSize = options.maxMetaDataSize || 262144\n      if (\n        !loadImage.readFile(\n          blobSlice.call(file, 0, maxMetaDataSize),\n          function (buffer) {\n            // Note on endianness:\n            // Since the marker and length bytes in JPEG files are always\n            // stored in big endian order, we can leave the endian parameter\n            // of the DataView methods undefined, defaulting to big endian.\n            var dataView = new DataView(buffer)\n            // Check for the JPEG marker (0xffd8):\n            if (dataView.getUint16(0) !== 0xffd8) {\n              return reject(\n                new Error('Invalid JPEG file: Missing JPEG marker.')\n              )\n            }\n            var offset = 2\n            var maxOffset = dataView.byteLength - 4\n            var headLength = offset\n            var markerBytes\n            var markerLength\n            var parsers\n            var i\n            while (offset < maxOffset) {\n              markerBytes = dataView.getUint16(offset)\n              // Search for APPn (0xffeN) and COM (0xfffe) markers,\n              // which contain application-specific metadata like\n              // Exif, ICC and IPTC data and text comments:\n              if (\n                (markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\n                markerBytes === 0xfffe\n              ) {\n                // The marker bytes (2) are always followed by\n                // the length bytes (2), indicating the length of the\n                // marker segment, which includes the length bytes,\n                // but not the marker bytes, so we add 2:\n                markerLength = dataView.getUint16(offset + 2) + 2\n                if (offset + markerLength > dataView.byteLength) {\n                  // eslint-disable-next-line no-console\n                  console.log('Invalid JPEG metadata: Invalid segment size.')\n                  break\n                }\n                parsers = metaDataParsers.jpeg[markerBytes]\n                if (parsers && !options.disableMetaDataParsers) {\n                  for (i = 0; i < parsers.length; i += 1) {\n                    parsers[i].call(\n                      that,\n                      dataView,\n                      offset,\n                      markerLength,\n                      data,\n                      options\n                    )\n                  }\n                }\n                offset += markerLength\n                headLength = offset\n              } else {\n                // Not an APPn or COM marker, probably safe to\n                // assume that this is the end of the metadata\n                break\n              }\n            }\n            // Meta length must be longer than JPEG marker (2)\n            // plus APPn marker (2), followed by length bytes (2):\n            if (!options.disableImageHead && headLength > 6) {\n              data.imageHead = bufferSlice.call(buffer, 0, headLength)\n            }\n            resolve(data)\n          },\n          reject,\n          'readAsArrayBuffer'\n        )\n      ) {\n        // No support for the FileReader interface, nothing to parse\n        resolve(data)\n      }\n    }\n    options = options || {} // eslint-disable-line no-param-reassign\n    if (global.Promise && typeof callback !== 'function') {\n      options = callback || {} // eslint-disable-line no-param-reassign\n      data = options // eslint-disable-line no-param-reassign\n      return new Promise(executor)\n    }\n    data = data || {} // eslint-disable-line no-param-reassign\n    return executor(callback, callback)\n  }\n\n  /**\n   * Replaces the head of a JPEG Blob\n   *\n   * @param {Blob} blob Blob object\n   * @param {ArrayBuffer} oldHead Old JPEG head\n   * @param {ArrayBuffer} newHead New JPEG head\n   * @returns {Blob} Combined Blob\n   */\n  function replaceJPEGHead(blob, oldHead, newHead) {\n    if (!blob || !oldHead || !newHead) return null\n    return new Blob([newHead, blobSlice.call(blob, oldHead.byteLength)], {\n      type: 'image/jpeg'\n    })\n  }\n\n  /**\n   * Replaces the image head of a JPEG blob with the given one.\n   * Returns a Promise or calls the callback with the new Blob.\n   *\n   * @param {Blob} blob Blob object\n   * @param {ArrayBuffer} head New JPEG head\n   * @param {Function} [callback] Callback function\n   * @returns {Promise<Blob|null>|undefined} Combined Blob\n   */\n  function replaceHead(blob, head, callback) {\n    var options = { maxMetaDataSize: 1024, disableMetaDataParsers: true }\n    if (!callback && global.Promise) {\n      return parseMetaData(blob, options).then(function (data) {\n        return replaceJPEGHead(blob, data.imageHead, head)\n      })\n    }\n    parseMetaData(\n      blob,\n      function (data) {\n        callback(replaceJPEGHead(blob, data.imageHead, head))\n      },\n      options\n    )\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    if (loadImage.requiresMetaData(options)) {\n      data = data || {} // eslint-disable-line no-param-reassign\n      parseMetaData(\n        file,\n        function (result) {\n          if (result !== data) {\n            // eslint-disable-next-line no-console\n            if (global.console) console.log(result)\n            result = data // eslint-disable-line no-param-reassign\n          }\n          originalTransform.call(\n            loadImage,\n            img,\n            options,\n            callback,\n            file,\n            result\n          )\n        },\n        options,\n        data\n      )\n    } else {\n      originalTransform.apply(loadImage, arguments)\n    }\n  }\n\n  loadImage.blobSlice = blobSlice\n  loadImage.bufferSlice = bufferSlice\n  loadImage.replaceHead = replaceHead\n  loadImage.parseMetaData = parseMetaData\n  loadImage.metaDataParsers = metaDataParsers\n})\n","/**\n * Croppr.js\n * https://github.com/jamesssooi/Croppr.js\n * \n * A JavaScript image cropper that's lightweight, awesome, and has\n * zero dependencies.\n * \n * (C) 2017 James Ooi. Released under the MIT License.\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Croppr = factory());\n}(this, (function () { 'use strict';\n\n(function () {\n  var lastTime = 0;\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n  if (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback, element) {\n    var currTime = new Date().getTime();\n    var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n    var id = window.setTimeout(function () {\n      callback(currTime + timeToCall);\n    }, timeToCall);\n    lastTime = currTime + timeToCall;\n    return id;\n  };\n  if (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n    clearTimeout(id);\n  };\n})();\n(function () {\n  if (typeof window.CustomEvent === \"function\") return false;\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = window.Event.prototype;\n  window.CustomEvent = CustomEvent;\n})();\n(function (window) {\n  try {\n    new CustomEvent('test');\n    return false;\n  } catch (e) {}\n  function MouseEvent(eventType, params) {\n    params = params || { bubbles: false, cancelable: false };\n    var mouseEvent = document.createEvent('MouseEvent');\n    mouseEvent.initMouseEvent(eventType, params.bubbles, params.cancelable, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    return mouseEvent;\n  }\n  MouseEvent.prototype = Event.prototype;\n  window.MouseEvent = MouseEvent;\n})(window);\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n\n\n\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar Handle =\n/**\n * Creates a new Handle instance.\n * @constructor\n * @param {Array} position The x and y ratio position of the handle\n *      within the crop region. Accepts a value between 0 to 1 in the order\n *      of [X, Y].\n * @param {Array} constraints Define the side of the crop region that\n *      is to be affected by this handle. Accepts a value of 0 or 1 in the\n *      order of [TOP, RIGHT, BOTTOM, LEFT].\n * @param {String} cursor The CSS cursor of this handle.\n * @param {Element} eventBus The element to dispatch events to.\n */\nfunction Handle(position, constraints, cursor, eventBus) {\n  classCallCheck(this, Handle);\n  var self = this;\n  this.position = position;\n  this.constraints = constraints;\n  this.cursor = cursor;\n  this.eventBus = eventBus;\n  this.el = document.createElement('div');\n  this.el.className = 'croppr-handle';\n  this.el.style.cursor = cursor;\n  this.el.addEventListener('mousedown', onMouseDown);\n  function onMouseDown(e) {\n    e.stopPropagation();\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('mousemove', onMouseMove);\n    self.eventBus.dispatchEvent(new CustomEvent('handlestart', {\n      detail: { handle: self }\n    }));\n  }\n  function onMouseUp(e) {\n    e.stopPropagation();\n    document.removeEventListener('mouseup', onMouseUp);\n    document.removeEventListener('mousemove', onMouseMove);\n    self.eventBus.dispatchEvent(new CustomEvent('handleend', {\n      detail: { handle: self }\n    }));\n  }\n  function onMouseMove(e) {\n    e.stopPropagation();\n    self.eventBus.dispatchEvent(new CustomEvent('handlemove', {\n      detail: { mouseX: e.clientX, mouseY: e.clientY }\n    }));\n  }\n};\n\nvar Box = function () {\n  /**\n   * Creates a new Box instance.\n   * @constructor\n   * @param {Number} x1\n   * @param {Number} y1\n   * @param {Number} x2\n   * @param {Number} y2\n   */\n  function Box(x1, y1, x2, y2) {\n    classCallCheck(this, Box);\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n  /**\n   * Sets the new dimensions of the box.\n   * @param {Number} x1\n   * @param {Number} y1\n   * @param {Number} x2\n   * @param {Number} y2\n   */\n  createClass(Box, [{\n    key: 'set',\n    value: function set$$1() {\n      var x1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var y1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var x2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var y2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      this.x1 = x1 == null ? this.x1 : x1;\n      this.y1 = y1 == null ? this.y1 : y1;\n      this.x2 = x2 == null ? this.x2 : x2;\n      this.y2 = y2 == null ? this.y2 : y2;\n      return this;\n    }\n    /**\n     * Calculates the width of the box.\n     * @returns {Number}\n     */\n  }, {\n    key: 'width',\n    value: function width() {\n      return Math.abs(this.x2 - this.x1);\n    }\n    /**\n     * Calculates the height of the box.\n     * @returns {Number}\n     */\n  }, {\n    key: 'height',\n    value: function height() {\n      return Math.abs(this.y2 - this.y1);\n    }\n    /**\n     * Resizes the box to a new size.\n     * @param {Number} newWidth\n     * @param {Number} newHeight\n     * @param {Array} [origin] The origin point to resize from.\n     *      Defaults to [0, 0] (top left).\n     */\n  }, {\n    key: 'resize',\n    value: function resize(newWidth, newHeight) {\n      var origin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n      var fromX = this.x1 + this.width() * origin[0];\n      var fromY = this.y1 + this.height() * origin[1];\n      this.x1 = fromX - newWidth * origin[0];\n      this.y1 = fromY - newHeight * origin[1];\n      this.x2 = this.x1 + newWidth;\n      this.y2 = this.y1 + newHeight;\n      return this;\n    }\n    /**\n     * Scale the box by a factor.\n     * @param {Number} factor\n     * @param {Array} [origin] The origin point to resize from.\n     *      Defaults to [0, 0] (top left).\n     */\n  }, {\n    key: 'scale',\n    value: function scale(factor) {\n      var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n      var newWidth = this.width() * factor;\n      var newHeight = this.height() * factor;\n      this.resize(newWidth, newHeight, origin);\n      return this;\n    }\n  }, {\n    key: 'move',\n    value: function move() {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var width = this.width();\n      var height = this.height();\n      x = x === null ? this.x1 : x;\n      y = y === null ? this.y1 : y;\n      this.x1 = x;\n      this.y1 = y;\n      this.x2 = x + width;\n      this.y2 = y + height;\n      return this;\n    }\n    /**\n     * Get relative x and y coordinates of a given point within the box.\n     * @param {Array} point The x and y ratio position within the box.\n     * @returns {Array} The x and y coordinates [x, y].\n     */\n  }, {\n    key: 'getRelativePoint',\n    value: function getRelativePoint() {\n      var point = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0];\n      var x = this.width() * point[0];\n      var y = this.height() * point[1];\n      return [x, y];\n    }\n    /**\n     * Get absolute x and y coordinates of a given point within the box.\n     * @param {Array} point The x and y ratio position within the box.\n     * @returns {Array} The x and y coordinates [x, y].\n     */\n  }, {\n    key: 'getAbsolutePoint',\n    value: function getAbsolutePoint() {\n      var point = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0];\n      var x = this.x1 + this.width() * point[0];\n      var y = this.y1 + this.height() * point[1];\n      return [x, y];\n    }\n    /**\n     * Constrain the box to a fixed ratio.\n     * @param {Number} ratio\n     * @param {Array} [origin] The origin point to resize from.\n     *     Defaults to [0, 0] (top left).\n     * @param {String} [grow] The axis to grow to maintain the ratio.\n     *     Defaults to 'height'.\n     */\n  }, {\n    key: 'constrainToRatio',\n    value: function constrainToRatio(ratio) {\n      var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n      var grow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'height';\n      if (ratio === null) {\n        return;\n      }\n      var width = this.width();\n      var height = this.height();\n      switch (grow) {\n        case 'height':\n          this.resize(this.width(), this.width() * ratio, origin);\n          break;\n        case 'width':\n          this.resize(this.height() * 1 / ratio, this.height(), origin);\n          break;\n        default:\n          this.resize(this.width(), this.width() * ratio, origin);\n      }\n      return this;\n    }\n    /**\n     * Constrain the box within a boundary.\n     * @param {Number} boundaryWidth\n     * @param {Number} boundaryHeight\n     * @param {Array} [origin] The origin point to resize from.\n     *     Defaults to [0, 0] (top left).\n     */\n  }, {\n    key: 'constrainToBoundary',\n    value: function constrainToBoundary(boundaryWidth, boundaryHeight) {\n      var origin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n      var _getAbsolutePoint = this.getAbsolutePoint(origin),\n          _getAbsolutePoint2 = slicedToArray(_getAbsolutePoint, 2),\n          originX = _getAbsolutePoint2[0],\n          originY = _getAbsolutePoint2[1];\n      var maxIfLeft = originX;\n      var maxIfTop = originY;\n      var maxIfRight = boundaryWidth - originX;\n      var maxIfBottom = boundaryHeight - originY;\n      var directionX = -2 * origin[0] + 1;\n      var directionY = -2 * origin[1] + 1;\n      var maxWidth = null,\n          maxHeight = null;\n      switch (directionX) {\n        case -1:\n          maxWidth = maxIfLeft;break;\n        case 0:\n          maxWidth = Math.min(maxIfLeft, maxIfRight) * 2;break;\n        case +1:\n          maxWidth = maxIfRight;break;\n      }\n      switch (directionY) {\n        case -1:\n          maxHeight = maxIfTop;break;\n        case 0:\n          maxHeight = Math.min(maxIfTop, maxIfBottom) * 2;break;\n        case +1:\n          maxHeight = maxIfBottom;break;\n      }\n      if (this.width() > maxWidth) {\n        var factor = maxWidth / this.width();\n        this.scale(factor, origin);\n      }\n      if (this.height() > maxHeight) {\n        var _factor = maxHeight / this.height();\n        this.scale(_factor, origin);\n      }\n      return this;\n    }\n    /**\n     * Constrain the box to a maximum/minimum size.\n     * @param {Number} [maxWidth]\n     * @param {Number} [maxHeight]\n     * @param {Number} [minWidth]\n     * @param {Number} [minHeight]\n     * @param {Array} [origin] The origin point to resize from.\n     *     Defaults to [0, 0] (top left).\n     * @param {Number} [ratio] Ratio to maintain.\n     */\n  }, {\n    key: 'constrainToSize',\n    value: function constrainToSize() {\n      var maxWidth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var maxHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var minWidth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var minHeight = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var origin = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [0, 0];\n      var ratio = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n      if (ratio) {\n        if (ratio > 1) {\n          maxWidth = maxHeight * 1 / ratio;\n          minHeight = minHeight * ratio;\n        } else if (ratio < 1) {\n          maxHeight = maxWidth * ratio;\n          minWidth = minHeight * 1 / ratio;\n        }\n      }\n      if (maxWidth && this.width() > maxWidth) {\n        var newWidth = maxWidth,\n            newHeight = ratio === null ? this.height() : maxHeight;\n        this.resize(newWidth, newHeight, origin);\n      }\n      if (maxHeight && this.height() > maxHeight) {\n        var _newWidth = ratio === null ? this.width() : maxWidth,\n            _newHeight = maxHeight;\n        this.resize(_newWidth, _newHeight, origin);\n      }\n      if (minWidth && this.width() < minWidth) {\n        var _newWidth2 = minWidth,\n            _newHeight2 = ratio === null ? this.height() : minHeight;\n        this.resize(_newWidth2, _newHeight2, origin);\n      }\n      if (minHeight && this.height() < minHeight) {\n        var _newWidth3 = ratio === null ? this.width() : minWidth,\n            _newHeight3 = minHeight;\n        this.resize(_newWidth3, _newHeight3, origin);\n      }\n      return this;\n    }\n  }]);\n  return Box;\n}();\n\n/**\n * Binds an element's touch events to be simulated as mouse events.\n * @param {Element} element\n */\nfunction enableTouch(element) {\n  element.addEventListener('touchstart', simulateMouseEvent);\n  element.addEventListener('touchend', simulateMouseEvent);\n  element.addEventListener('touchmove', simulateMouseEvent);\n}\n/**\n * Translates a touch event to a mouse event.\n * @param {Event} e\n */\nfunction simulateMouseEvent(e) {\n  e.preventDefault();\n  var touch = e.changedTouches[0];\n  var eventMap = {\n    'touchstart': 'mousedown',\n    'touchmove': 'mousemove',\n    'touchend': 'mouseup'\n  };\n  touch.target.dispatchEvent(new MouseEvent(eventMap[e.type], {\n    bubbles: true,\n    cancelable: true,\n    view: window,\n    clientX: touch.clientX,\n    clientY: touch.clientY,\n    screenX: touch.screenX,\n    screenY: touch.screenY\n  }));\n}\n\n/**\n * Define a list of handles to create.\n *\n * @property {Array} position - The x and y ratio position of the handle within\n *      the crop region. Accepts a value between 0 to 1 in the order of [X, Y].\n * @property {Array} constraints - Define the side of the crop region that is to\n *      be affected by this handle. Accepts a value of 0 or 1 in the order of\n *      [TOP, RIGHT, BOTTOM, LEFT].\n * @property {String} cursor - The CSS cursor of this handle.\n */\nvar HANDLES = [{ position: [0.0, 0.0], constraints: [1, 0, 0, 1], cursor: 'nw-resize' }, { position: [0.5, 0.0], constraints: [1, 0, 0, 0], cursor: 'n-resize' }, { position: [1.0, 0.0], constraints: [1, 1, 0, 0], cursor: 'ne-resize' }, { position: [1.0, 0.5], constraints: [0, 1, 0, 0], cursor: 'e-resize' }, { position: [1.0, 1.0], constraints: [0, 1, 1, 0], cursor: 'se-resize' }, { position: [0.5, 1.0], constraints: [0, 0, 1, 0], cursor: 's-resize' }, { position: [0.0, 1.0], constraints: [0, 0, 1, 1], cursor: 'sw-resize' }, { position: [0.0, 0.5], constraints: [0, 0, 0, 1], cursor: 'w-resize' }];\nvar CropprCore = function () {\n  function CropprCore(element, options) {\n    var _this = this;\n    var deferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    classCallCheck(this, CropprCore);\n    this.options = CropprCore.parseOptions(options || {});\n    if (!element.nodeName) {\n      element = document.querySelector(element);\n      if (element == null) {\n        throw 'Unable to find element.';\n      }\n    }\n    if (!element.getAttribute('src')) {\n      throw 'Image src not provided.';\n    }\n    this._initialized = false;\n    this._restore = {\n      parent: element.parentNode,\n      element: element\n    };\n    if (!deferred) {\n      if (element.width === 0 || element.height === 0) {\n        element.onload = function () {\n          _this.initialize(element);\n        };\n      } else {\n        this.initialize(element);\n      }\n    }\n  }\n  createClass(CropprCore, [{\n    key: 'initialize',\n    value: function initialize(element) {\n      this.createDOM(element);\n      this.options.convertToPixels(this.cropperEl);\n      this.attachHandlerEvents();\n      this.attachRegionEvents();\n      this.attachOverlayEvents();\n      this.box = this.initializeBox(this.options);\n      this.redraw();\n      this._initialized = true;\n      if (this.options.onInitialize !== null) {\n        this.options.onInitialize(this);\n      }\n    }\n  }, {\n    key: 'createDOM',\n    value: function createDOM(targetEl) {\n      this.containerEl = document.createElement('div');\n      this.containerEl.className = 'croppr-container';\n      this.eventBus = this.containerEl;\n      enableTouch(this.containerEl);\n      this.cropperEl = document.createElement('div');\n      this.cropperEl.className = 'croppr';\n      this.imageEl = document.createElement('img');\n      this.imageEl.setAttribute('src', targetEl.getAttribute('src'));\n      this.imageEl.setAttribute('alt', targetEl.getAttribute('alt'));\n      this.imageEl.className = 'croppr-image';\n      this.imageClippedEl = this.imageEl.cloneNode();\n      this.imageClippedEl.className = 'croppr-imageClipped';\n      this.regionEl = document.createElement('div');\n      this.regionEl.className = 'croppr-region';\n      this.overlayEl = document.createElement('div');\n      this.overlayEl.className = 'croppr-overlay';\n      var handleContainerEl = document.createElement('div');\n      handleContainerEl.className = 'croppr-handleContainer';\n      this.handles = [];\n      for (var i = 0; i < HANDLES.length; i++) {\n        var handle = new Handle(HANDLES[i].position, HANDLES[i].constraints, HANDLES[i].cursor, this.eventBus);\n        this.handles.push(handle);\n        handleContainerEl.appendChild(handle.el);\n      }\n      this.cropperEl.appendChild(this.imageEl);\n      this.cropperEl.appendChild(this.imageClippedEl);\n      this.cropperEl.appendChild(this.regionEl);\n      this.cropperEl.appendChild(this.overlayEl);\n      this.cropperEl.appendChild(handleContainerEl);\n      this.containerEl.appendChild(this.cropperEl);\n      targetEl.parentElement.replaceChild(this.containerEl, targetEl);\n    }\n    /**\n     * Changes the image src.\n     * @param {String} src\n     */\n  }, {\n    key: 'setImage',\n    value: function setImage(src) {\n      var _this2 = this;\n      this.imageEl.onload = function () {\n        _this2.box = _this2.initializeBox(_this2.options);\n        _this2.redraw();\n      };\n      this.imageEl.src = src;\n      this.imageClippedEl.src = src;\n      return this;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._restore.parent.replaceChild(this._restore.element, this.containerEl);\n    }\n    /**\n     * Create a new box region with a set of options.\n     * @param {Object} opts The options.\n     * @returns {Box}\n     */\n  }, {\n    key: 'initializeBox',\n    value: function initializeBox(opts) {\n      var width = opts.startSize.width;\n      var height = opts.startSize.height;\n      var box = new Box(0, 0, width, height);\n      box.constrainToRatio(opts.aspectRatio, [0.5, 0.5]);\n      var min = opts.minSize;\n      var max = opts.maxSize;\n      box.constrainToSize(max.width, max.height, min.width, min.height, [0.5, 0.5], opts.aspectRatio);\n      var parentWidth = this.cropperEl.offsetWidth;\n      var parentHeight = this.cropperEl.offsetHeight;\n      box.constrainToBoundary(parentWidth, parentHeight, [0.5, 0.5]);\n      var x = this.cropperEl.offsetWidth / 2 - box.width() / 2;\n      var y = this.cropperEl.offsetHeight / 2 - box.height() / 2;\n      box.move(x, y);\n      return box;\n    }\n  }, {\n    key: 'redraw',\n    value: function redraw() {\n      var _this3 = this;\n      var width = Math.round(this.box.width()),\n          height = Math.round(this.box.height()),\n          x1 = Math.round(this.box.x1),\n          y1 = Math.round(this.box.y1),\n          x2 = Math.round(this.box.x2),\n          y2 = Math.round(this.box.y2);\n      window.requestAnimationFrame(function () {\n        _this3.regionEl.style.transform = 'translate(' + x1 + 'px, ' + y1 + 'px)';\n        _this3.regionEl.style.width = width + 'px';\n        _this3.regionEl.style.height = height + 'px';\n        _this3.imageClippedEl.style.clip = 'rect(' + y1 + 'px, ' + x2 + 'px, ' + y2 + 'px, ' + x1 + 'px)';\n        var center = _this3.box.getAbsolutePoint([.5, .5]);\n        var xSign = center[0] - _this3.cropperEl.offsetWidth / 2 >> 31;\n        var ySign = center[1] - _this3.cropperEl.offsetHeight / 2 >> 31;\n        var quadrant = (xSign ^ ySign) + ySign + ySign + 4;\n        var foregroundHandleIndex = -2 * quadrant + 8;\n        for (var i = 0; i < _this3.handles.length; i++) {\n          var handle = _this3.handles[i];\n          var handleWidth = handle.el.offsetWidth;\n          var handleHeight = handle.el.offsetHeight;\n          var left = x1 + width * handle.position[0] - handleWidth / 2;\n          var top = y1 + height * handle.position[1] - handleHeight / 2;\n          handle.el.style.transform = 'translate(' + Math.round(left) + 'px, ' + Math.round(top) + 'px)';\n          handle.el.style.zIndex = foregroundHandleIndex == i ? 5 : 4;\n        }\n      });\n    }\n  }, {\n    key: 'attachHandlerEvents',\n    value: function attachHandlerEvents() {\n      var eventBus = this.eventBus;\n      eventBus.addEventListener('handlestart', this.onHandleMoveStart.bind(this));\n      eventBus.addEventListener('handlemove', this.onHandleMoveMoving.bind(this));\n      eventBus.addEventListener('handleend', this.onHandleMoveEnd.bind(this));\n    }\n  }, {\n    key: 'attachRegionEvents',\n    value: function attachRegionEvents() {\n      var eventBus = this.eventBus;\n      var self = this;\n      this.regionEl.addEventListener('mousedown', onMouseDown);\n      eventBus.addEventListener('regionstart', this.onRegionMoveStart.bind(this));\n      eventBus.addEventListener('regionmove', this.onRegionMoveMoving.bind(this));\n      eventBus.addEventListener('regionend', this.onRegionMoveEnd.bind(this));\n      function onMouseDown(e) {\n        e.stopPropagation();\n        document.addEventListener('mouseup', onMouseUp);\n        document.addEventListener('mousemove', onMouseMove);\n        eventBus.dispatchEvent(new CustomEvent('regionstart', {\n          detail: { mouseX: e.clientX, mouseY: e.clientY }\n        }));\n      }\n      function onMouseMove(e) {\n        e.stopPropagation();\n        eventBus.dispatchEvent(new CustomEvent('regionmove', {\n          detail: { mouseX: e.clientX, mouseY: e.clientY }\n        }));\n      }\n      function onMouseUp(e) {\n        e.stopPropagation();\n        document.removeEventListener('mouseup', onMouseUp);\n        document.removeEventListener('mousemove', onMouseMove);\n        eventBus.dispatchEvent(new CustomEvent('regionend', {\n          detail: { mouseX: e.clientX, mouseY: e.clientY }\n        }));\n      }\n    }\n  }, {\n    key: 'attachOverlayEvents',\n    value: function attachOverlayEvents() {\n      var SOUTHEAST_HANDLE_IDX = 4;\n      var self = this;\n      var tmpBox = null;\n      this.overlayEl.addEventListener('mousedown', onMouseDown);\n      function onMouseDown(e) {\n        e.stopPropagation();\n        document.addEventListener('mouseup', onMouseUp);\n        document.addEventListener('mousemove', onMouseMove);\n        var container = self.cropperEl.getBoundingClientRect();\n        var mouseX = e.clientX - container.left;\n        var mouseY = e.clientY - container.top;\n        tmpBox = self.box;\n        self.box = new Box(mouseX, mouseY, mouseX + 1, mouseY + 1);\n        self.eventBus.dispatchEvent(new CustomEvent('handlestart', {\n          detail: { handle: self.handles[SOUTHEAST_HANDLE_IDX] }\n        }));\n      }\n      function onMouseMove(e) {\n        e.stopPropagation();\n        self.eventBus.dispatchEvent(new CustomEvent('handlemove', {\n          detail: { mouseX: e.clientX, mouseY: e.clientY }\n        }));\n      }\n      function onMouseUp(e) {\n        e.stopPropagation();\n        document.removeEventListener('mouseup', onMouseUp);\n        document.removeEventListener('mousemove', onMouseMove);\n        if (self.box.width() === 1 && self.box.height() === 1) {\n          self.box = tmpBox;\n          return;\n        }\n        self.eventBus.dispatchEvent(new CustomEvent('handleend', {\n          detail: { mouseX: e.clientX, mouseY: e.clientY }\n        }));\n      }\n    }\n  }, {\n    key: 'onHandleMoveStart',\n    value: function onHandleMoveStart(e) {\n      var handle = e.detail.handle;\n      var originPoint = [1 - handle.position[0], 1 - handle.position[1]];\n      var _box$getAbsolutePoint = this.box.getAbsolutePoint(originPoint),\n          _box$getAbsolutePoint2 = slicedToArray(_box$getAbsolutePoint, 2),\n          originX = _box$getAbsolutePoint2[0],\n          originY = _box$getAbsolutePoint2[1];\n      this.activeHandle = { handle: handle, originPoint: originPoint, originX: originX, originY: originY };\n      if (this.options.onCropStart !== null) {\n        this.options.onCropStart(this.getValue());\n      }\n    }\n  }, {\n    key: 'onHandleMoveMoving',\n    value: function onHandleMoveMoving(e) {\n      var _e$detail = e.detail,\n          mouseX = _e$detail.mouseX,\n          mouseY = _e$detail.mouseY;\n      var container = this.cropperEl.getBoundingClientRect();\n      mouseX = mouseX - container.left;\n      mouseY = mouseY - container.top;\n      if (mouseX < 0) {\n        mouseX = 0;\n      } else if (mouseX > container.width) {\n        mouseX = container.width;\n      }\n      if (mouseY < 0) {\n        mouseY = 0;\n      } else if (mouseY > container.height) {\n        mouseY = container.height;\n      }\n      var origin = this.activeHandle.originPoint.slice();\n      var originX = this.activeHandle.originX;\n      var originY = this.activeHandle.originY;\n      var handle = this.activeHandle.handle;\n      var TOP_MOVABLE = handle.constraints[0] === 1;\n      var RIGHT_MOVABLE = handle.constraints[1] === 1;\n      var BOTTOM_MOVABLE = handle.constraints[2] === 1;\n      var LEFT_MOVABLE = handle.constraints[3] === 1;\n      var MULTI_AXIS = (LEFT_MOVABLE || RIGHT_MOVABLE) && (TOP_MOVABLE || BOTTOM_MOVABLE);\n      var x1 = LEFT_MOVABLE || RIGHT_MOVABLE ? originX : this.box.x1;\n      var x2 = LEFT_MOVABLE || RIGHT_MOVABLE ? originX : this.box.x2;\n      var y1 = TOP_MOVABLE || BOTTOM_MOVABLE ? originY : this.box.y1;\n      var y2 = TOP_MOVABLE || BOTTOM_MOVABLE ? originY : this.box.y2;\n      x1 = LEFT_MOVABLE ? mouseX : x1;\n      x2 = RIGHT_MOVABLE ? mouseX : x2;\n      y1 = TOP_MOVABLE ? mouseY : y1;\n      y2 = BOTTOM_MOVABLE ? mouseY : y2;\n      var isFlippedX = false,\n          isFlippedY = false;\n      if (LEFT_MOVABLE || RIGHT_MOVABLE) {\n        isFlippedX = LEFT_MOVABLE ? mouseX > originX : mouseX < originX;\n      }\n      if (TOP_MOVABLE || BOTTOM_MOVABLE) {\n        isFlippedY = TOP_MOVABLE ? mouseY > originY : mouseY < originY;\n      }\n      if (isFlippedX) {\n        var tmp = x1;x1 = x2;x2 = tmp;\n        origin[0] = 1 - origin[0];\n      }\n      if (isFlippedY) {\n        var _tmp = y1;y1 = y2;y2 = _tmp;\n        origin[1] = 1 - origin[1];\n      }\n      var box = new Box(x1, y1, x2, y2);\n      if (this.options.aspectRatio) {\n        var ratio = this.options.aspectRatio;\n        var isVerticalMovement = false;\n        if (MULTI_AXIS) {\n          isVerticalMovement = mouseY > box.y1 + ratio * box.width() || mouseY < box.y2 - ratio * box.width();\n        } else if (TOP_MOVABLE || BOTTOM_MOVABLE) {\n          isVerticalMovement = true;\n        }\n        var ratioMode = isVerticalMovement ? 'width' : 'height';\n        box.constrainToRatio(ratio, origin, ratioMode);\n      }\n      var min = this.options.minSize;\n      var max = this.options.maxSize;\n      box.constrainToSize(max.width, max.height, min.width, min.height, origin, this.options.aspectRatio);\n      var parentWidth = this.cropperEl.offsetWidth;\n      var parentHeight = this.cropperEl.offsetHeight;\n      box.constrainToBoundary(parentWidth, parentHeight, origin);\n      this.box = box;\n      this.redraw();\n      if (this.options.onCropMove !== null) {\n        this.options.onCropMove(this.getValue());\n      }\n    }\n  }, {\n    key: 'onHandleMoveEnd',\n    value: function onHandleMoveEnd(e) {\n      if (this.options.onCropEnd !== null) {\n        this.options.onCropEnd(this.getValue());\n      }\n    }\n  }, {\n    key: 'onRegionMoveStart',\n    value: function onRegionMoveStart(e) {\n      var _e$detail2 = e.detail,\n          mouseX = _e$detail2.mouseX,\n          mouseY = _e$detail2.mouseY;\n      var container = this.cropperEl.getBoundingClientRect();\n      mouseX = mouseX - container.left;\n      mouseY = mouseY - container.top;\n      this.currentMove = {\n        offsetX: mouseX - this.box.x1,\n        offsetY: mouseY - this.box.y1\n      };\n      if (this.options.onCropStart !== null) {\n        this.options.onCropStart(this.getValue());\n      }\n    }\n  }, {\n    key: 'onRegionMoveMoving',\n    value: function onRegionMoveMoving(e) {\n      var _e$detail3 = e.detail,\n          mouseX = _e$detail3.mouseX,\n          mouseY = _e$detail3.mouseY;\n      var _currentMove = this.currentMove,\n          offsetX = _currentMove.offsetX,\n          offsetY = _currentMove.offsetY;\n      var container = this.cropperEl.getBoundingClientRect();\n      mouseX = mouseX - container.left;\n      mouseY = mouseY - container.top;\n      this.box.move(mouseX - offsetX, mouseY - offsetY);\n      if (this.box.x1 < 0) {\n        this.box.move(0, null);\n      }\n      if (this.box.x2 > container.width) {\n        this.box.move(container.width - this.box.width(), null);\n      }\n      if (this.box.y1 < 0) {\n        this.box.move(null, 0);\n      }\n      if (this.box.y2 > container.height) {\n        this.box.move(null, container.height - this.box.height());\n      }\n      this.redraw();\n      if (this.options.onCropMove !== null) {\n        this.options.onCropMove(this.getValue());\n      }\n    }\n  }, {\n    key: 'onRegionMoveEnd',\n    value: function onRegionMoveEnd(e) {\n      if (this.options.onCropEnd !== null) {\n        this.options.onCropEnd(this.getValue());\n      }\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (mode === null) {\n        mode = this.options.returnMode;\n      }\n      if (mode == 'real') {\n        var actualWidth = this.imageEl.naturalWidth;\n        var actualHeight = this.imageEl.naturalHeight;\n        var _imageEl$getBoundingC = this.imageEl.getBoundingClientRect(),\n            elementWidth = _imageEl$getBoundingC.width,\n            elementHeight = _imageEl$getBoundingC.height;\n        var factorX = actualWidth / elementWidth;\n        var factorY = actualHeight / elementHeight;\n        return {\n          x: Math.round(this.box.x1 * factorX),\n          y: Math.round(this.box.y1 * factorY),\n          width: Math.round(this.box.width() * factorX),\n          height: Math.round(this.box.height() * factorY)\n        };\n      } else if (mode == 'ratio') {\n        var _imageEl$getBoundingC2 = this.imageEl.getBoundingClientRect(),\n            _elementWidth = _imageEl$getBoundingC2.width,\n            _elementHeight = _imageEl$getBoundingC2.height;\n        return {\n          x: round(this.box.x1 / _elementWidth, 3),\n          y: round(this.box.y1 / _elementHeight, 3),\n          width: round(this.box.width() / _elementWidth, 3),\n          height: round(this.box.height() / _elementHeight, 3)\n        };\n      } else if (mode == 'raw') {\n        return {\n          x: Math.round(this.box.x1),\n          y: Math.round(this.box.y1),\n          width: Math.round(this.box.width()),\n          height: Math.round(this.box.height())\n        };\n      }\n    }\n  }], [{\n    key: 'parseOptions',\n    value: function parseOptions(opts) {\n      var defaults$$1 = {\n        aspectRatio: null,\n        maxSize: { width: null, height: null },\n        minSize: { width: null, height: null },\n        startSize: { width: 100, height: 100, unit: '%' },\n        returnMode: 'real',\n        onInitialize: null,\n        onCropStart: null,\n        onCropMove: null,\n        onCropEnd: null\n      };\n      var aspectRatio = null;\n      if (opts.aspectRatio !== undefined) {\n        if (typeof opts.aspectRatio === 'number') {\n          aspectRatio = opts.aspectRatio;\n        } else if (opts.aspectRatio instanceof Array) {\n          aspectRatio = opts.aspectRatio[1] / opts.aspectRatio[0];\n        }\n      }\n      var maxSize = null;\n      if (opts.maxSize !== undefined && opts.maxSize !== null) {\n        maxSize = {\n          width: opts.maxSize[0] || null,\n          height: opts.maxSize[1] || null,\n          unit: opts.maxSize[2] || 'px'\n        };\n      }\n      var minSize = null;\n      if (opts.minSize !== undefined && opts.minSize !== null) {\n        minSize = {\n          width: opts.minSize[0] || null,\n          height: opts.minSize[1] || null,\n          unit: opts.minSize[2] || 'px'\n        };\n      }\n      var startSize = null;\n      if (opts.startSize !== undefined && opts.startSize !== null) {\n        startSize = {\n          width: opts.startSize[0] || null,\n          height: opts.startSize[1] || null,\n          unit: opts.startSize[2] || '%'\n        };\n      }\n      var onInitialize = null;\n      if (typeof opts.onInitialize === 'function') {\n        onInitialize = opts.onInitialize;\n      }\n      var onCropStart = null;\n      if (typeof opts.onCropStart === 'function') {\n        onCropStart = opts.onCropStart;\n      }\n      var onCropEnd = null;\n      if (typeof opts.onCropEnd === 'function') {\n        onCropEnd = opts.onCropEnd;\n      }\n      var onCropMove = null;\n      if (typeof opts.onUpdate === 'function') {\n        console.warn('Croppr.js: `onUpdate` is deprecated and will be removed in the next major release. Please use `onCropMove` or `onCropEnd` instead.');\n        onCropMove = opts.onUpdate;\n      }\n      if (typeof opts.onCropMove === 'function') {\n        onCropMove = opts.onCropMove;\n      }\n      var returnMode = null;\n      if (opts.returnMode !== undefined) {\n        var s = opts.returnMode.toLowerCase();\n        if (['real', 'ratio', 'raw'].indexOf(s) === -1) {\n          throw \"Invalid return mode.\";\n        }\n        returnMode = s;\n      }\n      var convertToPixels = function convertToPixels(container) {\n        var width = container.offsetWidth;\n        var height = container.offsetHeight;\n        var sizeKeys = ['maxSize', 'minSize', 'startSize'];\n        for (var i = 0; i < sizeKeys.length; i++) {\n          var key = sizeKeys[i];\n          if (this[key] !== null) {\n            if (this[key].unit == '%') {\n              if (this[key].width !== null) {\n                this[key].width = this[key].width / 100 * width;\n              }\n              if (this[key].height !== null) {\n                this[key].height = this[key].height / 100 * height;\n              }\n            }\n            delete this[key].unit;\n          }\n        }\n      };\n      var defaultValue = function defaultValue(v, d) {\n        return v !== null ? v : d;\n      };\n      return {\n        aspectRatio: defaultValue(aspectRatio, defaults$$1.aspectRatio),\n        maxSize: defaultValue(maxSize, defaults$$1.maxSize),\n        minSize: defaultValue(minSize, defaults$$1.minSize),\n        startSize: defaultValue(startSize, defaults$$1.startSize),\n        returnMode: defaultValue(returnMode, defaults$$1.returnMode),\n        onInitialize: defaultValue(onInitialize, defaults$$1.onInitialize),\n        onCropStart: defaultValue(onCropStart, defaults$$1.onCropStart),\n        onCropMove: defaultValue(onCropMove, defaults$$1.onCropMove),\n        onCropEnd: defaultValue(onCropEnd, defaults$$1.onCropEnd),\n        convertToPixels: convertToPixels\n      };\n    }\n  }]);\n  return CropprCore;\n}();\nfunction round(value, decimals) {\n  return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);\n}\n\nvar Croppr$1 = function (_CropprCore) {\n  inherits(Croppr, _CropprCore);\n  /**\n   * @constructor\n   * Calls the CropprCore's constructor.\n   */\n  function Croppr(element, options) {\n    var _deferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    classCallCheck(this, Croppr);\n    return possibleConstructorReturn(this, (Croppr.__proto__ || Object.getPrototypeOf(Croppr)).call(this, element, options, _deferred));\n  }\n  /**\n   * Gets the value of the crop region.\n   * @param {String} [mode] Which mode of calculation to use: 'real', 'ratio' or\n   *      'raw'.\n   */\n  createClass(Croppr, [{\n    key: 'getValue',\n    value: function getValue(mode) {\n      return get(Croppr.prototype.__proto__ || Object.getPrototypeOf(Croppr.prototype), 'getValue', this).call(this, mode);\n    }\n    /**\n     * Changes the image src.\n     * @param {String} src\n     */\n  }, {\n    key: 'setImage',\n    value: function setImage(src) {\n      return get(Croppr.prototype.__proto__ || Object.getPrototypeOf(Croppr.prototype), 'setImage', this).call(this, src);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      return get(Croppr.prototype.__proto__ || Object.getPrototypeOf(Croppr.prototype), 'destroy', this).call(this);\n    }\n    /**\n     * Moves the crop region to a specified coordinate.\n     * @param {Number} x\n     * @param {Number} y\n     */\n  }, {\n    key: 'moveTo',\n    value: function moveTo(x, y) {\n      this.box.move(x, y);\n      this.redraw();\n      if (this.options.onCropEnd !== null) {\n        this.options.onCropEnd(this.getValue());\n      }\n      return this;\n    }\n    /**\n     * Resizes the crop region to a specified width and height.\n     * @param {Number} width\n     * @param {Number} height\n     * @param {Array} origin The origin point to resize from.\n     *      Defaults to [0.5, 0.5] (center).\n     */\n  }, {\n    key: 'resizeTo',\n    value: function resizeTo(width, height) {\n      var origin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [.5, .5];\n      this.box.resize(width, height, origin);\n      this.redraw();\n      if (this.options.onCropEnd !== null) {\n        this.options.onCropEnd(this.getValue());\n      }\n      return this;\n    }\n    /**\n     * Scale the crop region by a factor.\n     * @param {Number} factor\n     * @param {Array} origin The origin point to resize from.\n     *      Defaults to [0.5, 0.5] (center).\n     */\n  }, {\n    key: 'scaleBy',\n    value: function scaleBy(factor) {\n      var origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [.5, .5];\n      this.box.scale(factor, origin);\n      this.redraw();\n      if (this.options.onCropEnd !== null) {\n        this.options.onCropEnd(this.getValue());\n      }\n      return this;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.box = this.initializeBox(this.options);\n      this.redraw();\n      if (this.options.onCropEnd !== null) {\n        this.options.onCropEnd(this.getValue());\n      }\n      return this;\n    }\n  }]);\n  return Croppr;\n}(CropprCore);\n\nreturn Croppr$1;\n\n})));\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","/*\n * JavaScript Load Image Exif Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Exif tags mapping based on\n * https://github.com/jseidelin/exif-js\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-exif'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-exif'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var ExifMapProto = loadImage.ExifMap.prototype\n\n  ExifMapProto.tags = {\n    // =================\n    // TIFF tags (IFD0):\n    // =================\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageHeight',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0112: 'Orientation',\n    0x0115: 'SamplesPerPixel',\n    0x011c: 'PlanarConfiguration',\n    0x0212: 'YCbCrSubSampling',\n    0x0213: 'YCbCrPositioning',\n    0x011a: 'XResolution',\n    0x011b: 'YResolution',\n    0x0128: 'ResolutionUnit',\n    0x0111: 'StripOffsets',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x012d: 'TransferFunction',\n    0x013e: 'WhitePoint',\n    0x013f: 'PrimaryChromaticities',\n    0x0211: 'YCbCrCoefficients',\n    0x0214: 'ReferenceBlackWhite',\n    0x0132: 'DateTime',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0131: 'Software',\n    0x013b: 'Artist',\n    0x8298: 'Copyright',\n    0x8769: {\n      // ExifIFDPointer\n      0x9000: 'ExifVersion', // EXIF version\n      0xa000: 'FlashpixVersion', // Flashpix format version\n      0xa001: 'ColorSpace', // Color space information tag\n      0xa002: 'PixelXDimension', // Valid width of meaningful image\n      0xa003: 'PixelYDimension', // Valid height of meaningful image\n      0xa500: 'Gamma',\n      0x9101: 'ComponentsConfiguration', // Information about channels\n      0x9102: 'CompressedBitsPerPixel', // Compressed bits per pixel\n      0x927c: 'MakerNote', // Any desired information written by the manufacturer\n      0x9286: 'UserComment', // Comments by user\n      0xa004: 'RelatedSoundFile', // Name of related sound file\n      0x9003: 'DateTimeOriginal', // Date and time when the original image was generated\n      0x9004: 'DateTimeDigitized', // Date and time when the image was stored digitally\n      0x9010: 'OffsetTime', // Time zone when the image file was last changed\n      0x9011: 'OffsetTimeOriginal', // Time zone when the image was stored digitally\n      0x9012: 'OffsetTimeDigitized', // Time zone when the image was stored digitally\n      0x9290: 'SubSecTime', // Fractions of seconds for DateTime\n      0x9291: 'SubSecTimeOriginal', // Fractions of seconds for DateTimeOriginal\n      0x9292: 'SubSecTimeDigitized', // Fractions of seconds for DateTimeDigitized\n      0x829a: 'ExposureTime', // Exposure time (in seconds)\n      0x829d: 'FNumber',\n      0x8822: 'ExposureProgram', // Exposure program\n      0x8824: 'SpectralSensitivity', // Spectral sensitivity\n      0x8827: 'PhotographicSensitivity', // EXIF 2.3, ISOSpeedRatings in EXIF 2.2\n      0x8828: 'OECF', // Optoelectric conversion factor\n      0x8830: 'SensitivityType',\n      0x8831: 'StandardOutputSensitivity',\n      0x8832: 'RecommendedExposureIndex',\n      0x8833: 'ISOSpeed',\n      0x8834: 'ISOSpeedLatitudeyyy',\n      0x8835: 'ISOSpeedLatitudezzz',\n      0x9201: 'ShutterSpeedValue', // Shutter speed\n      0x9202: 'ApertureValue', // Lens aperture\n      0x9203: 'BrightnessValue', // Value of brightness\n      0x9204: 'ExposureBias', // Exposure bias\n      0x9205: 'MaxApertureValue', // Smallest F number of lens\n      0x9206: 'SubjectDistance', // Distance to subject in meters\n      0x9207: 'MeteringMode', // Metering mode\n      0x9208: 'LightSource', // Kind of light source\n      0x9209: 'Flash', // Flash status\n      0x9214: 'SubjectArea', // Location and area of main subject\n      0x920a: 'FocalLength', // Focal length of the lens in mm\n      0xa20b: 'FlashEnergy', // Strobe energy in BCPS\n      0xa20c: 'SpatialFrequencyResponse',\n      0xa20e: 'FocalPlaneXResolution', // Number of pixels in width direction per FPRUnit\n      0xa20f: 'FocalPlaneYResolution', // Number of pixels in height direction per FPRUnit\n      0xa210: 'FocalPlaneResolutionUnit', // Unit for measuring the focal plane resolution\n      0xa214: 'SubjectLocation', // Location of subject in image\n      0xa215: 'ExposureIndex', // Exposure index selected on camera\n      0xa217: 'SensingMethod', // Image sensor type\n      0xa300: 'FileSource', // Image source (3 == DSC)\n      0xa301: 'SceneType', // Scene type (1 == directly photographed)\n      0xa302: 'CFAPattern', // Color filter array geometric pattern\n      0xa401: 'CustomRendered', // Special processing\n      0xa402: 'ExposureMode', // Exposure mode\n      0xa403: 'WhiteBalance', // 1 = auto white balance, 2 = manual\n      0xa404: 'DigitalZoomRatio', // Digital zoom ratio\n      0xa405: 'FocalLengthIn35mmFilm',\n      0xa406: 'SceneCaptureType', // Type of scene\n      0xa407: 'GainControl', // Degree of overall image gain adjustment\n      0xa408: 'Contrast', // Direction of contrast processing applied by camera\n      0xa409: 'Saturation', // Direction of saturation processing applied by camera\n      0xa40a: 'Sharpness', // Direction of sharpness processing applied by camera\n      0xa40b: 'DeviceSettingDescription',\n      0xa40c: 'SubjectDistanceRange', // Distance to subject\n      0xa420: 'ImageUniqueID', // Identifier assigned uniquely to each image\n      0xa430: 'CameraOwnerName',\n      0xa431: 'BodySerialNumber',\n      0xa432: 'LensSpecification',\n      0xa433: 'LensMake',\n      0xa434: 'LensModel',\n      0xa435: 'LensSerialNumber'\n    },\n    0x8825: {\n      // GPSInfoIFDPointer\n      0x0000: 'GPSVersionID',\n      0x0001: 'GPSLatitudeRef',\n      0x0002: 'GPSLatitude',\n      0x0003: 'GPSLongitudeRef',\n      0x0004: 'GPSLongitude',\n      0x0005: 'GPSAltitudeRef',\n      0x0006: 'GPSAltitude',\n      0x0007: 'GPSTimeStamp',\n      0x0008: 'GPSSatellites',\n      0x0009: 'GPSStatus',\n      0x000a: 'GPSMeasureMode',\n      0x000b: 'GPSDOP',\n      0x000c: 'GPSSpeedRef',\n      0x000d: 'GPSSpeed',\n      0x000e: 'GPSTrackRef',\n      0x000f: 'GPSTrack',\n      0x0010: 'GPSImgDirectionRef',\n      0x0011: 'GPSImgDirection',\n      0x0012: 'GPSMapDatum',\n      0x0013: 'GPSDestLatitudeRef',\n      0x0014: 'GPSDestLatitude',\n      0x0015: 'GPSDestLongitudeRef',\n      0x0016: 'GPSDestLongitude',\n      0x0017: 'GPSDestBearingRef',\n      0x0018: 'GPSDestBearing',\n      0x0019: 'GPSDestDistanceRef',\n      0x001a: 'GPSDestDistance',\n      0x001b: 'GPSProcessingMethod',\n      0x001c: 'GPSAreaInformation',\n      0x001d: 'GPSDateStamp',\n      0x001e: 'GPSDifferential',\n      0x001f: 'GPSHPositioningError'\n    },\n    0xa005: {\n      // InteroperabilityIFDPointer\n      0x0001: 'InteroperabilityIndex'\n    }\n  }\n\n  // IFD1 directory can contain any IFD0 tags:\n  ExifMapProto.tags.ifd1 = ExifMapProto.tags\n\n  ExifMapProto.stringValues = {\n    ExposureProgram: {\n      0: 'Undefined',\n      1: 'Manual',\n      2: 'Normal program',\n      3: 'Aperture priority',\n      4: 'Shutter priority',\n      5: 'Creative program',\n      6: 'Action program',\n      7: 'Portrait mode',\n      8: 'Landscape mode'\n    },\n    MeteringMode: {\n      0: 'Unknown',\n      1: 'Average',\n      2: 'CenterWeightedAverage',\n      3: 'Spot',\n      4: 'MultiSpot',\n      5: 'Pattern',\n      6: 'Partial',\n      255: 'Other'\n    },\n    LightSource: {\n      0: 'Unknown',\n      1: 'Daylight',\n      2: 'Fluorescent',\n      3: 'Tungsten (incandescent light)',\n      4: 'Flash',\n      9: 'Fine weather',\n      10: 'Cloudy weather',\n      11: 'Shade',\n      12: 'Daylight fluorescent (D 5700 - 7100K)',\n      13: 'Day white fluorescent (N 4600 - 5400K)',\n      14: 'Cool white fluorescent (W 3900 - 4500K)',\n      15: 'White fluorescent (WW 3200 - 3700K)',\n      17: 'Standard light A',\n      18: 'Standard light B',\n      19: 'Standard light C',\n      20: 'D55',\n      21: 'D65',\n      22: 'D75',\n      23: 'D50',\n      24: 'ISO studio tungsten',\n      255: 'Other'\n    },\n    Flash: {\n      0x0000: 'Flash did not fire',\n      0x0001: 'Flash fired',\n      0x0005: 'Strobe return light not detected',\n      0x0007: 'Strobe return light detected',\n      0x0009: 'Flash fired, compulsory flash mode',\n      0x000d: 'Flash fired, compulsory flash mode, return light not detected',\n      0x000f: 'Flash fired, compulsory flash mode, return light detected',\n      0x0010: 'Flash did not fire, compulsory flash mode',\n      0x0018: 'Flash did not fire, auto mode',\n      0x0019: 'Flash fired, auto mode',\n      0x001d: 'Flash fired, auto mode, return light not detected',\n      0x001f: 'Flash fired, auto mode, return light detected',\n      0x0020: 'No flash function',\n      0x0041: 'Flash fired, red-eye reduction mode',\n      0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\n      0x0047: 'Flash fired, red-eye reduction mode, return light detected',\n      0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\n      0x004d:\n        'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\n      0x004f:\n        'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\n      0x0059: 'Flash fired, auto mode, red-eye reduction mode',\n      0x005d:\n        'Flash fired, auto mode, return light not detected, red-eye reduction mode',\n      0x005f:\n        'Flash fired, auto mode, return light detected, red-eye reduction mode'\n    },\n    SensingMethod: {\n      1: 'Undefined',\n      2: 'One-chip color area sensor',\n      3: 'Two-chip color area sensor',\n      4: 'Three-chip color area sensor',\n      5: 'Color sequential area sensor',\n      7: 'Trilinear sensor',\n      8: 'Color sequential linear sensor'\n    },\n    SceneCaptureType: {\n      0: 'Standard',\n      1: 'Landscape',\n      2: 'Portrait',\n      3: 'Night scene'\n    },\n    SceneType: {\n      1: 'Directly photographed'\n    },\n    CustomRendered: {\n      0: 'Normal process',\n      1: 'Custom process'\n    },\n    WhiteBalance: {\n      0: 'Auto white balance',\n      1: 'Manual white balance'\n    },\n    GainControl: {\n      0: 'None',\n      1: 'Low gain up',\n      2: 'High gain up',\n      3: 'Low gain down',\n      4: 'High gain down'\n    },\n    Contrast: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    Saturation: {\n      0: 'Normal',\n      1: 'Low saturation',\n      2: 'High saturation'\n    },\n    Sharpness: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    SubjectDistanceRange: {\n      0: 'Unknown',\n      1: 'Macro',\n      2: 'Close view',\n      3: 'Distant view'\n    },\n    FileSource: {\n      3: 'DSC'\n    },\n    ComponentsConfiguration: {\n      0: '',\n      1: 'Y',\n      2: 'Cb',\n      3: 'Cr',\n      4: 'R',\n      5: 'G',\n      6: 'B'\n    },\n    Orientation: {\n      1: 'Original',\n      2: 'Horizontal flip',\n      3: 'Rotate 180 CCW',\n      4: 'Vertical flip',\n      5: 'Vertical flip + Rotate 90 CW',\n      6: 'Rotate 90 CW',\n      7: 'Horizontal flip + Rotate 90 CW',\n      8: 'Rotate 90 CCW'\n    }\n  }\n\n  ExifMapProto.getText = function (name) {\n    var value = this.get(name)\n    switch (name) {\n      case 'LightSource':\n      case 'Flash':\n      case 'MeteringMode':\n      case 'ExposureProgram':\n      case 'SensingMethod':\n      case 'SceneCaptureType':\n      case 'SceneType':\n      case 'CustomRendered':\n      case 'WhiteBalance':\n      case 'GainControl':\n      case 'Contrast':\n      case 'Saturation':\n      case 'Sharpness':\n      case 'SubjectDistanceRange':\n      case 'FileSource':\n      case 'Orientation':\n        return this.stringValues[name][value]\n      case 'ExifVersion':\n      case 'FlashpixVersion':\n        if (!value) return\n        return String.fromCharCode(value[0], value[1], value[2], value[3])\n      case 'ComponentsConfiguration':\n        if (!value) return\n        return (\n          this.stringValues[name][value[0]] +\n          this.stringValues[name][value[1]] +\n          this.stringValues[name][value[2]] +\n          this.stringValues[name][value[3]]\n        )\n      case 'GPSVersionID':\n        if (!value) return\n        return value[0] + '.' + value[1] + '.' + value[2] + '.' + value[3]\n    }\n    return String(value)\n  }\n\n  ExifMapProto.getAll = function () {\n    var map = {}\n    var prop\n    var obj\n    var name\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        obj = this[prop]\n        if (obj && obj.getAll) {\n          map[this.ifds[prop].name] = obj.getAll()\n        } else {\n          name = this.tags[prop]\n          if (name) map[name] = this.getText(name)\n        }\n      }\n    }\n    return map\n  }\n\n  ExifMapProto.getName = function (tagCode) {\n    var name = this.tags[tagCode]\n    if (typeof name === 'object') return this.ifds[tagCode].name\n    return name\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;(function () {\n    var tags = ExifMapProto.tags\n    var prop\n    var ifd\n    var subTags\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        ifd = ExifMapProto.ifds[prop]\n        if (ifd) {\n          subTags = tags[prop]\n          for (prop in subTags) {\n            if (Object.prototype.hasOwnProperty.call(subTags, prop)) {\n              ifd.map[subTags[prop]] = Number(prop)\n            }\n          }\n        } else {\n          ExifMapProto.map[tags[prop]] = Number(prop)\n        }\n      }\n    }\n  })()\n})\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * JavaScript Load Image Scaling\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalTransform = loadImage.transform\n\n  loadImage.createCanvas = function (width, height, offscreen) {\n    if (offscreen && loadImage.global.OffscreenCanvas) {\n      return new OffscreenCanvas(width, height)\n    }\n    var canvas = document.createElement('canvas')\n    canvas.width = width\n    canvas.height = height\n    return canvas\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(\n      loadImage,\n      loadImage.scale(img, options, data),\n      options,\n      callback,\n      file,\n      data\n    )\n  }\n\n  // Transform image coordinates, allows to override e.g.\n  // the canvas orientation based on the orientation option,\n  // gets canvas, options and data passed as arguments:\n  loadImage.transformCoordinates = function () {}\n\n  // Returns transformed options, allows to override e.g.\n  // maxWidth, maxHeight and crop options based on the aspectRatio.\n  // gets img, options, data passed as arguments:\n  loadImage.getTransformedOptions = function (img, options) {\n    var aspectRatio = options.aspectRatio\n    var newOptions\n    var i\n    var width\n    var height\n    if (!aspectRatio) {\n      return options\n    }\n    newOptions = {}\n    for (i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.crop = true\n    width = img.naturalWidth || img.width\n    height = img.naturalHeight || img.height\n    if (width / height > aspectRatio) {\n      newOptions.maxWidth = height * aspectRatio\n      newOptions.maxHeight = height\n    } else {\n      newOptions.maxWidth = width\n      newOptions.maxHeight = width / aspectRatio\n    }\n    return newOptions\n  }\n\n  // Canvas render method, allows to implement a different rendering algorithm:\n  loadImage.drawImage = function (\n    img,\n    canvas,\n    sourceX,\n    sourceY,\n    sourceWidth,\n    sourceHeight,\n    destWidth,\n    destHeight,\n    options\n  ) {\n    var ctx = canvas.getContext('2d')\n    if (options.imageSmoothingEnabled === false) {\n      ctx.msImageSmoothingEnabled = false\n      ctx.imageSmoothingEnabled = false\n    } else if (options.imageSmoothingQuality) {\n      ctx.imageSmoothingQuality = options.imageSmoothingQuality\n    }\n    ctx.drawImage(\n      img,\n      sourceX,\n      sourceY,\n      sourceWidth,\n      sourceHeight,\n      0,\n      0,\n      destWidth,\n      destHeight\n    )\n    return ctx\n  }\n\n  // Determines if the target image should be a canvas element:\n  loadImage.requiresCanvas = function (options) {\n    return options.canvas || options.crop || !!options.aspectRatio\n  }\n\n  // Scales and/or crops the given image (img or canvas HTML element)\n  // using the given options:\n  loadImage.scale = function (img, options, data) {\n    // eslint-disable-next-line no-param-reassign\n    options = options || {}\n    // eslint-disable-next-line no-param-reassign\n    data = data || {}\n    var useCanvas =\n      img.getContext ||\n      (loadImage.requiresCanvas(options) &&\n        !!loadImage.global.HTMLCanvasElement)\n    var width = img.naturalWidth || img.width\n    var height = img.naturalHeight || img.height\n    var destWidth = width\n    var destHeight = height\n    var maxWidth\n    var maxHeight\n    var minWidth\n    var minHeight\n    var sourceWidth\n    var sourceHeight\n    var sourceX\n    var sourceY\n    var pixelRatio\n    var downsamplingRatio\n    var tmp\n    var canvas\n    /**\n     * Scales up image dimensions\n     */\n    function scaleUp() {\n      var scale = Math.max(\n        (minWidth || destWidth) / destWidth,\n        (minHeight || destHeight) / destHeight\n      )\n      if (scale > 1) {\n        destWidth *= scale\n        destHeight *= scale\n      }\n    }\n    /**\n     * Scales down image dimensions\n     */\n    function scaleDown() {\n      var scale = Math.min(\n        (maxWidth || destWidth) / destWidth,\n        (maxHeight || destHeight) / destHeight\n      )\n      if (scale < 1) {\n        destWidth *= scale\n        destHeight *= scale\n      }\n    }\n    if (useCanvas) {\n      // eslint-disable-next-line no-param-reassign\n      options = loadImage.getTransformedOptions(img, options, data)\n      sourceX = options.left || 0\n      sourceY = options.top || 0\n      if (options.sourceWidth) {\n        sourceWidth = options.sourceWidth\n        if (options.right !== undefined && options.left === undefined) {\n          sourceX = width - sourceWidth - options.right\n        }\n      } else {\n        sourceWidth = width - sourceX - (options.right || 0)\n      }\n      if (options.sourceHeight) {\n        sourceHeight = options.sourceHeight\n        if (options.bottom !== undefined && options.top === undefined) {\n          sourceY = height - sourceHeight - options.bottom\n        }\n      } else {\n        sourceHeight = height - sourceY - (options.bottom || 0)\n      }\n      destWidth = sourceWidth\n      destHeight = sourceHeight\n    }\n    maxWidth = options.maxWidth\n    maxHeight = options.maxHeight\n    minWidth = options.minWidth\n    minHeight = options.minHeight\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\n      destWidth = maxWidth\n      destHeight = maxHeight\n      tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\n      if (tmp < 0) {\n        sourceHeight = (maxHeight * sourceWidth) / maxWidth\n        if (options.top === undefined && options.bottom === undefined) {\n          sourceY = (height - sourceHeight) / 2\n        }\n      } else if (tmp > 0) {\n        sourceWidth = (maxWidth * sourceHeight) / maxHeight\n        if (options.left === undefined && options.right === undefined) {\n          sourceX = (width - sourceWidth) / 2\n        }\n      }\n    } else {\n      if (options.contain || options.cover) {\n        minWidth = maxWidth = maxWidth || minWidth\n        minHeight = maxHeight = maxHeight || minHeight\n      }\n      if (options.cover) {\n        scaleDown()\n        scaleUp()\n      } else {\n        scaleUp()\n        scaleDown()\n      }\n    }\n    if (useCanvas) {\n      pixelRatio = options.pixelRatio\n      if (\n        pixelRatio > 1 &&\n        // Check if the image has not yet had the device pixel ratio applied:\n        !(\n          img.style.width &&\n          Math.floor(parseFloat(img.style.width, 10)) ===\n            Math.floor(width / pixelRatio)\n        )\n      ) {\n        destWidth *= pixelRatio\n        destHeight *= pixelRatio\n      }\n      // Check if workaround for Chromium orientation crop bug is required:\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\n      if (\n        loadImage.orientationCropBug &&\n        !img.getContext &&\n        (sourceX || sourceY || sourceWidth !== width || sourceHeight !== height)\n      ) {\n        // Write the complete source image to an intermediate canvas first:\n        tmp = img\n        // eslint-disable-next-line no-param-reassign\n        img = loadImage.createCanvas(width, height, true)\n        loadImage.drawImage(\n          tmp,\n          img,\n          0,\n          0,\n          width,\n          height,\n          width,\n          height,\n          options\n        )\n      }\n      downsamplingRatio = options.downsamplingRatio\n      if (\n        downsamplingRatio > 0 &&\n        downsamplingRatio < 1 &&\n        destWidth < sourceWidth &&\n        destHeight < sourceHeight\n      ) {\n        while (sourceWidth * downsamplingRatio > destWidth) {\n          canvas = loadImage.createCanvas(\n            sourceWidth * downsamplingRatio,\n            sourceHeight * downsamplingRatio,\n            true\n          )\n          loadImage.drawImage(\n            img,\n            canvas,\n            sourceX,\n            sourceY,\n            sourceWidth,\n            sourceHeight,\n            canvas.width,\n            canvas.height,\n            options\n          )\n          sourceX = 0\n          sourceY = 0\n          sourceWidth = canvas.width\n          sourceHeight = canvas.height\n          // eslint-disable-next-line no-param-reassign\n          img = canvas\n        }\n      }\n      canvas = loadImage.createCanvas(destWidth, destHeight)\n      loadImage.transformCoordinates(canvas, options, data)\n      if (pixelRatio > 1) {\n        canvas.style.width = canvas.width / pixelRatio + 'px'\n      }\n      loadImage\n        .drawImage(\n          img,\n          canvas,\n          sourceX,\n          sourceY,\n          sourceWidth,\n          sourceHeight,\n          destWidth,\n          destHeight,\n          options\n        )\n        .setTransform(1, 0, 0, 1, 0, 0) // reset to the identity matrix\n      return canvas\n    }\n    img.width = destWidth\n    img.height = destHeight\n    return img\n  }\n})\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var baseIteratee = require('./_baseIteratee'),\n    basePullAt = require('./_basePullAt');\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nmodule.exports = remove;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","/*\n * JavaScript Load Image\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, Promise */\n\n;(function ($) {\n  'use strict'\n\n  var urlAPI = $.URL || $.webkitURL\n\n  /**\n   * Creates an object URL for a given File object.\n   *\n   * @param {Blob} blob Blob object\n   * @returns {string|boolean} Returns object URL if API exists, else false.\n   */\n  function createObjectURL(blob) {\n    return urlAPI ? urlAPI.createObjectURL(blob) : false\n  }\n\n  /**\n   * Revokes a given object URL.\n   *\n   * @param {string} url Blob object URL\n   * @returns {undefined|boolean} Returns undefined if API exists, else false.\n   */\n  function revokeObjectURL(url) {\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\n  }\n\n  /**\n   * Helper function to revoke an object URL\n   *\n   * @param {string} url Blob Object URL\n   * @param {object} [options] Options object\n   */\n  function revokeHelper(url, options) {\n    if (url && url.slice(0, 5) === 'blob:' && !(options && options.noRevoke)) {\n      revokeObjectURL(url)\n    }\n  }\n\n  /**\n   * Loads a given File object via FileReader interface.\n   *\n   * @param {Blob} file Blob object\n   * @param {Function} onload Load event callback\n   * @param {Function} [onerror] Error/Abort event callback\n   * @param {string} [method=readAsDataURL] FileReader method\n   * @returns {FileReader|boolean} Returns FileReader if API exists, else false.\n   */\n  function readFile(file, onload, onerror, method) {\n    if (!$.FileReader) return false\n    var reader = new FileReader()\n    reader.onload = function () {\n      onload.call(reader, this.result)\n    }\n    if (onerror) {\n      reader.onabort = reader.onerror = function () {\n        onerror.call(reader, this.error)\n      }\n    }\n    var readerMethod = reader[method || 'readAsDataURL']\n    if (readerMethod) {\n      readerMethod.call(reader, file)\n      return reader\n    }\n  }\n\n  /**\n   * Cross-frame instanceof check.\n   *\n   * @param {string} type Instance type\n   * @param {object} obj Object instance\n   * @returns {boolean} Returns true if the object is of the given instance.\n   */\n  function isInstanceOf(type, obj) {\n    // Cross-frame instanceof check\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\n  }\n\n  /**\n   * @typedef { HTMLImageElement|HTMLCanvasElement } Result\n   */\n\n  /**\n   * Loads an image for a given File object.\n   *\n   * @param {Blob|string} file Blob object or image URL\n   * @param {Function|object} [callback] Image load event callback or options\n   * @param {object} [options] Options object\n   * @returns {HTMLImageElement|FileReader|Promise<Result>} Object\n   */\n  function loadImage(file, callback, options) {\n    /**\n     * Promise executor\n     *\n     * @param {Function} resolve Resolution function\n     * @param {Function} reject Rejection function\n     * @returns {HTMLImageElement|FileReader} Object\n     */\n    function executor(resolve, reject) {\n      var img = document.createElement('img')\n      var url\n      /**\n       * Callback for the fetchBlob call.\n       *\n       * @param {HTMLImageElement|HTMLCanvasElement} img Error object\n       * @param {object} data Data object\n       * @returns {undefined} Undefined\n       */\n      function resolveWrapper(img, data) {\n        if (resolve === reject) {\n          // Not using Promises\n          if (resolve) resolve(img, data)\n          return\n        } else if (img instanceof Error) {\n          reject(img)\n          return\n        }\n        data = data || {} // eslint-disable-line no-param-reassign\n        data.image = img\n        resolve(data)\n      }\n      /**\n       * Callback for the fetchBlob call.\n       *\n       * @param {Blob} blob Blob object\n       * @param {Error} err Error object\n       */\n      function fetchBlobCallback(blob, err) {\n        if (err && $.console) console.log(err) // eslint-disable-line no-console\n        if (blob && isInstanceOf('Blob', blob)) {\n          file = blob // eslint-disable-line no-param-reassign\n          url = createObjectURL(file)\n        } else {\n          url = file\n          if (options && options.crossOrigin) {\n            img.crossOrigin = options.crossOrigin\n          }\n        }\n        img.src = url\n      }\n      img.onerror = function (event) {\n        revokeHelper(url, options)\n        if (reject) reject.call(img, event)\n      }\n      img.onload = function () {\n        revokeHelper(url, options)\n        var data = {\n          originalWidth: img.naturalWidth || img.width,\n          originalHeight: img.naturalHeight || img.height\n        }\n        try {\n          loadImage.transform(img, options, resolveWrapper, file, data)\n        } catch (error) {\n          if (reject) reject(error)\n        }\n      }\n      if (typeof file === 'string') {\n        if (loadImage.requiresMetaData(options)) {\n          loadImage.fetchBlob(file, fetchBlobCallback, options)\n        } else {\n          fetchBlobCallback()\n        }\n        return img\n      } else if (isInstanceOf('Blob', file) || isInstanceOf('File', file)) {\n        url = createObjectURL(file)\n        if (url) {\n          img.src = url\n          return img\n        }\n        return readFile(\n          file,\n          function (url) {\n            img.src = url\n          },\n          reject\n        )\n      }\n    }\n    if ($.Promise && typeof callback !== 'function') {\n      options = callback // eslint-disable-line no-param-reassign\n      return new Promise(executor)\n    }\n    return executor(callback, callback)\n  }\n\n  // Determines if metadata should be loaded automatically.\n  // Requires the load image meta extension to load metadata.\n  loadImage.requiresMetaData = function (options) {\n    return options && options.meta\n  }\n\n  // If the callback given to this function returns a blob, it is used as image\n  // source instead of the original url and overrides the file argument used in\n  // the onload and onerror event callbacks:\n  loadImage.fetchBlob = function (url, callback) {\n    callback()\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    callback(img, data)\n  }\n\n  loadImage.global = $\n  loadImage.readFile = readFile\n  loadImage.isInstanceOf = isInstanceOf\n  loadImage.createObjectURL = createObjectURL\n  loadImage.revokeObjectURL = revokeObjectURL\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return loadImage\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = loadImage\n  } else {\n    $.loadImage = loadImage\n  }\n})((typeof window !== 'undefined' && window) || this)\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","/*\n * JavaScript Load Image Exif Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n/* eslint-disable no-console */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  /**\n   * Exif tag map\n   *\n   * @name ExifMap\n   * @class\n   * @param {number|string} tagCode IFD tag code\n   */\n  function ExifMap(tagCode) {\n    if (tagCode) {\n      Object.defineProperty(this, 'map', {\n        value: this.ifds[tagCode].map\n      })\n      Object.defineProperty(this, 'tags', {\n        value: (this.tags && this.tags[tagCode]) || {}\n      })\n    }\n  }\n\n  ExifMap.prototype.map = {\n    Orientation: 0x0112,\n    Thumbnail: 'ifd1',\n    Blob: 0x0201, // Alias for JPEGInterchangeFormat\n    Exif: 0x8769,\n    GPSInfo: 0x8825,\n    Interoperability: 0xa005\n  }\n\n  ExifMap.prototype.ifds = {\n    ifd1: { name: 'Thumbnail', map: ExifMap.prototype.map },\n    0x8769: { name: 'Exif', map: {} },\n    0x8825: { name: 'GPSInfo', map: {} },\n    0xa005: { name: 'Interoperability', map: {} }\n  }\n\n  /**\n   * Retrieves exif tag value\n   *\n   * @param {number|string} id Exif tag code or name\n   * @returns {object} Exif tag value\n   */\n  ExifMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n  }\n\n  /**\n   * Returns the Exif Thumbnail data as Blob.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Thumbnail data offset\n   * @param {number} length Thumbnail data length\n   * @returns {undefined|Blob} Returns the Thumbnail Blob or undefined\n   */\n  function getExifThumbnail(dataView, offset, length) {\n    if (!length) return\n    if (offset + length > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid thumbnail data.')\n      return\n    }\n    return new Blob(\n      [loadImage.bufferSlice.call(dataView.buffer, offset, offset + length)],\n      {\n        type: 'image/jpeg'\n      }\n    )\n  }\n\n  var ExifTagTypes = {\n    // byte, 8-bit unsigned int:\n    1: {\n      getValue: function (dataView, dataOffset) {\n        return dataView.getUint8(dataOffset)\n      },\n      size: 1\n    },\n    // ascii, 8-bit byte:\n    2: {\n      getValue: function (dataView, dataOffset) {\n        return String.fromCharCode(dataView.getUint8(dataOffset))\n      },\n      size: 1,\n      ascii: true\n    },\n    // short, 16 bit int:\n    3: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint16(dataOffset, littleEndian)\n      },\n      size: 2\n    },\n    // long, 32 bit int:\n    4: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint32(dataOffset, littleEndian)\n      },\n      size: 4\n    },\n    // rational = two long values, first is numerator, second is denominator:\n    5: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return (\n          dataView.getUint32(dataOffset, littleEndian) /\n          dataView.getUint32(dataOffset + 4, littleEndian)\n        )\n      },\n      size: 8\n    },\n    // slong, 32 bit signed int:\n    9: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getInt32(dataOffset, littleEndian)\n      },\n      size: 4\n    },\n    // srational, two slongs, first is numerator, second is denominator:\n    10: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return (\n          dataView.getInt32(dataOffset, littleEndian) /\n          dataView.getInt32(dataOffset + 4, littleEndian)\n        )\n      },\n      size: 8\n    }\n  }\n  // undefined, 8-bit byte, value depending on field:\n  ExifTagTypes[7] = ExifTagTypes[1]\n\n  /**\n   * Returns Exif tag value.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} offset Tag offset\n   * @param {number} type Tag type\n   * @param {number} length Tag length\n   * @param {boolean} littleEndian Little endian encoding\n   * @returns {object} Tag value\n   */\n  function getExifValue(\n    dataView,\n    tiffOffset,\n    offset,\n    type,\n    length,\n    littleEndian\n  ) {\n    var tagType = ExifTagTypes[type]\n    var tagSize\n    var dataOffset\n    var values\n    var i\n    var str\n    var c\n    if (!tagType) {\n      console.log('Invalid Exif data: Invalid tag type.')\n      return\n    }\n    tagSize = tagType.size * length\n    // Determine if the value is contained in the dataOffset bytes,\n    // or if the value at the dataOffset is a pointer to the actual data:\n    dataOffset =\n      tagSize > 4\n        ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\n        : offset + 8\n    if (dataOffset + tagSize > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid data offset.')\n      return\n    }\n    if (length === 1) {\n      return tagType.getValue(dataView, dataOffset, littleEndian)\n    }\n    values = []\n    for (i = 0; i < length; i += 1) {\n      values[i] = tagType.getValue(\n        dataView,\n        dataOffset + i * tagType.size,\n        littleEndian\n      )\n    }\n    if (tagType.ascii) {\n      str = ''\n      // Concatenate the chars:\n      for (i = 0; i < values.length; i += 1) {\n        c = values[i]\n        // Ignore the terminating NULL byte(s):\n        if (c === '\\u0000') {\n          break\n        }\n        str += c\n      }\n      return str\n    }\n    return values\n  }\n\n  /**\n   * Determines if the given tag should be included.\n   *\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   * @param {number|string} tagCode Tag code to check\n   * @returns {boolean} True if the tag should be included\n   */\n  function shouldIncludeTag(includeTags, excludeTags, tagCode) {\n    return (\n      (!includeTags || includeTags[tagCode]) &&\n      (!excludeTags || excludeTags[tagCode] !== true)\n    )\n  }\n\n  /**\n   * Parses Exif tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} dirOffset Directory offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {ExifMap} tags Map to store parsed exif tags\n   * @param {ExifMap} tagOffsets Map to store parsed exif tag offsets\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   * @returns {number} Next directory offset\n   */\n  function parseExifTags(\n    dataView,\n    tiffOffset,\n    dirOffset,\n    littleEndian,\n    tags,\n    tagOffsets,\n    includeTags,\n    excludeTags\n  ) {\n    var tagsNumber, dirEndOffset, i, tagOffset, tagNumber, tagValue\n    if (dirOffset + 6 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory offset.')\n      return\n    }\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\n    if (dirEndOffset + 4 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory size.')\n      return\n    }\n    for (i = 0; i < tagsNumber; i += 1) {\n      tagOffset = dirOffset + 2 + 12 * i\n      tagNumber = dataView.getUint16(tagOffset, littleEndian)\n      if (!shouldIncludeTag(includeTags, excludeTags, tagNumber)) continue\n      tagValue = getExifValue(\n        dataView,\n        tiffOffset,\n        tagOffset,\n        dataView.getUint16(tagOffset + 2, littleEndian), // tag type\n        dataView.getUint32(tagOffset + 4, littleEndian), // tag length\n        littleEndian\n      )\n      tags[tagNumber] = tagValue\n      if (tagOffsets) {\n        tagOffsets[tagNumber] = tagOffset\n      }\n    }\n    // Return the offset to the next directory:\n    return dataView.getUint32(dirEndOffset, littleEndian)\n  }\n\n  /**\n   * Parses tags in a given IFD (Image File Directory).\n   *\n   * @param {object} data Data object to store exif tags and offsets\n   * @param {number|string} tagCode IFD tag code\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseExifIFD(\n    data,\n    tagCode,\n    dataView,\n    tiffOffset,\n    littleEndian,\n    includeTags,\n    excludeTags\n  ) {\n    var dirOffset = data.exif[tagCode]\n    if (dirOffset) {\n      data.exif[tagCode] = new ExifMap(tagCode)\n      if (data.exifOffsets) {\n        data.exifOffsets[tagCode] = new ExifMap(tagCode)\n      }\n      parseExifTags(\n        dataView,\n        tiffOffset,\n        tiffOffset + dirOffset,\n        littleEndian,\n        data.exif[tagCode],\n        data.exifOffsets && data.exifOffsets[tagCode],\n        includeTags && includeTags[tagCode],\n        excludeTags && excludeTags[tagCode]\n      )\n    }\n  }\n\n  loadImage.parseExifData = function (dataView, offset, length, data, options) {\n    if (options.disableExif) {\n      return\n    }\n    var includeTags = options.includeExifTags\n    var excludeTags = options.excludeExifTags || {\n      0x8769: {\n        // ExifIFDPointer\n        0x927c: true // MakerNote\n      }\n    }\n    var tiffOffset = offset + 10\n    var littleEndian\n    var dirOffset\n    var thumbnailIFD\n    // Check for the ASCII code for \"Exif\" (0x45786966):\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\n      // No Exif data, might be XMP data instead\n      return\n    }\n    if (tiffOffset + 8 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid segment size.')\n      return\n    }\n    // Check for the two null bytes:\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\n      console.log('Invalid Exif data: Missing byte alignment offset.')\n      return\n    }\n    // Check the byte alignment:\n    switch (dataView.getUint16(tiffOffset)) {\n      case 0x4949:\n        littleEndian = true\n        break\n      case 0x4d4d:\n        littleEndian = false\n        break\n      default:\n        console.log('Invalid Exif data: Invalid byte alignment marker.')\n        return\n    }\n    // Check for the TIFF tag marker (0x002A):\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002a) {\n      console.log('Invalid Exif data: Missing TIFF marker.')\n      return\n    }\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\n    // Create the exif object to store the tags:\n    data.exif = new ExifMap()\n    if (!options.disableExifOffsets) {\n      data.exifOffsets = new ExifMap()\n      data.exifTiffOffset = tiffOffset\n      data.exifLittleEndian = littleEndian\n    }\n    // Parse the tags of the main image directory (IFD0) and retrieve the\n    // offset to the next directory (IFD1), usually the thumbnail directory:\n    dirOffset = parseExifTags(\n      dataView,\n      tiffOffset,\n      tiffOffset + dirOffset,\n      littleEndian,\n      data.exif,\n      data.exifOffsets,\n      includeTags,\n      excludeTags\n    )\n    if (dirOffset && shouldIncludeTag(includeTags, excludeTags, 'ifd1')) {\n      data.exif.ifd1 = dirOffset\n      if (data.exifOffsets) {\n        data.exifOffsets.ifd1 = tiffOffset + dirOffset\n      }\n    }\n    Object.keys(data.exif.ifds).forEach(function (tagCode) {\n      parseExifIFD(\n        data,\n        tagCode,\n        dataView,\n        tiffOffset,\n        littleEndian,\n        includeTags,\n        excludeTags\n      )\n    })\n    thumbnailIFD = data.exif.ifd1\n    // Check for JPEG Thumbnail offset and data length:\n    if (thumbnailIFD && thumbnailIFD[0x0201]) {\n      thumbnailIFD[0x0201] = getExifThumbnail(\n        dataView,\n        tiffOffset + thumbnailIFD[0x0201],\n        thumbnailIFD[0x0202] // Thumbnail data length\n      )\n    }\n  }\n\n  // Registers the Exif parser for the APP1 JPEG metadata segment:\n  loadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\n\n  loadImage.exifWriters = {\n    // Orientation writer:\n    0x0112: function (buffer, data, value) {\n      var orientationOffset = data.exifOffsets[0x0112]\n      if (!orientationOffset) return buffer\n      var view = new DataView(buffer, orientationOffset + 8, 2)\n      view.setUint16(0, value, data.exifLittleEndian)\n      return buffer\n    }\n  }\n\n  loadImage.writeExifData = function (buffer, data, id, value) {\n    return loadImage.exifWriters[data.exif.map[id]](buffer, data, value)\n  }\n\n  loadImage.ExifMap = ExifMap\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - exif: The parsed Exif tags\n  // - exifOffsets: The parsed Exif tag offsets\n  // - exifTiffOffset: TIFF header offset (used for offset pointers)\n  // - exifLittleEndian: little endian order if true, big endian if false\n\n  // Adds the following options to the parseMetaData method:\n  // - disableExif: Disables Exif parsing when true.\n  // - disableExifOffsets: Disables storing Exif tag offsets when true.\n  // - includeExifTags: A map of Exif tags to include for parsing.\n  // - excludeExifTags: A map of Exif tags to exclude from parsing.\n})\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _objects = require('./objects');\n\nObject.keys(_objects).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _objects[key];\n    }\n  });\n});\n\nvar _formData = require('./formData');\n\nObject.keys(_formData).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _formData[key];\n    }\n  });\n});\n\nvar _fieldNameValidation = require('./fieldNameValidation');\n\nObject.keys(_fieldNameValidation).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _fieldNameValidation[key];\n    }\n  });\n});","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.isArray = isArray;\nexports.isFile = isFile;\nexports.merge = merge;\nexports.cloneDeep = cloneDeep;\nfunction isArray(object) {\n    return Object.prototype.toString.call(object) === '[object Array]';\n}\n\nfunction isFile(object) {\n    return object instanceof File || object instanceof FileList;\n}\n\nfunction merge(a, b) {\n    for (var key in b) {\n        a[key] = cloneDeep(b[key]);\n    }\n}\n\nfunction cloneDeep(object) {\n    if (object === null) {\n        return null;\n    }\n\n    if (isFile(object)) {\n        return object;\n    }\n\n    if (Array.isArray(object)) {\n        var clone = [];\n\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                clone[key] = cloneDeep(object[key]);\n            }\n        }\n\n        return clone;\n    }\n\n    if ((typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object') {\n        var _clone = {};\n\n        for (var _key in object) {\n            if (object.hasOwnProperty(_key)) {\n                _clone[_key] = cloneDeep(object[_key]);\n            }\n        }\n\n        return _clone;\n    }\n\n    return object;\n}","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Form = require('./Form');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Form).default;\n  }\n});\nObject.defineProperty(exports, 'Form', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Form).default;\n  }\n});\n\nvar _Errors = require('./Errors');\n\nObject.defineProperty(exports, 'Errors', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Errors).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.haveImage)?_c('b-field',{attrs:{\"message\":_vm.error || null,\"type\":_vm.error ? 'is-danger' : null,\"expanded\":\"\"}},[_c('b-upload',{attrs:{\"drag-drop\":\"\",\"expanded\":\"\",\"disabled\":_vm.uploading || _vm.loading},on:{\"input\":_vm.onInput}},[_c('section',{ref:\"uploadZone\",staticClass:\"section is-relative\"},[_c('div',{staticClass:\"has-text-centered\"},[_c('div',[_c('b-icon',{attrs:{\"icon\":\"upload\",\"size\":\"is-medium\"}})],1),_vm._v(\" \"),(_vm.uploading)?_c('progress',{staticClass:\"progress is-primary is-small\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.progress}},[_vm._v(_vm._s(_vm.progress)+\"%\")]):(_vm.loading)?_c('div',[_vm._v(_vm._s(_vm.trans('Loading...')))]):_c('div',[_vm._v(_vm._s(_vm.text))])])])])],1):_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-image\"},[_c('figure',{staticClass:\"has-magnifier has-text-centered\",on:{\"click\":function($event){_vm.showModal = true}}},[_c('img',{staticClass:\"max-h-36\",attrs:{\"src\":_vm.thumbnailUrl,\"alt\":\"Uploaded photo\"}}),_vm._v(\" \"),_c('div',{staticClass:\"image-magnifier\"},[_c('b-icon',{attrs:{\"icon\":\"expand\",\"size\":\"is-medium\"}})],1)])]),_vm._v(\" \"),(_vm.haveImage)?_c('footer',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"card-footer-item flex-col\"},[_c('div',{staticClass:\"mb-4 w-full flex justify-between\"},[(_vm.withCrop)?_c('button',{staticClass:\"button is-outlined is-small mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openCropModal,\"close\":_vm.closeCropModal}},[_c('b-icon',{attrs:{\"icon\":\"crop\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.image.path || _vm.hasExisting)?_c('button',{staticClass:\"delete is-danger is-medium\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.remove}}):_vm._e()]),_vm._v(\" \"),(_vm.withLicense)?_c('div',{staticClass:\"w-full\"},[_c('b-select',{attrs:{\"value\":_vm.image.license,\"expanded\":\"\"},on:{\"input\":_vm.handleLicenseChanged}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.default')))]),_vm._v(\" \"),_vm._l((_vm.licenses),function(label,value){return _c('option',{key:value,domProps:{\"value\":value,\"textContent\":_vm._s(label)}})})],2)],1):_vm._e()])]):_vm._e(),_vm._v(\" \"),(_vm.haveImage)?_c('nz-image-crop-modal',{attrs:{\"active\":_vm.showCropModal,\"crop\":_vm.image.crop,\"image-url\":_vm.image.url},on:{\"update:active\":function($event){_vm.showCropModal=$event},\"update:crop\":function($event){return _vm.$set(_vm.image, \"crop\", $event)}}}):_vm._e(),_vm._v(\" \"),(_vm.showModal)?_c('nz-image-modal',{attrs:{\"items\":[_vm.thumbnailUrl]},on:{\"close\":function($event){_vm.showModal = false}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Box component\n */\nexport default class Box {\n  /**\n   * Creates a new Box instance.\n   * @constructor\n   * @param {Number} x1\n   * @param {Number} y1\n   * @param {Number} x2\n   * @param {Number} y2\n   */\n  constructor(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  /** \n   * Sets the new dimensions of the box.\n   * @param {Number} x1\n   * @param {Number} y1\n   * @param {Number} x2\n   * @param {Number} y2\n   */\n  set(x1 = null, y1 = null, x2 = null, y2 = null) {\n    this.x1 = x1 == null ? this.x1 : x1;\n    this.y1 = y1 == null ? this.y1 : y1;\n    this.x2 = x2 == null ? this.x2 : x2;\n    this.y2 = y2 == null ? this.y2 : y2;\n    return this;\n  }\n\n  /**\n   * Calculates the width of the box.\n   * @returns {Number}\n   */\n  width() {\n    return Math.abs(this.x2 - this.x1);\n  }\n\n  /**\n   * Calculates the height of the box.\n   * @returns {Number}\n   */\n  height() {\n    return Math.abs(this.y2 - this.y1);\n  }\n\n  /**\n   * Resizes the box to a new size.\n   * @param {Number} newWidth\n   * @param {Number} newHeight\n   * @param {Array} [origin] The origin point to resize from.\n   *      Defaults to [0, 0] (top left).\n   */\n  resize(newWidth, newHeight, origin = [0, 0]) {\n    const fromX = this.x1 + (this.width() * origin[0]);\n    const fromY = this.y1 + (this.height() * origin[1]);\n\n    this.x1 = fromX - (newWidth * origin[0]);\n    this.y1 = fromY - (newHeight * origin[1]);\n    this.x2 = this.x1 + newWidth;\n    this.y2 = this.y1 + newHeight;\n\n    return this;\n  }\n\n  /**\n   * Scale the box by a factor.\n   * @param {Number} factor\n   * @param {Array} [origin] The origin point to resize from.\n   *      Defaults to [0, 0] (top left).\n   */\n  scale(factor, origin = [0, 0]) {\n    const newWidth = this.width() * factor;\n    const newHeight = this.height() * factor;\n    this.resize(newWidth, newHeight, origin);\n    return this;\n  }\n\n  /**\n   * Move the box to the specified coordinates.\n   */\n  move(x = null, y = null) {\n    let width = this.width();\n    let height = this.height();\n    x = x === null ? this.x1 : x;\n    y = y === null ? this.y1 : y;\n\n    this.x1 = x;\n    this.y1 = y;\n    this.x2 = x + width;\n    this.y2 = y + height;\n    return this;\n  }\n\n  /**\n   * Get relative x and y coordinates of a given point within the box.\n   * @param {Array} point The x and y ratio position within the box.\n   * @returns {Array} The x and y coordinates [x, y].\n   */\n  getRelativePoint(point = [0, 0]) {\n    const x = this.width() * point[0];\n    const y = this.height() * point[1];\n    return [x, y];\n  }\n\n  /**\n   * Get absolute x and y coordinates of a given point within the box.\n   * @param {Array} point The x and y ratio position within the box.\n   * @returns {Array} The x and y coordinates [x, y].\n   */\n  getAbsolutePoint(point = [0, 0]) {\n    const x = this.x1 + this.width() * point[0];\n    const y = this.y1 + this.height() * point[1];\n    return [x, y];\n  }\n\n  /**\n   * Constrain the box to a fixed ratio.\n   * @param {Number} ratio\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   * @param {String} [grow] The axis to grow to maintain the ratio.\n   *     Defaults to 'height'.\n   */\n  constrainToRatio(ratio, origin = [0, 0], grow = 'height') {\n    if (ratio === null) { return; }\n    const width = this.width();\n    const height = this.height();\n    switch (grow) {\n      case 'height': // Grow height only\n        this.resize(this.width(), this.width() * ratio, origin);\n        break;\n      case 'width': // Grow width only\n        this.resize(this.height() * 1 / ratio, this.height(), origin);\n        break;\n      default: // Default: Grow height only\n        this.resize(this.width(), this.width() * ratio, origin);\n    }\n\n    return this;\n  }\n\n  /**\n   * Constrain the box within a boundary.\n   * @param {Number} boundaryWidth\n   * @param {Number} boundaryHeight\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   */\n  constrainToBoundary(boundaryWidth, boundaryHeight, origin = [0, 0]) {\n\n    // Calculate the maximum sizes for each direction of growth\n    const [originX, originY] = this.getAbsolutePoint(origin);\n    const maxIfLeft = originX\n    const maxIfTop = originY\n    const maxIfRight = boundaryWidth - originX\n    const maxIfBottom = boundaryHeight - originY\n\n    // Express the direction of growth in terms of left, both,\n    // and right as -1, 0, and 1 respectively. Ditto for top/both/down.\n    const directionX = -2 * origin[0] + 1;\n    const directionY = -2 * origin[1] + 1;\n\n    // Determine the max size to use according to the direction of growth.\n    let [maxWidth, maxHeight] = [null, null];\n    switch (directionX) {\n      case -1: maxWidth = maxIfLeft; break;\n      case 0: maxWidth = Math.min(maxIfLeft, maxIfRight) * 2; break;\n      case +1: maxWidth = maxIfRight; break;\n    }\n    switch (directionY) {\n      case -1: maxHeight = maxIfTop; break;\n      case 0: maxHeight = Math.min(maxIfTop, maxIfBottom) * 2; break;\n      case +1: maxHeight = maxIfBottom; break;\n    }\n\n    // Resize if the box exceeds the calculated max width/height.\n    if (this.width() > maxWidth) {\n      const factor = maxWidth / this.width();\n      this.scale(factor, origin);\n    }\n    if (this.height() > maxHeight) {\n      const factor = maxHeight / this.height();\n      this.scale(factor, origin);\n    }\n\n    return this;\n  }\n\n  /**\n   * Constrain the box to a maximum/minimum size.\n   * @param {Number} [maxWidth]\n   * @param {Number} [maxHeight]\n   * @param {Number} [minWidth]\n   * @param {Number} [minHeight]\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   * @param {Number} [ratio] Ratio to maintain.\n   */\n  constrainToSize(maxWidth = null, maxHeight = null,\n    minWidth = null, minHeight = null,\n    origin = [0, 0], ratio = null) {\n\n    // Calculate new max/min widths & heights that constrains to the ratio\n    if (ratio) {\n      if (ratio > 1) {\n        maxWidth = maxHeight * 1 / ratio;\n        minHeight = minHeight * ratio;\n      } else if (ratio < 1) {\n        maxHeight = maxWidth * ratio;\n        minWidth = minHeight * 1 / ratio;\n      }\n    }\n\n    if (maxWidth && this.width() > maxWidth) {\n      const newWidth = maxWidth,\n        newHeight = ratio === null ? this.height() : maxHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (maxHeight && this.height() > maxHeight) {\n      const newWidth = ratio === null ? this.width() : maxWidth,\n        newHeight = maxHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (minWidth && this.width() < minWidth) {\n      const newWidth = minWidth,\n        newHeight = ratio === null ? this.height() : minHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (minHeight && this.height() < minHeight) {\n      const newWidth = ratio === null ? this.width() : minWidth,\n        newHeight = minHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    return this;\n  }\n}\n","import BaseCroppr from 'croppr'\r\nimport Box from 'croppr/src/box'\r\n\r\nexport default class Croppr extends BaseCroppr {\r\n  setBoxToRealPosition(value) {\r\n    const actualWidth = this.imageEl.naturalWidth\r\n    const actualHeight = this.imageEl.naturalHeight\r\n    const factorX = actualWidth / this.imageEl.offsetWidth\r\n    const factorY = actualHeight / this.imageEl.offsetHeight\r\n\r\n    this.box = new Box(\r\n      Math.round(value.x / factorX),\r\n      Math.round(value.y / factorY),\r\n      Math.round((value.x + value.width) / factorX),\r\n      Math.round((value.y + value.height) / factorY)\r\n    )\r\n\r\n    this.redraw()\r\n  }\r\n}\r\n","<template>\r\n  <transition :name=\"animation\">\r\n    <div v-if=\"isActive\" class=\"modal is-active\">\r\n      <div class=\"modal-background\"/>\r\n\r\n      <div\r\n        class=\"animation-content modal-content\"\r\n        :style=\"{ maxWidth: newWidth }\"\r\n      >\r\n        <img\r\n          :src=\"imageUrl\"\r\n          class=\"image\"\r\n          alt=\"Cropped image\"\r\n          ref=\"cropModalImage\"\r\n        >\r\n      </div>\r\n\r\n      <button\r\n        type=\"button\"\r\n        class=\"modal-close is-large\"\r\n        @click=\"cancel('x')\"\r\n      />\r\n\r\n      <button\r\n        type=\"button\"\r\n        class=\"modal-action\"\r\n        @click=\"cropImage\"\r\n      >\r\n        <b-icon icon=\"check\"/>\r\n      </button>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport Croppr from '@/Croppr'\r\nimport bModal from 'buefy/src/components/modal/Modal'\r\n\r\nexport default {\r\n  name: 'nzImageCropModal',\r\n\r\n  mixins: [bModal],\r\n\r\n  props: {\r\n    canCancel: {\r\n      type: [Array, Boolean],\r\n      default: () => ['escape', 'x']\r\n    },\r\n    imageUrl: String,\r\n    crop: Object\r\n  },\r\n\r\n  data() {\r\n    return {\r\n\t\t\tcroppr: null,\r\n      newCrop: this.crop,\r\n      preserveRatio: false\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    document.addEventListener('keydown', this.ctrlIsPressed)\r\n    document.addEventListener('keyup', this.ctrlIsNotPressed)\r\n  },\r\n\r\n  beforeDestroy() {\r\n    document.removeEventListener('keydown', this.ctrlIsPressed)\r\n    document.removeEventListener('keyup', this.ctrlIsNotPressed)\r\n  },\r\n\r\n  watch: {\r\n    isActive(value) {\r\n      this.handleScroll()\r\n\r\n      this.croppr =  null\r\n\r\n      if (value) {\r\n        this.$nextTick(() => {\r\n          this.croppr = new Croppr(this.$refs.cropModalImage, {\r\n            onCropEnd: (value) => {\r\n              this.newCrop = value\r\n            },\r\n\r\n            onInitialize: (croppr) => {\r\n              if (this.newCrop) {\r\n                croppr.setBoxToRealPosition(this.newCrop)\r\n              }\r\n            }\r\n          })\r\n        })\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    handleScroll() {\r\n      if (typeof window === 'undefined') return\r\n\r\n      this.savedScrollTop = !this.savedScrollTop\r\n        ? document.documentElement.scrollTop\r\n        : this.savedScrollTop\r\n\r\n      document.body.classList.toggle('is-noscroll', this.isActive)\r\n\r\n      if (this.isActive) {\r\n        document.body.style.top = `-${this.savedScrollTop}px`\r\n        return\r\n      }\r\n\r\n      document.documentElement.scrollTop = this.savedScrollTop\r\n      document.body.style.top = null\r\n      this.savedScrollTop = null\r\n    },\r\n\r\n    cropImage() {\r\n      this.$emit('update:crop', this.newCrop)\r\n\r\n      this.close()\r\n    },\r\n\r\n    ctrlIsPressed(e) {\r\n      if (e.which == 17 && this.croppr) {\r\n        this.croppr.options.aspectRatio = this.croppr.box.height() / this.croppr.box.width()\r\n      }\r\n    },\r\n\r\n    ctrlIsNotPressed(e) {\r\n      if (e.which == 17  && this.croppr) {\r\n        this.croppr.options.aspectRatio = null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCropModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCropModal.vue?vue&type=script&lang=js\"","<template>\r\n\t<b-field v-if=\"!haveImage\" :message=\"error || null\" :type=\"error ? 'is-danger' : null\" expanded>\r\n\t\t<b-upload @input=\"onInput\" drag-drop expanded :disabled=\"uploading || loading\">\r\n\t\t\t<section class=\"section is-relative\" ref=\"uploadZone\">\r\n\t\t\t\t<div class=\"has-text-centered\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b-icon\r\n\t\t\t\t\t\t\ticon=\"upload\"\r\n\t\t\t\t\t\t\tsize=\"is-medium\">\r\n\t\t\t\t\t\t</b-icon>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<progress class=\"progress is-primary is-small\" :value=\"progress\" max=\"100\" v-if=\"uploading\">{{ progress }}%</progress>\r\n\r\n          <div v-else-if=\"loading\">{{ trans('Loading...') }}</div>\r\n\r\n\t\t\t\t\t<div v-else>{{ text }}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</b-upload>\r\n\t</b-field>\r\n\r\n\t<div class=\"card\" v-else>\r\n\t\t<div class=\"card-image\">\r\n\t\t\t<figure class=\"has-magnifier has-text-centered\" @click=\"showModal = true\">\r\n        <img :src=\"thumbnailUrl\" alt=\"Uploaded photo\" class=\"max-h-36\" />\r\n        <div class=\"image-magnifier\">\r\n          <b-icon icon=\"expand\" size=\"is-medium\" />\r\n        </div>\r\n\t\t\t</figure>\r\n\t  </div>\r\n\r\n\t\t<footer class=\"card-footer\" v-if=\"haveImage\">\r\n\t\t\t<div class=\"card-footer-item flex-col\">\r\n\t\t\t\t<div class=\"mb-4 w-full flex justify-between\">\r\n\t\t\t\t\t<button\r\n            type=\"button\"\r\n            class=\"button is-outlined is-small mr-2\"\r\n            v-if=\"withCrop\"\r\n            @click=\"openCropModal\"\r\n            @close=\"closeCropModal\"\r\n          >\r\n            <b-icon icon=\"crop\" />\r\n          </button>\r\n\r\n\t\t\t\t\t<button type=\"button\" class=\"delete is-danger is-medium\" @click=\"remove\" v-if=\"image.path || hasExisting\"></button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"w-full\" v-if=\"withLicense\">\r\n\t\t\t\t\t<b-select :value=\"image.license\" @input=\"handleLicenseChanged\" expanded>\r\n\t\t\t\t\t\t<option :value=\"null\">{{ trans('labels.field_observations.default') }}</option>\r\n\t\t\t\t\t\t<option v-for=\"(label, value) in licenses\" :value=\"value\" :key=\"value\" v-text=\"label\"></option>\r\n\t\t\t\t\t</b-select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\r\n\t\t<nz-image-crop-modal :active.sync=\"showCropModal\" :crop.sync=\"image.crop\" :image-url=\"image.url\" v-if=\"haveImage\"/>\r\n\r\n\t\t<nz-image-modal :items=\"[thumbnailUrl]\" v-if=\"showModal\" @close=\"showModal = false\"/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport loadImage from 'blueimp-load-image'\r\nimport NzImageCropModal from '@/components/ImageCropModal'\r\nimport NzImageModal from '@/components/ImageModal'\r\n\r\nexport default {\r\n\tname: 'nzPhotoUpload',\r\n\r\n  components: {\r\n    NzImageCropModal,\r\n    NzImageModal\r\n  },\r\n\r\n  props: {\r\n\t\timageUrl: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\timagePath: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\timageLicense: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\tlicenses: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\ttext: String,\r\n\t\twithLicense: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    withCrop: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n\t},\r\n\r\n  data() {\r\n    return {\r\n    \timage: {\r\n\t\t\t\turl: this.imageUrl,\r\n\t\t\t\tpath: this.imagePath,\r\n\t\t\t\tcrop: null,\r\n\t\t\t\tlicense: this.imageLicense\r\n\t\t\t},\r\n\t\t\tcroppedImageUrl: null,\r\n\t\t\treader: null,\r\n      uploading: false,\r\n      loading: false,\r\n\t\t\tprogress: 0,\r\n\t\t\thasExisting: !!this.imageUrl,\r\n\t\t\terror: null,\r\n\t\t\tshowCropModal: false,\r\n\t\t\tshowModal: false\r\n    }\r\n  },\r\n\r\n\twatch: {\r\n\t\t'image.crop': function (value) {\r\n\t\t\tthis.$emit('cropped', this.image)\r\n\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis.croppedImageUrl = null\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.cropThumbnail(value)\r\n    }\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\thaveImage() {\r\n\t\t\treturn !!this.image.url\r\n\t\t},\r\n\r\n\t\tthumbnailUrl() {\r\n\t\t\treturn this.croppedImageUrl || this.image.url\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tselectImage() {\r\n\t\t\tthis.$refs.input.click()\r\n\t\t},\r\n\r\n\t\tonInput(file) {\r\n\t\t\tthis.error = null\r\n\r\n\t\t\tif (!file) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.upload(file)\r\n\t\t},\r\n\r\n\t\tupload(file) {\r\n      this.uploading = true\r\n\t\t\treturn axios.post(route('api.photo-uploads.store'), this.makeForm(file), {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAccept: 'application/json'\r\n\t\t\t\t},\r\n\t\t\t\tonUploadProgress: progressEvent => {\r\n          this.progress = Math.floor((progressEvent.loaded * 100) / progressEvent.total)\r\n\t\t\t\t}\r\n\t\t\t}).then(response => {\r\n        this.image.path = response.data.file\r\n\t\t\t\tthis.image.exif = response.data.exif\r\n\t\t\t\tthis.image.license = null\r\n\t\t\t\tthis.uploading = false\r\n\t\t\t\tthis.progress = 0\r\n\r\n        this.$emit('uploaded', this.image)\r\n\r\n        this.loading = true\r\n\r\n        loadImage(file, img => {\r\n            this.image.url = this.getImageDataUrl(img)\r\n            this.loading = false\r\n        }, { orientation: true })\r\n\t\t\t}).catch(this.handleError)\r\n    },\r\n\r\n    getImageDataUrl(img) {\r\n      let canvas = img\r\n\r\n      if (! (canvas instanceof HTMLCanvasElement)) {\r\n        canvas = document.createElement('canvas')\r\n        canvas.setAttribute('width', img.width)\r\n        canvas.setAttribute('height', img.height)\r\n        canvas.getContext('2d').drawImage(img, 0, 0)\r\n      }\r\n\r\n      return canvas.toDataURL()\r\n    },\r\n\r\n\t\tmakeForm(file) {\r\n\t\t\tlet form = new FormData()\r\n\r\n\t\t\tform.append('file', file)\r\n\r\n\t\t\treturn form\r\n\t\t},\r\n\r\n\t\tremove() {\r\n\t\t\tif (this.hasExisting) {\r\n\t\t\t\tthis.hasExisting = false\r\n\t\t\t\treturn this.clearPhoto()\r\n\t\t\t}\r\n\r\n\t\t\taxios.delete(route('api.photo-uploads.destroy', this.image.path)).then(() => {\r\n\t\t\t\tthis.clearPhoto()\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tclearPhoto() {\r\n\t\t\tthis.$emit('removed', this.image)\r\n\r\n\t\t\tthis.image.path = null\r\n\t\t\tthis.image.url = null\r\n\t\t\tthis.image.crop = null\r\n\t\t\tthis.image.license = null\r\n\t\t\tthis.croppedImageUrl = null\r\n\t\t},\r\n\r\n\t\thandleError(error) {\r\n\t\t\tthis.uploading = false\r\n\t\t\tthis.loading = false\r\n\t\t\tthis.progress = 0\r\n\t\t\tthis.image.url = null\r\n\t\t\t// Clear the input so we can select the same image if needed.\r\n\t\t\tthis.$el.querySelector('input[type=\"file\"]').value = ''\r\n\r\n\t\t\tif (!error.response) {\r\n\t\t\t\treturn this.$buefy.toast.open({\r\n\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\tmessage: error.message,\r\n\t\t\t\t\tposition: 'is-top',\r\n\t\t\t\t\ttype: 'is-danger'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.error = error.response.data.errors.file[0] || this.trans('Error')\r\n\t\t},\r\n\r\n\t\topenCropModal() {\r\n\t\t\tthis.showCropModal = true\r\n\t\t},\r\n\r\n\t\tcloseCropModal() {\r\n\t\t\tthis.showCropModal = false\r\n\t\t},\r\n\r\n\t\tcropThumbnail(crop) {\r\n\t\t\t// Create image\r\n\t\t\tconst image = document.createElement('img')\r\n\t\t\timage.src = this.image.url\r\n\r\n\t\t\t// Draw canvas\r\n\t\t\tconst canvas = document.createElement('canvas')\r\n\r\n  \t\tcanvas.setAttribute('width', crop.width)\r\n  \t\tcanvas.setAttribute('height', crop.height)\r\n\r\n  \t\tconst context = canvas.getContext('2d')\r\n  \t\tcontext.drawImage(image, -crop.x, -crop.y)\r\n\r\n\t\t\tthis.croppedImageUrl = canvas.toDataURL()\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Handle license change.\r\n\t\t *\r\n\t\t * @param {String|Number} license\r\n\t\t */\r\n\t\thandleLicenseChanged(license) {\r\n\t\t\tthis.image.license = license\r\n\t\t\tthis.$emit('license-changed', license)\r\n    }\r\n\t}\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoUpload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoUpload.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageCropModal.vue?vue&type=template&id=035960ca\"\nimport script from \"./ImageCropModal.vue?vue&type=script&lang=js\"\nexport * from \"./ImageCropModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":_vm.animation}},[(_vm.isActive)?_c('div',{staticClass:\"modal is-active\"},[_c('div',{staticClass:\"modal-background\"}),_vm._v(\" \"),_c('div',{staticClass:\"animation-content modal-content\",style:({ maxWidth: _vm.newWidth })},[_c('img',{ref:\"cropModalImage\",staticClass:\"image\",attrs:{\"src\":_vm.imageUrl,\"alt\":\"Cropped image\"}})]),_vm._v(\" \"),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancel('x')}}}),_vm._v(\" \"),_c('button',{staticClass:\"modal-action\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cropImage}},[_c('b-icon',{attrs:{\"icon\":\"check\"}})],1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./PhotoUpload.vue?vue&type=template&id=58da6edb\"\nimport script from \"./PhotoUpload.vue?vue&type=script&lang=js\"\nexport * from \"./PhotoUpload.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Errors = require('./Errors');\n\nvar _Errors2 = _interopRequireDefault(_Errors);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Form = function () {\n    /**\n     * Create a new Form instance.\n     *\n     * @param {object} data\n     * @param {object} options\n     */\n    function Form() {\n        var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Form);\n\n        this.processing = false;\n        this.successful = false;\n\n        this.withData(data).withOptions(options).withErrors({});\n    }\n\n    _createClass(Form, [{\n        key: 'withData',\n        value: function withData(data) {\n            if ((0, _util.isArray)(data)) {\n                data = data.reduce(function (carry, element) {\n                    carry[element] = '';\n                    return carry;\n                }, {});\n            }\n\n            this.setInitialValues(data);\n\n            this.errors = new _Errors2.default();\n            this.processing = false;\n            this.successful = false;\n\n            for (var field in data) {\n                (0, _util.guardAgainstReservedFieldName)(field);\n\n                this[field] = data[field];\n            }\n\n            return this;\n        }\n    }, {\n        key: 'withErrors',\n        value: function withErrors(errors) {\n            this.errors = new _Errors2.default(errors);\n\n            return this;\n        }\n    }, {\n        key: 'withOptions',\n        value: function withOptions(options) {\n            this.__options = {\n                resetOnSuccess: true\n            };\n\n            if (options.hasOwnProperty('resetOnSuccess')) {\n                this.__options.resetOnSuccess = options.resetOnSuccess;\n            }\n\n            if (options.hasOwnProperty('onSuccess')) {\n                this.onSuccess = options.onSuccess;\n            }\n\n            if (options.hasOwnProperty('onFail')) {\n                this.onFail = options.onFail;\n            }\n\n            var windowAxios = typeof window === 'undefined' ? false : window.axios;\n\n            this.__http = options.http || windowAxios || require('axios');\n\n            if (!this.__http) {\n                throw new Error('No http library provided. Either pass an http option, or install axios.');\n            }\n\n            return this;\n        }\n\n        /**\n         * Fetch all relevant data for the form.\n         */\n\n    }, {\n        key: 'data',\n        value: function data() {\n            var data = {};\n\n            for (var property in this.initial) {\n                data[property] = this[property];\n            }\n\n            return data;\n        }\n\n        /**\n         * Fetch specific data for the form.\n         *\n         * @param {array} fields\n         * @return {object}\n         */\n\n    }, {\n        key: 'only',\n        value: function only(fields) {\n            var _this = this;\n\n            return fields.reduce(function (filtered, field) {\n                filtered[field] = _this[field];\n                return filtered;\n            }, {});\n        }\n\n        /**\n         * Reset the form fields.\n         */\n\n    }, {\n        key: 'reset',\n        value: function reset() {\n            (0, _util.merge)(this, this.initial);\n\n            this.errors.clear();\n        }\n    }, {\n        key: 'setInitialValues',\n        value: function setInitialValues(values) {\n            this.initial = {};\n\n            (0, _util.merge)(this.initial, values);\n        }\n    }, {\n        key: 'populate',\n        value: function populate(data) {\n            var _this2 = this;\n\n            Object.keys(data).forEach(function (field) {\n                (0, _util.guardAgainstReservedFieldName)(field);\n\n                if (_this2.hasOwnProperty(field)) {\n                    (0, _util.merge)(_this2, _defineProperty({}, field, data[field]));\n                }\n            });\n\n            return this;\n        }\n\n        /**\n         * Clear the form fields.\n         */\n\n    }, {\n        key: 'clear',\n        value: function clear() {\n            for (var field in this.initial) {\n                this[field] = '';\n            }\n\n            this.errors.clear();\n        }\n\n        /**\n         * Send a POST request to the given URL.\n         *\n         * @param {string} url\n         */\n\n    }, {\n        key: 'post',\n        value: function post(url) {\n            return this.submit('post', url);\n        }\n\n        /**\n         * Send a PUT request to the given URL.\n         *\n         * @param {string} url\n         */\n\n    }, {\n        key: 'put',\n        value: function put(url) {\n            return this.submit('put', url);\n        }\n\n        /**\n         * Send a PATCH request to the given URL.\n         *\n         * @param {string} url\n         */\n\n    }, {\n        key: 'patch',\n        value: function patch(url) {\n            return this.submit('patch', url);\n        }\n\n        /**\n         * Send a DELETE request to the given URL.\n         *\n         * @param {string} url\n         */\n\n    }, {\n        key: 'delete',\n        value: function _delete(url) {\n            return this.submit('delete', url);\n        }\n\n        /**\n         * Submit the form.\n         *\n         * @param {string} requestType\n         * @param {string} url\n         */\n\n    }, {\n        key: 'submit',\n        value: function submit(requestType, url) {\n            var _this3 = this;\n\n            this.__validateRequestType(requestType);\n            this.errors.clear();\n            this.processing = true;\n            this.successful = false;\n\n            return new Promise(function (resolve, reject) {\n                _this3.__http[requestType](url, _this3.hasFiles() ? (0, _util.objectToFormData)(_this3.data()) : _this3.data()).then(function (response) {\n                    _this3.processing = false;\n                    _this3.onSuccess(response.data);\n\n                    resolve(response.data);\n                }).catch(function (error) {\n                    _this3.processing = false;\n                    _this3.onFail(error);\n\n                    reject(error);\n                });\n            });\n        }\n\n        /**\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'hasFiles',\n        value: function hasFiles() {\n            for (var property in this.initial) {\n                if (this.hasFilesDeep(this[property])) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }, {\n        key: 'hasFilesDeep',\n\n\n        /**\n         * @param {Object|Array} object\n         * @returns {boolean}\n         */\n        value: function hasFilesDeep(object) {\n            if (object === null) {\n                return false;\n            }\n\n            if ((typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object') {\n                for (var key in object) {\n                    if (object.hasOwnProperty(key)) {\n                        if (this.hasFilesDeep(object[key])) {\n                            return true;\n                        }\n                    }\n                }\n            }\n\n            if (Array.isArray(object)) {\n                for (var _key in object) {\n                    if (object.hasOwnProperty(_key)) {\n                        return this.hasFilesDeep(object[_key]);\n                    }\n                }\n            }\n\n            return (0, _util.isFile)(object);\n        }\n\n        /**\n         * Handle a successful form submission.\n         *\n         * @param {object} data\n         */\n\n    }, {\n        key: 'onSuccess',\n        value: function onSuccess(data) {\n            this.successful = true;\n\n            if (this.__options.resetOnSuccess) {\n                this.reset();\n            }\n        }\n\n        /**\n         * Handle a failed form submission.\n         *\n         * @param {object} data\n         */\n\n    }, {\n        key: 'onFail',\n        value: function onFail(error) {\n            this.successful = false;\n\n            if (error.response && error.response.data.errors) {\n                this.errors.record(error.response.data.errors);\n            }\n        }\n\n        /**\n         * Get the error message(s) for the given field.\n         *\n         * @param field\n         */\n\n    }, {\n        key: 'hasError',\n        value: function hasError(field) {\n            return this.errors.has(field);\n        }\n\n        /**\n         * Get the first error message for the given field.\n         *\n         * @param {string} field\n         * @return {string}\n         */\n\n    }, {\n        key: 'getError',\n        value: function getError(field) {\n            return this.errors.first(field);\n        }\n\n        /**\n         * Get the error messages for the given field.\n         *\n         * @param {string} field\n         * @return {array}\n         */\n\n    }, {\n        key: 'getErrors',\n        value: function getErrors(field) {\n            return this.errors.get(field);\n        }\n    }, {\n        key: '__validateRequestType',\n        value: function __validateRequestType(requestType) {\n            var requestTypes = ['get', 'delete', 'head', 'post', 'put', 'patch'];\n\n            if (requestTypes.indexOf(requestType) === -1) {\n                throw new Error('`' + requestType + '` is not a valid request type, ' + ('must be one of: `' + requestTypes.join('`, `') + '`.'));\n            }\n        }\n    }], [{\n        key: 'create',\n        value: function create() {\n            var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n            return new Form().withData(data);\n        }\n    }]);\n\n    return Form;\n}();\n\nexports.default = Form;","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.objectToFormData = objectToFormData;\nfunction objectToFormData(object) {\n    var formData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new FormData();\n    var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    if (object === null || object === 'undefined' || object.length === 0) {\n        return formData.append(parent, object);\n    }\n\n    for (var property in object) {\n        if (object.hasOwnProperty(property)) {\n            appendToFormData(formData, getKey(parent, property), object[property]);\n        }\n    }\n\n    return formData;\n}\n\nfunction getKey(parent, property) {\n    return parent ? parent + '[' + property + ']' : property;\n}\n\nfunction appendToFormData(formData, key, value) {\n    if (value instanceof Date) {\n        return formData.append(key, value.toISOString());\n    }\n\n    if (value instanceof File) {\n        return formData.append(key, value, value.name);\n    }\n\n    if (typeof value === \"boolean\") {\n        return formData.append(key, value ? '1' : '0');\n    }\n\n    if (value === null) {\n        return formData.append(key, '');\n    }\n\n    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') {\n        return formData.append(key, value);\n    }\n\n    objectToFormData(value, formData, key);\n}","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/*\n * JavaScript Load Image IPTC Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  /**\n   * IPTC tag map\n   *\n   * @name IptcMap\n   * @class\n   */\n  function IptcMap() {}\n\n  IptcMap.prototype.map = {\n    ObjectName: 5\n  }\n\n  IptcMap.prototype.types = {\n    0: 'Uint16', // ApplicationRecordVersion\n    200: 'Uint16', // ObjectPreviewFileFormat\n    201: 'Uint16', // ObjectPreviewFileVersion\n    202: 'binary' // ObjectPreviewData\n  }\n\n  /**\n   * Retrieves IPTC tag value\n   *\n   * @param {number|string} id IPTC tag code or name\n   * @returns {object} IPTC tag value\n   */\n  IptcMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n  }\n\n  /**\n   * Retrieves string for the given DataView and range\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Offset start\n   * @param {number} length Offset length\n   * @returns {string} String value\n   */\n  function getStringValue(dataView, offset, length) {\n    var outstr = ''\n    var end = offset + length\n    for (var n = offset; n < end; n += 1) {\n      outstr += String.fromCharCode(dataView.getUint8(n))\n    }\n    return outstr\n  }\n\n  /**\n   * Retrieves tag value for the given DataView and range\n   *\n   * @param {number} tagCode tag code\n   * @param {IptcMap} map IPTC tag map\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Range start\n   * @param {number} length Range length\n   * @returns {object} Tag value\n   */\n  function getTagValue(tagCode, map, dataView, offset, length) {\n    if (map.types[tagCode] === 'binary') {\n      return new Blob([dataView.buffer.slice(offset, offset + length)])\n    }\n    if (map.types[tagCode] === 'Uint16') {\n      return dataView.getUint16(offset)\n    }\n    return getStringValue(dataView, offset, length)\n  }\n\n  /**\n   * Combines IPTC value with existing ones.\n   *\n   * @param {object} value Existing IPTC field value\n   * @param {object} newValue New IPTC field value\n   * @returns {object} Resulting IPTC field value\n   */\n  function combineTagValues(value, newValue) {\n    if (value === undefined) return newValue\n    if (value instanceof Array) {\n      value.push(newValue)\n      return value\n    }\n    return [value, newValue]\n  }\n\n  /**\n   * Parses IPTC tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} segmentOffset Segment offset\n   * @param {number} segmentLength Segment length\n   * @param {object} data Data export object\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseIptcTags(\n    dataView,\n    segmentOffset,\n    segmentLength,\n    data,\n    includeTags,\n    excludeTags\n  ) {\n    var value, tagSize, tagCode\n    var segmentEnd = segmentOffset + segmentLength\n    var offset = segmentOffset\n    while (offset < segmentEnd) {\n      if (\n        dataView.getUint8(offset) === 0x1c && // tag marker\n        dataView.getUint8(offset + 1) === 0x02 // record number, only handles v2\n      ) {\n        tagCode = dataView.getUint8(offset + 2)\n        if (\n          (!includeTags || includeTags[tagCode]) &&\n          (!excludeTags || !excludeTags[tagCode])\n        ) {\n          tagSize = dataView.getInt16(offset + 3)\n          value = getTagValue(tagCode, data.iptc, dataView, offset + 5, tagSize)\n          data.iptc[tagCode] = combineTagValues(data.iptc[tagCode], value)\n          if (data.iptcOffsets) {\n            data.iptcOffsets[tagCode] = offset\n          }\n        }\n      }\n      offset += 1\n    }\n  }\n\n  /**\n   * Tests if field segment starts at offset.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {boolean} True if '8BIM<EOT><EOT>' exists at offset\n   */\n  function isSegmentStart(dataView, offset) {\n    return (\n      dataView.getUint32(offset) === 0x3842494d && // Photoshop segment start\n      dataView.getUint16(offset + 4) === 0x0404 // IPTC segment start\n    )\n  }\n\n  /**\n   * Returns header length.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {number} Header length\n   */\n  function getHeaderLength(dataView, offset) {\n    var length = dataView.getUint8(offset + 7)\n    if (length % 2 !== 0) length += 1\n    // Check for pre photoshop 6 format\n    if (length === 0) {\n      // Always 4\n      length = 4\n    }\n    return length\n  }\n\n  loadImage.parseIptcData = function (dataView, offset, length, data, options) {\n    if (options.disableIptc) {\n      return\n    }\n    var markerLength = offset + length\n    while (offset + 8 < markerLength) {\n      if (isSegmentStart(dataView, offset)) {\n        var headerLength = getHeaderLength(dataView, offset)\n        var segmentOffset = offset + 8 + headerLength\n        if (segmentOffset > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment offset.')\n          break\n        }\n        var segmentLength = dataView.getUint16(offset + 6 + headerLength)\n        if (offset + segmentLength > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment size.')\n          break\n        }\n        // Create the iptc object to store the tags:\n        data.iptc = new IptcMap()\n        if (!options.disableIptcOffsets) {\n          data.iptcOffsets = new IptcMap()\n        }\n        parseIptcTags(\n          dataView,\n          segmentOffset,\n          segmentLength,\n          data,\n          options.includeIptcTags,\n          options.excludeIptcTags || { 202: true } // ObjectPreviewData\n        )\n        return\n      }\n      // eslint-disable-next-line no-param-reassign\n      offset += 1\n    }\n  }\n\n  // Registers this IPTC parser for the APP13 JPEG metadata segment:\n  loadImage.metaDataParsers.jpeg[0xffed].push(loadImage.parseIptcData)\n\n  loadImage.IptcMap = IptcMap\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - iptc: The iptc tags, parsed by the parseIptcData method\n\n  // Adds the following options to the parseMetaData method:\n  // - disableIptc: Disables IPTC parsing when true.\n  // - disableIptcOffsets: Disables storing IPTC tag offsets when true.\n  // - includeIptcTags: A map of IPTC tags to include for parsing.\n  // - excludeIptcTags: A map of IPTC tags to exclude from parsing.\n})\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","import Form from 'form-backend-validation'\r\nimport _pick from 'lodash/pick'\r\nimport _get from 'lodash/get'\r\nimport _isEqual from 'lodash/isEqual'\r\n\r\n\r\nexport default {\r\n  name: 'nzFieldObservationForm',\r\n\r\n  props: {\r\n    action: {\r\n      type: String,\r\n      required: true\r\n    },\r\n\r\n    method: {\r\n      type: String,\r\n      default: 'POST'\r\n    },\r\n\r\n    redirectUrl: String,\r\n    cancelUrl: String,\r\n\r\n    submitMore: Boolean,\r\n    shouldConfirmSubmit: Boolean,\r\n    confirmSubmitMessage: {\r\n      type: String,\r\n      default() {\r\n        return this.trans('You are about to submit')\r\n      }\r\n    },\r\n    shouldAskReason: Boolean,\r\n    shouldConfirmCancel: Boolean,\r\n    submitOnlyDirty: Boolean,\r\n    submitOnlyDirtyMessage: {\r\n      type: String,\r\n      default() {\r\n        return this.trans('There are no changes, the data will not be saved.')\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      form: this.newForm(),\r\n      keepAfterSubmit: [],\r\n      submittingWithRedirect: false,\r\n      submittingWithoutRedirect: false,\r\n      confirmingSubmit: false,\r\n      confirmingCancel: false,\r\n      locale: window.App.locale\r\n    }\r\n  },\r\n\r\n  created() {\r\n    document.addEventListener('keyup', this.registerKeyListener)\r\n  },\r\n\r\n  beforeDestroy() {\r\n    document.removeEventListener('keyup', this.registerKeyListener)\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Create new form instance.\r\n     *\r\n     * @param  {Object} data default form data\r\n     * @return {Form}\r\n     */\r\n    newForm(data = {}) {\r\n      return new Form(data, {\r\n        resetOnSuccess: false\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Keyboard shortcuts.\r\n     *\r\n     * @param {Event} e\r\n     */\r\n    registerKeyListener(e) {\r\n      const enter = 13 === (e.which || e.keyCode)\r\n\r\n      if (e.ctrlKey && e.shiftKey && enter) {\r\n        this.submitMore && this.submitWithoutRedirect()\r\n      } else if (e.ctrlKey && enter) {\r\n        this.submitWithRedirect()\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Confirm submit.\r\n     *\r\n     * @param {Function} onConfirm\r\n     */\r\n    confirmSubmit(onConfirm) {\r\n      if (this.confirmingSubmit) return\r\n\r\n      this.confirmingSubmit = true\r\n\r\n      const options = {\r\n        message: this.confirmSubmitMessage,\r\n        confirmText: this.trans('buttons.save'),\r\n        cancelText: this.trans('buttons.cancel'),\r\n        onConfirm,\r\n        onCancel: () => { this.confirmingSubmit = false }\r\n      }\r\n\r\n      if (!this.shouldAskReason) {\r\n        return this.$buefy.dialog.confirm(options)\r\n      }\r\n\r\n      return this.promptForReason(options)\r\n    },\r\n\r\n    /**\r\n     * Prompt the user for reason of change.\r\n     *\r\n     * @param  {Object} options\r\n     * @return {Vue}\r\n     */\r\n    promptForReason(options) {\r\n      const dialog = this.$buefy.dialog.prompt({\r\n        ...options,\r\n        inputAttrs: {\r\n            placeholder: this.trans('Reason'),\r\n            required: true,\r\n            maxlength: 255\r\n        }\r\n      })\r\n\r\n      // Custom localized validation for the prompt input.\r\n      dialog.$nextTick(() => {\r\n        dialog.$refs.input.addEventListener('invalid', (e) => {\r\n          e.target.setCustomValidity('')\r\n\r\n          if (!e.target.validity.valid) {\r\n            e.target.setCustomValidity(this.trans('This field is required and can contain max 255 chars.'))\r\n          }\r\n        })\r\n\r\n        dialog.$refs.input.addEventListener('input', (e) => {\r\n          dialog.validationMessage = null\r\n        })\r\n      })\r\n\r\n      return dialog\r\n    },\r\n\r\n    /**\r\n     * Notify the user there are no changes.\r\n     */\r\n    notifyNoChanges() {\r\n      this.$buefy.toast.open({\r\n        message: this.submitOnlyDirtyMessage,\r\n        type: 'is-info'\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Notify the user there are no changes and redirect.\r\n     */\r\n    notifyNoChangesAndRedirect() {\r\n      this.notifyNoChanges()\r\n\r\n      setTimeout(() => {\r\n        if (this.redirectUrl) {\r\n          window.location.href = this.redirectUrl\r\n        }\r\n      }, 500)\r\n    },\r\n\r\n    /**\r\n     * Submit the form with redirect.\r\n     */\r\n    submitWithRedirect() {\r\n      if (this.form.processing) return\r\n\r\n      if (this.submitOnlyDirty && !this.isDirty()) return this.notifyNoChangesAndRedirect()\r\n\r\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithRedirect)\r\n\r\n      this.performSubmitWithRedirect()\r\n    },\r\n\r\n    /**\r\n     * Submit the form with redirect.\r\n     */\r\n    performSubmitWithRedirect(reason = null) {\r\n      this.submittingWithRedirect = true\r\n      this.confirmingSubmit = false\r\n\r\n      if (this.shouldAskReason) {\r\n        this.form.reason = reason\r\n      }\r\n\r\n      this.form[this.method.toLowerCase()](this.action)\r\n          .then(this.onSuccessfulSubmitWithRedirect)\r\n          .catch(this.onFailedSubmit)\r\n    },\r\n\r\n    /**\r\n     * Handle successful form submit with redirect.\r\n     */\r\n    onSuccessfulSubmitWithRedirect() {\r\n      this.form.processing = true\r\n\r\n      this.$buefy.toast.open({\r\n        message: this.trans('Saved successfully'),\r\n        type: 'is-success'\r\n      })\r\n\r\n      // We want to wait a bit before we send the user to redirect route\r\n      // so we can show the message that the action was successful.\r\n      setTimeout(() => {\r\n        this.form.processing = false\r\n        this.submittingWithRedirect = false\r\n\r\n        this.hookAfterSubmitWithRedirect()\r\n\r\n        if (this.redirectUrl) {\r\n          window.location.href = this.redirectUrl\r\n        }\r\n      }, 500)\r\n    },\r\n\r\n    /**\r\n     * Perform after submit with redirect is successful.\r\n     */\r\n    hookAfterSubmitWithRedirect() {},\r\n\r\n    /**\r\n     * Submit the form and stay to add more.\r\n     */\r\n    submitWithoutRedirect() {\r\n      if (this.form.processing) return\r\n\r\n      if (this.submitOnlyDirty  && !this.isDirty()) return this.notifyNoChanges()\r\n\r\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithoutRedirect)\r\n\r\n      this.performSubmitWithoutRedirect()\r\n    },\r\n\r\n    /**\r\n     * Submit the form and stay to add more.\r\n     */\r\n    performSubmitWithoutRedirect(reason = null) {\r\n      this.submittingWithoutRedirect = true\r\n      this.confirmingSubmit = false\r\n\r\n      if (this.shouldAskReason) {\r\n        this.form.reason = reason\r\n      }\r\n\r\n      this.form[this.method.toLowerCase()](this.action)\r\n          .then(this.onSuccessfulSubmitWithoutRedirect)\r\n          .catch(this.onFailedSubmit)\r\n    },\r\n\r\n    /**\r\n     * Handle successful form submit with no redirect.\r\n     */\r\n    onSuccessfulSubmitWithoutRedirect() {\r\n      this.submittingWithoutRedirect = false\r\n\r\n      this.$buefy.toast.open({\r\n        message: this.trans('Saved successfully'),\r\n        type: 'is-success'\r\n      })\r\n\r\n      // Reset the form but remember some data.\r\n      const keep = _pick(this.form.data(), this.keepAfterSubmit)\r\n      this.form.reset()\r\n      this.form.populate(keep)\r\n\r\n      this.hookAfterSubmitWithoutRedirect()\r\n    },\r\n\r\n    /**\r\n     * Perform after submit without redirect is successful.\r\n     */\r\n    hookAfterSubmitWithoutRedirect() {},\r\n\r\n    /**\r\n     * Handle failed form submit.\r\n     *\r\n     * @param {Error} error\r\n     */\r\n    onFailedSubmit(error) {\r\n      this.submittingWithRedirect = false\r\n      this.submittingWithoutRedirect = false\r\n\r\n      this.$buefy.toast.open({\r\n        duration: 2500,\r\n        message: _get(error, 'response.data.message', error.message),\r\n        type: 'is-danger'\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Check if form is changed.\r\n     *\r\n     * @return {Boolean}\r\n     */\r\n    isDirty() {\r\n      return ! _isEqual(this.form.data(), this.form.initial)\r\n    },\r\n\r\n    /**\r\n     * Confirmation dialog for canceling.\r\n     */\r\n    confirmCancel() {\r\n      if (this.confirmingCancel) return\r\n\r\n      this.confirmingCancel = true\r\n\r\n      this.$buefy.dialog.confirm({\r\n        message: this.trans('If you leave this page changes will not be saved.'),\r\n        onConfirm: () => {\r\n          this.confirmingCancel = false\r\n          window.location.href = this.cancelUrl\r\n        },\r\n        onCancel: () => { this.confirmingCancel = false },\r\n        cancelText: this.trans('buttons.stay_on_page'),\r\n        confirmText: this.trans('buttons.leave_page'),\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Handle cancel button/link.\r\n     *\r\n     * @param {Event} event\r\n     */\r\n    onCancel(event) {\r\n      if (this.shouldConfirmCancel && this.isDirty()) {\r\n        event.preventDefault()\r\n\r\n        this.confirmCancel()\r\n      }\r\n    }\r\n  }\r\n}\r\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-field',{staticClass:\"nz-user-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{class:[_vm.selected ? 'has-icon-success' : ''],attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"full_name\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus,\"disabled\":_vm.disabled},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect},scopedSlots:_vm._u([{key:\"default\",fn:function({ option }){return [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(option.full_name)+\" \"),_c('small',[_vm._v(\"<\"+_vm._s(option.email)+\">\")])])])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-field :label=\"label\" class=\"nz-user-autocomplete\" :type=\"error ? 'is-danger' : null\" :message=\"message\">\r\n    <b-field grouped>\r\n      <b-autocomplete\r\n        :value=\"value\"\r\n        :data=\"data\"\r\n        field=\"full_name\"\r\n        :loading=\"loading\"\r\n        @input=\"onInput\"\r\n        @select=\"onSelect\"\r\n        :icon=\"icon\"\r\n        :placeholder=\"placeholder\"\r\n        expanded\r\n        :autofocus=\"autofocus\"\r\n        :disabled=\"disabled\"\r\n        :class=\"[selected ? 'has-icon-success' : '']\"\r\n      >\r\n        <template #default=\"{ option }\">\r\n          <div class=\"media\">\r\n            <div class=\"media-content\">\r\n              {{ option.full_name }} <small>&lt;{{ option.email }}&gt;</small>\r\n            </div>\r\n          </div>\r\n        </template>\r\n\r\n      </b-autocomplete>\r\n    </b-field>\r\n  </b-field>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport _debounce from 'lodash/debounce'\r\nimport _get from 'lodash/get'\r\n\r\nexport default {\r\n  name: 'nzUserAutocomplete',\r\n\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: 'User'\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: 'Search for user...'\r\n    },\r\n    user: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    route: {\r\n      type: String,\r\n      default: 'api.autocomplete.users.index'\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    error: Boolean,\r\n    message: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    except: {},\r\n    autofocus: Boolean,\r\n    disabled: Boolean\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      data: [],\r\n      selected: this.user || null,\r\n      loading: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    icon() {\r\n      return this.selected ? 'check' : null\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    user(value) {\r\n      this.selected = value\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    fetchData: _debounce(function() {\r\n      if (!this.value) return\r\n\r\n      this.data = []\r\n      this.loading = true\r\n\r\n      let params = {\r\n        name: this.value,\r\n      }\r\n\r\n      if (this.except) {\r\n        params.except = this.except\r\n      }\r\n\r\n      axios.get(route(this.route), { params }).then(({ data }) => {\r\n        data.data.forEach((item) => this.data.push(item))\r\n        this.loading = false\r\n      }, response => {\r\n        this.loading = false\r\n      })\r\n    }, 500),\r\n\r\n    onSelect(user) {\r\n      this.selected = user\r\n\r\n      this.$emit('select', user)\r\n    },\r\n\r\n    onInput(value) {\r\n      const currentValue = this.getValue(this.selected)\r\n      if (currentValue && currentValue !== value) {\r\n        this.onSelect(null)\r\n      }\r\n\r\n      this.$emit('input', value)\r\n\r\n      this.fetchData()\r\n    },\r\n\r\n    focusOnInput() {\r\n      this.$el.querySelector('input').focus()\r\n    },\r\n\r\n    /**\r\n     * Return display text for the input.\r\n     * If object, get value from path, or else just the value.\r\n     */\r\n    getValue(option) {\r\n      if (!option) return\r\n\r\n      return typeof option === 'object'\r\n        ? _get(option, 'full_name')\r\n        : option\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAutocomplete.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAutocomplete.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserAutocomplete.vue?vue&type=template&id=33c04078\"\nimport script from \"./UserAutocomplete.vue?vue&type=script&lang=js\"\nexport * from \"./UserAutocomplete.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* global module, require */\n\nmodule.exports = require('./load-image')\n\nrequire('./load-image-scale')\nrequire('./load-image-meta')\nrequire('./load-image-fetch')\nrequire('./load-image-exif')\nrequire('./load-image-exif-map')\nrequire('./load-image-iptc')\nrequire('./load-image-iptc-map')\nrequire('./load-image-orientation')\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","/*\n * JavaScript Load Image Orientation\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/*\nExif orientation values to correctly display the letter F:\n\n    1             2\n          \n                  \n              \n                  \n                  \n\n    3             4\n              \n              \n            \n              \n          \n\n    5             6\n    \n            \n            \n\n    7             8\n            \n                \n            \n\n*/\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-scale', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(\n      require('./load-image'),\n      require('./load-image-scale'),\n      require('./load-image-meta')\n    )\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalTransform = loadImage.transform\n  var originalRequiresCanvas = loadImage.requiresCanvas\n  var originalRequiresMetaData = loadImage.requiresMetaData\n  var originalTransformCoordinates = loadImage.transformCoordinates\n  var originalGetTransformedOptions = loadImage.getTransformedOptions\n\n  ;(function ($) {\n    // Guard for non-browser environments (e.g. server-side rendering):\n    if (!$.global.document) return\n    // black+white 3x2 JPEG, with the following meta information set:\n    // - EXIF Orientation: 6 (Rotated 90 CCW)\n    // Image data layout (B=black, F=white):\n    // BFF\n    // BBB\n    var testImageURL =\n      'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n      'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n      'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n      'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/x' +\n      'ABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAA' +\n      'AAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQ' +\n      'voP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXw' +\n      'H/9k='\n    var img = document.createElement('img')\n    img.onload = function () {\n      // Check if the browser supports automatic image orientation:\n      $.orientation = img.width === 2 && img.height === 3\n      if ($.orientation) {\n        var canvas = $.createCanvas(1, 1, true)\n        var ctx = canvas.getContext('2d')\n        ctx.drawImage(img, 1, 1, 1, 1, 0, 0, 1, 1)\n        // Check if the source image coordinates (sX, sY, sWidth, sHeight) are\n        // correctly applied to the auto-orientated image, which should result\n        // in a white opaque pixel (e.g. in Safari).\n        // Browsers that show a transparent pixel (e.g. Chromium) fail to crop\n        // auto-oriented images correctly and require a workaround, e.g.\n        // drawing the complete source image to an intermediate canvas first.\n        // See https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\n        $.orientationCropBug =\n          ctx.getImageData(0, 0, 1, 1).data.toString() !== '255,255,255,255'\n      }\n    }\n    img.src = testImageURL\n  })(loadImage)\n\n  /**\n   * Determines if the orientation requires a canvas element.\n   *\n   * @param {object} [options] Options object\n   * @param {boolean} [withMetaData] Is metadata required for orientation\n   * @returns {boolean} Returns true if orientation requires canvas/meta\n   */\n  function requiresCanvasOrientation(options, withMetaData) {\n    var orientation = options && options.orientation\n    return (\n      // Exif orientation for browsers without automatic image orientation:\n      (orientation === true && !loadImage.orientation) ||\n      // Orientation reset for browsers with automatic image orientation:\n      (orientation === 1 && loadImage.orientation) ||\n      // Orientation to defined value, requires meta for orientation reset only:\n      ((!withMetaData || loadImage.orientation) &&\n        orientation > 1 &&\n        orientation < 9)\n    )\n  }\n\n  /**\n   * Determines if the image requires an orientation change.\n   *\n   * @param {number} [orientation] Defined orientation value\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\n   * @returns {boolean} Returns true if an orientation change is required\n   */\n  function requiresOrientationChange(orientation, autoOrientation) {\n    return (\n      orientation !== autoOrientation &&\n      ((orientation === 1 && autoOrientation > 1 && autoOrientation < 9) ||\n        (orientation > 1 && orientation < 9))\n    )\n  }\n\n  /**\n   * Determines orientation combinations that require a rotation by 180.\n   *\n   * The following is a list of combinations that return true:\n   *\n   * 2 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\n   * 4 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\n   *\n   * 5 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\n   * 7 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\n   *\n   * 6 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\n   * 8 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\n   *\n   * @param {number} [orientation] Defined orientation value\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\n   * @returns {boolean} Returns true if rotation by 180 is required\n   */\n  function requiresRot180(orientation, autoOrientation) {\n    if (autoOrientation > 1 && autoOrientation < 9) {\n      switch (orientation) {\n        case 2:\n        case 4:\n          return autoOrientation > 4\n        case 5:\n        case 7:\n          return autoOrientation % 2 === 0\n        case 6:\n        case 8:\n          return (\n            autoOrientation === 2 ||\n            autoOrientation === 4 ||\n            autoOrientation === 5 ||\n            autoOrientation === 7\n          )\n      }\n    }\n    return false\n  }\n\n  // Determines if the target image should be a canvas element:\n  loadImage.requiresCanvas = function (options) {\n    return (\n      requiresCanvasOrientation(options) ||\n      originalRequiresCanvas.call(loadImage, options)\n    )\n  }\n\n  // Determines if metadata should be loaded automatically:\n  loadImage.requiresMetaData = function (options) {\n    return (\n      requiresCanvasOrientation(options, true) ||\n      originalRequiresMetaData.call(loadImage, options)\n    )\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(\n      loadImage,\n      img,\n      options,\n      function (img, data) {\n        if (data) {\n          var autoOrientation =\n            loadImage.orientation && data.exif && data.exif.get('Orientation')\n          if (autoOrientation > 4 && autoOrientation < 9) {\n            // Automatic image orientation switched image dimensions\n            var originalWidth = data.originalWidth\n            var originalHeight = data.originalHeight\n            data.originalWidth = originalHeight\n            data.originalHeight = originalWidth\n          }\n        }\n        callback(img, data)\n      },\n      file,\n      data\n    )\n  }\n\n  // Transforms coordinate and dimension options\n  // based on the given orientation option:\n  loadImage.getTransformedOptions = function (img, opts, data) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\n    var exifOrientation = data.exif && data.exif.get('Orientation')\n    var orientation = options.orientation\n    var autoOrientation = loadImage.orientation && exifOrientation\n    if (orientation === true) orientation = exifOrientation\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\n      return options\n    }\n    var top = options.top\n    var right = options.right\n    var bottom = options.bottom\n    var left = options.left\n    var newOptions = {}\n    for (var i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.orientation = orientation\n    if (\n      (orientation > 4 && !(autoOrientation > 4)) ||\n      (orientation < 5 && autoOrientation > 4)\n    ) {\n      // Image dimensions and target dimensions are switched\n      newOptions.maxWidth = options.maxHeight\n      newOptions.maxHeight = options.maxWidth\n      newOptions.minWidth = options.minHeight\n      newOptions.minHeight = options.minWidth\n      newOptions.sourceWidth = options.sourceHeight\n      newOptions.sourceHeight = options.sourceWidth\n    }\n    if (autoOrientation > 1) {\n      // Browsers which correctly apply source image coordinates to\n      // auto-oriented images\n      switch (autoOrientation) {\n        case 2:\n          // Horizontal flip\n          right = options.left\n          left = options.right\n          break\n        case 3:\n          // 180 Rotate CCW\n          top = options.bottom\n          right = options.left\n          bottom = options.top\n          left = options.right\n          break\n        case 4:\n          // Vertical flip\n          top = options.bottom\n          bottom = options.top\n          break\n        case 5:\n          // Horizontal flip + 90 Rotate CCW\n          top = options.left\n          right = options.bottom\n          bottom = options.right\n          left = options.top\n          break\n        case 6:\n          // 90 Rotate CCW\n          top = options.left\n          right = options.top\n          bottom = options.right\n          left = options.bottom\n          break\n        case 7:\n          // Vertical flip + 90 Rotate CCW\n          top = options.right\n          right = options.top\n          bottom = options.left\n          left = options.bottom\n          break\n        case 8:\n          // 90 Rotate CW\n          top = options.right\n          right = options.bottom\n          bottom = options.left\n          left = options.top\n          break\n      }\n      // Some orientation combinations require additional rotation by 180:\n      if (requiresRot180(orientation, autoOrientation)) {\n        var tmpTop = top\n        var tmpRight = right\n        top = bottom\n        right = left\n        bottom = tmpTop\n        left = tmpRight\n      }\n    }\n    newOptions.top = top\n    newOptions.right = right\n    newOptions.bottom = bottom\n    newOptions.left = left\n    // Account for defined browser orientation:\n    switch (orientation) {\n      case 2:\n        // Horizontal flip\n        newOptions.right = left\n        newOptions.left = right\n        break\n      case 3:\n        // 180 Rotate CCW\n        newOptions.top = bottom\n        newOptions.right = left\n        newOptions.bottom = top\n        newOptions.left = right\n        break\n      case 4:\n        // Vertical flip\n        newOptions.top = bottom\n        newOptions.bottom = top\n        break\n      case 5:\n        // Vertical flip + 90 Rotate CW\n        newOptions.top = left\n        newOptions.right = bottom\n        newOptions.bottom = right\n        newOptions.left = top\n        break\n      case 6:\n        // 90 Rotate CW\n        newOptions.top = right\n        newOptions.right = bottom\n        newOptions.bottom = left\n        newOptions.left = top\n        break\n      case 7:\n        // Horizontal flip + 90 Rotate CW\n        newOptions.top = right\n        newOptions.right = top\n        newOptions.bottom = left\n        newOptions.left = bottom\n        break\n      case 8:\n        // 90 Rotate CCW\n        newOptions.top = left\n        newOptions.right = top\n        newOptions.bottom = right\n        newOptions.left = bottom\n        break\n    }\n    return newOptions\n  }\n\n  // Transform image orientation based on the given EXIF orientation option:\n  loadImage.transformCoordinates = function (canvas, options, data) {\n    originalTransformCoordinates.call(loadImage, canvas, options, data)\n    var orientation = options.orientation\n    var autoOrientation =\n      loadImage.orientation && data.exif && data.exif.get('Orientation')\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\n      return\n    }\n    var ctx = canvas.getContext('2d')\n    var width = canvas.width\n    var height = canvas.height\n    var sourceWidth = width\n    var sourceHeight = height\n    if (\n      (orientation > 4 && !(autoOrientation > 4)) ||\n      (orientation < 5 && autoOrientation > 4)\n    ) {\n      // Image dimensions and target dimensions are switched\n      canvas.width = height\n      canvas.height = width\n    }\n    if (orientation > 4) {\n      // Destination and source dimensions are switched\n      sourceWidth = height\n      sourceHeight = width\n    }\n    // Reset automatic browser orientation:\n    switch (autoOrientation) {\n      case 2:\n        // Horizontal flip\n        ctx.translate(sourceWidth, 0)\n        ctx.scale(-1, 1)\n        break\n      case 3:\n        // 180 Rotate CCW\n        ctx.translate(sourceWidth, sourceHeight)\n        ctx.rotate(Math.PI)\n        break\n      case 4:\n        // Vertical flip\n        ctx.translate(0, sourceHeight)\n        ctx.scale(1, -1)\n        break\n      case 5:\n        // Horizontal flip + 90 Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.scale(-1, 1)\n        break\n      case 6:\n        // 90 Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-sourceWidth, 0)\n        break\n      case 7:\n        // Vertical flip + 90 Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-sourceWidth, sourceHeight)\n        ctx.scale(1, -1)\n        break\n      case 8:\n        // 90 Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(0, -sourceHeight)\n        break\n    }\n    // Some orientation combinations require additional rotation by 180:\n    if (requiresRot180(orientation, autoOrientation)) {\n      ctx.translate(sourceWidth, sourceHeight)\n      ctx.rotate(Math.PI)\n    }\n    switch (orientation) {\n      case 2:\n        // Horizontal flip\n        ctx.translate(width, 0)\n        ctx.scale(-1, 1)\n        break\n      case 3:\n        // 180 Rotate CCW\n        ctx.translate(width, height)\n        ctx.rotate(Math.PI)\n        break\n      case 4:\n        // Vertical flip\n        ctx.translate(0, height)\n        ctx.scale(1, -1)\n        break\n      case 5:\n        // Vertical flip + 90 Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.scale(1, -1)\n        break\n      case 6:\n        // 90 Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(0, -height)\n        break\n      case 7:\n        // Horizontal flip + 90 Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(width, -height)\n        ctx.scale(-1, 1)\n        break\n      case 8:\n        // 90 Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-width, 0)\n        break\n    }\n  }\n})\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"field-observation-form\",attrs:{\"action\":_vm.action,\"method\":\"POST\",\"lang\":_vm.locale}},[_c('div',{staticClass:\"columns is-desktop\"},[_c('div',{staticClass:\"column is-half-desktop\"},[_c('nz-taxon-autocomplete',{ref:\"taxonAutocomplete\",attrs:{\"taxon\":_vm.observation.taxon,\"error\":_vm.form.errors.has('taxon_id'),\"message\":_vm.form.errors.has('taxon_id') ? _vm.form.errors.first('taxon_id') : null,\"autofocus\":\"\",\"label\":_vm.trans('labels.field_observations.taxon'),\"placeholder\":_vm.trans('labels.field_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.form.taxon_suggestion),callback:function ($$v) {_vm.$set(_vm.form, \"taxon_suggestion\", $$v)},expression:\"form.taxon_suggestion\"}}),_vm._v(\" \"),_c('nz-date-input',{attrs:{\"year\":_vm.form.year,\"month\":_vm.form.month,\"day\":_vm.form.day,\"errors\":_vm.form.errors,\"label\":_vm.trans('labels.field_observations.date'),\"placeholders\":{\n            year: _vm.trans('labels.field_observations.year'),\n            month: _vm.trans('labels.field_observations.month'),\n            day: _vm.trans('labels.field_observations.day')\n        }},on:{\"update:year\":function($event){return _vm.$set(_vm.form, \"year\", $event)},\"update:month\":function($event){return _vm.$set(_vm.form, \"month\", $event)},\"update:day\":function($event){return _vm.$set(_vm.form, \"day\", $event)}}}),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.photos')}},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-1\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(0, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(0, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(0, 'license'),\"licenses\":_vm.imageLicenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(0, $event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-2\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(1, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(1, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(1, 'license'),\"licenses\":_vm.imageLicenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(1, $event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-3\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(2, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(2, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(2, 'license'),\"licenses\":_vm.imageLicenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(2, $event)}}})],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-half-desktop\"},[_c('nz-spatial-input',{attrs:{\"latitude\":_vm.form.latitude,\"longitude\":_vm.form.longitude,\"location\":_vm.form.location,\"accuracy\":_vm.form.accuracy,\"elevation\":_vm.form.elevation,\"errors\":_vm.form.errors},on:{\"update:latitude\":function($event){return _vm.$set(_vm.form, \"latitude\", $event)},\"update:longitude\":function($event){return _vm.$set(_vm.form, \"longitude\", $event)},\"update:location\":function($event){return _vm.$set(_vm.form, \"location\", $event)},\"update:accuracy\":function($event){return _vm.$set(_vm.form, \"accuracy\", $event)},\"update:elevation\":function($event){return _vm.$set(_vm.form, \"elevation\", $event)}}})],1)]),_vm._v(\" \"),_c('button',{staticClass:\"button is-text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showMoreDetails = !_vm.showMoreDetails}}},[_vm._v(\"\\n    \"+_vm._s(_vm.showMoreDetails ? _vm.trans('labels.field_observations.less_details') : _vm.trans('labels.field_observations.more_details'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMoreDetails),expression:\"showMoreDetails\"}],staticClass:\"mt-4\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.stage'),\"label-for\":\"stage\",\"type\":_vm.form.errors.has('stage_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('stage_id') ? _vm.form.errors.first('stage_id') : null}},[_c('b-select',{attrs:{\"id\":\"stage\",\"disabled\":!_vm.stages.length,\"expanded\":\"\"},on:{\"input\":function($event){_vm.lastStageId = $event}},model:{value:(_vm.form.stage_id),callback:function ($$v) {_vm.$set(_vm.form, \"stage_id\", $$v)},expression:\"form.stage_id\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_stage')))]),_vm._v(\" \"),_vm._l((_vm.stages),function(stage){return _c('option',{key:stage.id,domProps:{\"value\":stage.id,\"textContent\":_vm._s(_vm.trans(`stages.${stage.name}`))}})})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.sex'),\"type\":_vm.form.errors.has('sex') ? 'is-danger' : null,\"message\":_vm.form.errors.has('sex') ? _vm.form.errors.first('sex') : null}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_vm._l((_vm.sexes),function(label,sex){return _c('option',{key:sex,domProps:{\"value\":sex,\"textContent\":_vm._s(label)}})})],2)],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.types'),\"error\":_vm.form.errors.has('observation_types_ids'),\"message\":_vm.form.errors.has('observation_types_ids') ? _vm.form.errors.first('observation_types_ids') : null}},[_c('b-taginput',{attrs:{\"data\":_vm.availableObservationTypes,\"autocomplete\":\"\",\"allowNew\":false,\"field\":\"name\",\"icon\":\"tag\",\"placeholder\":_vm.trans('labels.field_observations.types_placeholder'),\"open-on-focus\":\"\"},on:{\"typing\":_vm.onTypeTyping},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"]))return null;return _vm.onTypeBackspace.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('span',[_vm._v(_vm._s(props.option.name))])]}}]),model:{value:(_vm.selectedObservationTypes),callback:function ($$v) {_vm.selectedObservationTypes=$$v},expression:\"selectedObservationTypes\"}})],1),_vm._v(\" \"),(_vm.usesAtlasCodes)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.atlas_code'),\"label-for\":\"atlas-code\",\"type\":_vm.form.errors.has('atlas_code') ? 'is-danger' : null,\"message\":_vm.form.errors.has('atlas_code') ? _vm.form.errors.first('atlas_code') : null}},[_c('b-select',{attrs:{\"id\":\"atlas-code\",\"expanded\":\"\"},model:{value:(_vm.form.atlas_code),callback:function ($$v) {_vm.$set(_vm.form, \"atlas_code\", $$v)},expression:\"form.atlas_code\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_vm._l((_vm.atlasCodes),function(atlasCode){return _c('option',{key:atlasCode.code,domProps:{\"value\":atlasCode.code,\"textContent\":_vm._s(atlasCode.name)}})})],2)],1):_vm._e(),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.number'),\"label-for\":\"number\",\"type\":_vm.form.errors.has('number') ? 'is-danger' : null,\"message\":_vm.form.errors.has('number') ? _vm.form.errors.first('number') : null}},[_c('b-input',{attrs:{\"id\":\"number\",\"type\":\"number\"},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.note'),\"label-for\":\"note\",\"error\":_vm.form.errors.has('note'),\"message\":_vm.form.errors.has('note') ? _vm.form.errors.first('note') : null}},[_c('b-input',{attrs:{\"id\":\"note\",\"type\":\"textarea\"},model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.habitat'),\"label-for\":\"habitat\",\"error\":_vm.form.errors.has('habitat'),\"message\":_vm.form.errors.has('habitat') ? _vm.form.errors.first('habitat') : null}},[_c('b-input',{attrs:{\"id\":\"habitat\",\"name\":\"habitat\"},model:{value:(_vm.form.habitat),callback:function ($$v) {_vm.$set(_vm.form, \"habitat\", $$v)},expression:\"form.habitat\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.found_on'),\"type\":_vm.form.errors.has('found_on') ? 'is-danger' : null,\"message\":_vm.form.errors.has('found_on') ? _vm.form.errors.first('found_on') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"found_on\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.found_on_tooltip')}),expression:\"{content: trans('labels.literature_observations.found_on_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n              \"+_vm._s(_vm.trans('labels.literature_observations.found_on'))+\"\\n            \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"found_on\",\"name\":\"found_on\"},model:{value:(_vm.form.found_on),callback:function ($$v) {_vm.$set(_vm.form, \"found_on\", $$v)},expression:\"form.found_on\"}})],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.time'),\"label-for\":\"time\",\"type\":_vm.form.errors.has('time') ? 'is-danger' : null,\"message\":_vm.form.errors.has('time') ? _vm.form.errors.first('time') : null}},[_c('b-timepicker',{attrs:{\"id\":\"time\",\"value\":_vm.time,\"placeholder\":_vm.trans('labels.field_observations.click_to_select'),\"icon\":\"clock-o\",\"mobile-native\":false},on:{\"input\":_vm.onTimeInput}},[_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.form.time = null}}},[_c('b-icon',{attrs:{\"icon\":\"close\"}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.project'),\"type\":_vm.form.errors.has('project') ? 'is-danger' : null,\"message\":_vm.form.errors.has('project') ? _vm.form.errors.first('project') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"project\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.project_tooltip')}),expression:\"{content: trans('labels.literature_observations.project_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n              \"+_vm._s(_vm.trans('labels.literature_observations.project'))+\"\\n            \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"project\",\"name\":\"project\"},model:{value:(_vm.form.project),callback:function ($$v) {_vm.$set(_vm.form, \"project\", $$v)},expression:\"form.project\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.dataset'),\"label-for\":\"dataset\",\"type\":_vm.form.errors.has('dataset') ? 'is-danger' : null,\"message\":_vm.form.errors.has('dataset') ? _vm.form.errors.first('dataset') : null}},[_c('b-input',{attrs:{\"id\":\"dataset\",\"name\":\"dataset\"},model:{value:(_vm.form.dataset),callback:function ($$v) {_vm.$set(_vm.form, \"dataset\", $$v)},expression:\"form.dataset\"}})],1)],1)]),_vm._v(\" \"),_c('b-checkbox',{model:{value:(_vm.form.found_dead),callback:function ($$v) {_vm.$set(_vm.form, \"found_dead\", $$v)},expression:\"form.found_dead\"}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.found_dead')))]),_vm._v(\" \"),(_vm.form.found_dead)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.found_dead_note'),\"label-for\":\"found_dead_note\",\"error\":_vm.form.errors.has('found_dead_note'),\"message\":_vm.form.errors.has('found_dead_note') ? _vm.form.errors.first('found_dead_note') : null}},[_c('b-input',{attrs:{\"id\":\"found_dead_note\",\"type\":\"textarea\"},model:{value:(_vm.form.found_dead_note),callback:function ($$v) {_vm.$set(_vm.form, \"found_dead_note\", $$v)},expression:\"form.found_dead_note\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showObserverIdentifier)?[_c('nz-user-autocomplete',{attrs:{\"error\":_vm.form.errors.has('observer'),\"message\":_vm.form.errors.has('observer') ? _vm.form.errors.first('observer') : null,\"user\":_vm.form.observed_by,\"label\":_vm.trans('labels.field_observations.observer'),\"placeholder\":_vm.currentUser.full_name},on:{\"select\":_vm.onObserverSelect},model:{value:(_vm.form.observer),callback:function ($$v) {_vm.$set(_vm.form, \"observer\", $$v)},expression:\"form.observer\"}}),_vm._v(\" \"),_c('nz-user-autocomplete',{attrs:{\"error\":_vm.form.errors.has('identifier'),\"message\":_vm.form.errors.has('identifier') ? _vm.form.errors.first('identifier') : null,\"user\":_vm.form.identified_by,\"label\":_vm.trans('labels.field_observations.identifier'),\"disabled\":!_vm.isIdentified},on:{\"select\":_vm.onIdentifierSelect},model:{value:(_vm.form.identifier),callback:function ($$v) {_vm.$set(_vm.form, \"identifier\", $$v)},expression:\"form.identifier\"}})]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.data_license'),\"label-for\":\"data_license\",\"type\":_vm.form.errors.has('data_license') ? 'is-danger' : null,\"message\":_vm.form.errors.has('data_license') ? _vm.form.errors.first('data_license') : null}},[_c('b-select',{attrs:{\"id\":\"data_license\",\"expanded\":\"\"},model:{value:(_vm.form.data_license),callback:function ($$v) {_vm.$set(_vm.form, \"data_license\", $$v)},expression:\"form.data_license\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.default')))]),_vm._v(\" \"),_vm._l((_vm.dataLicenses),function(label,value){return _c('option',{key:`license-${value}`,domProps:{\"value\":value,\"textContent\":_vm._s(label)}})})],2)],1)],1)])],2),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.field_observations.save_tooltip')}),expression:\"{content: trans('labels.field_observations.save_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n        'is-loading': _vm.submittingWithRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithRedirect.apply(null, arguments)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save'))+\"\\n  \")]),_vm._v(\" \"),(_vm.submitMore)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.field_observations.save_more_tooltip')}),expression:\"{content: trans('labels.field_observations.save_more_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n        'is-outlined': !_vm.submittingWithoutRedirect,\n        'is-loading': _vm.submittingWithoutRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirect.apply(null, arguments)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save_more'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"button is-text\",attrs:{\"href\":_vm.cancelUrl},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _intersection from 'lodash/intersection'\r\n\r\nexport default class User {\r\n  constructor(data) {\r\n    for (let attribute in data) {\r\n      this[attribute] = data[attribute];\r\n    }\r\n  }\r\n\r\n  hasRole(roles) {\r\n    if (!Array.isArray(roles)) {\r\n      roles = [roles]\r\n    }\r\n\r\n    return !!_intersection(this.roles.map(role => role.name), roles).length;\r\n  }\r\n}\r\n","import User from '@/models/user'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentUser: new User(window.App.User)\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    isCuratorOrAdmin() {\r\n        return this.currentUser.hasRole(['admin', 'curator'])\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <form :action=\"action\" method=\"POST\" :lang=\"locale\" class=\"field-observation-form\">\r\n    <div class=\"columns is-desktop\">\r\n      <div class=\"column is-half-desktop\">\r\n        <nz-taxon-autocomplete\r\n          v-model=\"form.taxon_suggestion\"\r\n          @select=\"onTaxonSelect\"\r\n          :taxon=\"observation.taxon\"\r\n          :error=\"form.errors.has('taxon_id')\"\r\n          :message=\"form.errors.has('taxon_id') ? form.errors.first('taxon_id') : null\"\r\n          autofocus\r\n          ref=\"taxonAutocomplete\"\r\n          :label=\"trans('labels.field_observations.taxon')\"\r\n          :placeholder=\"trans('labels.field_observations.search_for_taxon')\"\r\n        />\r\n\r\n        <nz-date-input\r\n          :year.sync=\"form.year\"\r\n          :month.sync=\"form.month\"\r\n          :day.sync=\"form.day\"\r\n          :errors=\"form.errors\"\r\n          :label=\"trans('labels.field_observations.date')\"\r\n          :placeholders=\"{\r\n              year: trans('labels.field_observations.year'),\r\n              month: trans('labels.field_observations.month'),\r\n              day: trans('labels.field_observations.day')\r\n          }\"\r\n        />\r\n\r\n        <b-field :label=\"trans('labels.field_observations.photos')\">\r\n          <div class=\"columns\">\r\n            <div class=\"column is-one-third\">\r\n              <nz-photo-upload\r\n                :image-url=\"getObservationPhotoAttribute(0, 'url')\"\r\n                :image-path=\"getObservationPhotoAttribute(0, 'path')\"\r\n                :image-license=\"getObservationPhotoAttribute(0, 'license')\"\r\n                :licenses=\"imageLicenses\"\r\n                :text=\"trans('labels.field_observations.upload')\"\r\n                @uploaded=\"onPhotoUploaded\"\r\n                @removed=\"onPhotoRemoved\"\r\n                @cropped=\"onPhotoCropped\"\r\n                @license-changed=\"onLicenseChanged(0, $event)\"\r\n                :errors=\"form.errors\"\r\n                ref=\"photoUpload-1\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"column is-one-third\">\r\n              <nz-photo-upload\r\n                :image-url=\"getObservationPhotoAttribute(1, 'url')\"\r\n                :image-path=\"getObservationPhotoAttribute(1, 'path')\"\r\n                :image-license=\"getObservationPhotoAttribute(1, 'license')\"\r\n                :licenses=\"imageLicenses\"\r\n                :text=\"trans('labels.field_observations.upload')\"\r\n                @uploaded=\"onPhotoUploaded\"\r\n                @removed=\"onPhotoRemoved\"\r\n                @cropped=\"onPhotoCropped\"\r\n                @license-changed=\"onLicenseChanged(1, $event)\"\r\n                :errors=\"form.errors\"\r\n                ref=\"photoUpload-2\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"column is-one-third\">\r\n              <nz-photo-upload\r\n                :image-url=\"getObservationPhotoAttribute(2, 'url')\"\r\n                :image-path=\"getObservationPhotoAttribute(2, 'path')\"\r\n                :image-license=\"getObservationPhotoAttribute(2, 'license')\"\r\n                :licenses=\"imageLicenses\"\r\n                :text=\"trans('labels.field_observations.upload')\"\r\n                @uploaded=\"onPhotoUploaded\"\r\n                @removed=\"onPhotoRemoved\"\r\n                @cropped=\"onPhotoCropped\"\r\n                @license-changed=\"onLicenseChanged(2, $event)\"\r\n                :errors=\"form.errors\"\r\n                ref=\"photoUpload-3\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </b-field>\r\n      </div>\r\n\r\n      <div class=\"column is-half-desktop\">\r\n        <nz-spatial-input\r\n          :latitude.sync=\"form.latitude\"\r\n          :longitude.sync=\"form.longitude\"\r\n          :location.sync=\"form.location\"\r\n          :accuracy.sync=\"form.accuracy\"\r\n          :elevation.sync=\"form.elevation\"\r\n          :errors=\"form.errors\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <button\r\n      type=\"button\"\r\n      class=\"button is-text\"\r\n      @click=\"showMoreDetails = !showMoreDetails\"\r\n    >\r\n      {{ showMoreDetails ? trans('labels.field_observations.less_details') : trans('labels.field_observations.more_details') }}\r\n    </button>\r\n\r\n    <div class=\"mt-4\" v-show=\"showMoreDetails\">\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.stage')\"\r\n            label-for=\"stage\"\r\n            :type=\"form.errors.has('stage_id') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('stage_id') ? form.errors.first('stage_id') : null\"\r\n          >\r\n            <b-select id=\"stage\" v-model=\"form.stage_id\" :disabled=\"!stages.length\" @input=\"lastStageId = $event\" expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_stage') }}</option>\r\n              <option v-for=\"stage in stages\" :value=\"stage.id\" :key=\"stage.id\" v-text=\"trans(`stages.${stage.name}`)\"></option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.sex')\"\r\n            :type=\"form.errors.has('sex') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('sex') ? form.errors.first('sex') : null\"\r\n          >\r\n            <b-select v-model=\"form.sex\" expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n              <option v-for=\"(label,sex) in sexes\" :key=\"sex\" :value=\"sex\" v-text=\"label\"></option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.types')\"\r\n        :error=\"form.errors.has('observation_types_ids')\"\r\n        :message=\"form.errors.has('observation_types_ids') ? form.errors.first('observation_types_ids') : null\"\r\n      >\r\n        <b-taginput\r\n          v-model=\"selectedObservationTypes\"\r\n          :data=\"availableObservationTypes\"\r\n          autocomplete\r\n          :allowNew=\"false\"\r\n          field=\"name\"\r\n          icon=\"tag\"\r\n          :placeholder=\"trans('labels.field_observations.types_placeholder')\"\r\n          @typing=\"onTypeTyping\"\r\n          @keyup.native.delete=\"onTypeBackspace\"\r\n          open-on-focus\r\n        >\r\n          <template v-slot:default=\"props\">\r\n            <span>{{ props.option.name }}</span>\r\n          </template>\r\n        </b-taginput>\r\n      </b-field>\r\n\r\n      <b-field\r\n        v-if=\"usesAtlasCodes\"\r\n        :label=\"trans('labels.field_observations.atlas_code')\"\r\n        label-for=\"atlas-code\"\r\n        :type=\"form.errors.has('atlas_code') ? 'is-danger' : null\"\r\n        :message=\"form.errors.has('atlas_code') ? form.errors.first('atlas_code') : null\"\r\n      >\r\n        <b-select id=\"atlas-code\" v-model=\"form.atlas_code\" expanded>\r\n          <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n          <option v-for=\"atlasCode in atlasCodes\" :value=\"atlasCode.code\" v-text=\"atlasCode.name\" :key=\"atlasCode.code\"></option>\r\n        </b-select>\r\n      </b-field>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.number')\"\r\n        label-for=\"number\"\r\n        :type=\"form.errors.has('number') ? 'is-danger' : null\"\r\n        :message=\"form.errors.has('number') ? form.errors.first('number') : null\"\r\n      >\r\n        <b-input id=\"number\" type=\"number\" v-model=\"form.number\" />\r\n      </b-field>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.note')\"\r\n        label-for=\"note\"\r\n        :error=\"form.errors.has('note')\"\r\n        :message=\"form.errors.has('note') ? form.errors.first('note') : null\"\r\n      >\r\n        <b-input id=\"note\" type=\"textarea\" v-model=\"form.note\" />\r\n      </b-field>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.habitat')\"\r\n            label-for=\"habitat\"\r\n            :error=\"form.errors.has('habitat')\"\r\n            :message=\"form.errors.has('habitat') ? form.errors.first('habitat') : null\"\r\n          >\r\n            <b-input id=\"habitat\" name=\"habitat\" v-model=\"form.habitat\" />\r\n          </b-field>\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.literature_observations.found_on')\"\r\n            :type=\"form.errors.has('found_on') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('found_on') ? form.errors.first('found_on') : null\"\r\n          >\r\n            <label for=\"found_on\" class=\"label\" slot=\"label\">\r\n              <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.found_on_tooltip')}\">\r\n                {{ trans('labels.literature_observations.found_on') }}\r\n              </span>\r\n            </label>\r\n\r\n            <b-input id=\"found_on\" name=\"found_on\" v-model=\"form.found_on\"/>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.time')\"\r\n        label-for=\"time\"\r\n        :type=\"form.errors.has('time') ? 'is-danger' : null\"\r\n        :message=\"form.errors.has('time') ? form.errors.first('time') : null\"\r\n      >\r\n        <b-timepicker\r\n          id=\"time\"\r\n          :value=\"time\"\r\n          @input=\"onTimeInput\"\r\n          :placeholder=\"trans('labels.field_observations.click_to_select')\"\r\n          icon=\"clock-o\"\r\n          :mobile-native=\"false\"\r\n        >\r\n          <button type=\"button\" class=\"button is-danger\" @click=\"form.time = null\">\r\n            <b-icon icon=\"close\"></b-icon>\r\n          </button>\r\n        </b-timepicker>\r\n      </b-field>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.literature_observations.project')\"\r\n            :type=\"form.errors.has('project') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('project') ? form.errors.first('project') : null\"\r\n          >\r\n            <label for=\"project\" class=\"label\" slot=\"label\">\r\n              <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.project_tooltip')}\">\r\n                {{ trans('labels.literature_observations.project') }}\r\n              </span>\r\n            </label>\r\n\r\n            <b-input id=\"project\" name=\"project\" v-model=\"form.project\"/>\r\n          </b-field>\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.dataset')\"\r\n            label-for=\"dataset\"\r\n            :type=\"form.errors.has('dataset') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('dataset') ? form.errors.first('dataset') : null\"\r\n          >\r\n            <b-input id=\"dataset\" name=\"dataset\" v-model=\"form.dataset\" />\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-checkbox v-model=\"form.found_dead\">{{ trans('labels.field_observations.found_dead') }}</b-checkbox>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.found_dead_note')\"\r\n        label-for=\"found_dead_note\"\r\n        v-if=\"form.found_dead\"\r\n        :error=\"form.errors.has('found_dead_note')\"\r\n        :message=\"form.errors.has('found_dead_note') ? form.errors.first('found_dead_note') : null\"\r\n      >\r\n        <b-input id=\"found_dead_note\" type=\"textarea\" v-model=\"form.found_dead_note\" />\r\n      </b-field>\r\n\r\n      <template v-if=\"showObserverIdentifier\">\r\n        <nz-user-autocomplete\r\n          v-model=\"form.observer\"\r\n          @select=\"onObserverSelect\"\r\n          :error=\"form.errors.has('observer')\"\r\n          :message=\"form.errors.has('observer') ? form.errors.first('observer') : null\"\r\n          :user=\"form.observed_by\"\r\n          :label=\"trans('labels.field_observations.observer')\"\r\n          :placeholder=\"currentUser.full_name\"\r\n        />\r\n\r\n        <nz-user-autocomplete\r\n          v-model=\"form.identifier\"\r\n          @select=\"onIdentifierSelect\"\r\n          :error=\"form.errors.has('identifier')\"\r\n          :message=\"form.errors.has('identifier') ? form.errors.first('identifier') : null\"\r\n          :user=\"form.identified_by\"\r\n          :label=\"trans('labels.field_observations.identifier')\"\r\n          :disabled=\"!isIdentified\"\r\n        />\r\n      </template>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.data_license')\"\r\n            label-for=\"data_license\"\r\n            :type=\"form.errors.has('data_license') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('data_license') ? form.errors.first('data_license') : null\"\r\n          >\r\n            <b-select id=\"data_license\" v-model=\"form.data_license\" expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.default') }}</option>\r\n              <option v-for=\"(label, value) in dataLicenses\" :value=\"value\" v-text=\"label\" :key=\"`license-${value}`\"></option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <hr>\r\n\r\n    <button\r\n      type=\"submit\"\r\n      class=\"button is-primary\"\r\n      :class=\"{\r\n          'is-loading': submittingWithRedirect\r\n      }\"\r\n      @click.prevent=\"submitWithRedirect\"\r\n      v-tooltip=\"{content: trans('labels.field_observations.save_tooltip')}\"\r\n    >\r\n      {{ trans('buttons.save') }}\r\n    </button>\r\n\r\n    <button\r\n      type=\"submit\"\r\n      class=\"button is-primary\"\r\n      :class=\"{\r\n          'is-outlined': !submittingWithoutRedirect,\r\n          'is-loading': submittingWithoutRedirect\r\n      }\"\r\n      @click.prevent=\"submitWithoutRedirect\"\r\n      v-if=\"submitMore\"\r\n      v-tooltip=\"{content: trans('labels.field_observations.save_more_tooltip')}\"\r\n    >\r\n      {{ trans('buttons.save_more') }}\r\n    </button>\r\n\r\n    <a :href=\"cancelUrl\" class=\"button is-text\" @click=\"onCancel\">{{ trans('buttons.cancel') }}</a>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport Form from 'form-backend-validation'\r\nimport dayjs from '@/dayjs'\r\nimport _get from 'lodash/get'\r\nimport _find from 'lodash/find'\r\nimport _includes from 'lodash/includes'\r\nimport _findIndex from 'lodash/findIndex'\r\nimport _remove from 'lodash/remove'\r\nimport _cloneDeep from 'lodash/cloneDeep'\r\nimport FormMixin from '@/mixins/FormMixin'\r\nimport UserMixin from '@/mixins/UserMixin'\r\nimport NzDateInput from '@/components/inputs/DateInput'\r\nimport NzPhotoUpload from '@/components/inputs/PhotoUpload'\r\nimport NzSpatialInput from '@/components/inputs/SpatialInput'\r\nimport NzTaxonAutocomplete from '@/components/inputs/TaxonAutocomplete'\r\nimport NzUserAutocomplete from '@/components/inputs/UserAutocomplete'\r\n\r\nexport default {\r\n  name: 'nzFieldObservationForm',\r\n\r\n  mixins: [FormMixin, UserMixin],\r\n\r\n  components: {\r\n    NzDateInput,\r\n    NzPhotoUpload,\r\n    NzSpatialInput,\r\n    NzTaxonAutocomplete,\r\n    NzUserAutocomplete\r\n  },\r\n\r\n  props: {\r\n    observation: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          taxon: null,\r\n          taxon_id: null,\r\n          taxon_suggestion: '',\r\n          year: dayjs().year(),\r\n          month: dayjs().month() + 1,\r\n          day: dayjs().date(),\r\n          latitude: null,\r\n          longitude: null,\r\n          accuracy: null,\r\n          elevation: null,\r\n          location: '',\r\n          photos: [],\r\n          observer: '',\r\n          identifier: '',\r\n          note: '',\r\n          sex: null,\r\n          number: null,\r\n          project: null,\r\n          habitat: null,\r\n          found_on: null,\r\n          stage_id: null,\r\n          found_dead: false,\r\n          found_dead_note: '',\r\n          data_license: null,\r\n          image_license: null,\r\n          time: null,\r\n          types: [],\r\n          observed_by_id: null,\r\n          observed_by: null,\r\n          identified_by_id: null,\r\n          identified_by: null,\r\n          dataset: null,\r\n          atlas_code: null,\r\n        }\r\n      }\r\n    },\r\n\r\n    dataLicenses: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n\r\n    imageLicenses: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n\r\n    sexes: {\r\n        type: Object,\r\n        default: () => ({})\r\n    },\r\n\r\n    observationTypes: {\r\n        type: Array,\r\n        default: () => []\r\n    },\r\n\r\n    showObserverIdentifier: Boolean,\r\n\r\n    atlasCodes: Array,\r\n\r\n    defaultStage: {\r\n      type: Number,\r\n      required: false,\r\n      default: null,\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      keepAfterSubmit: this.getAttributesToKeep(),\r\n      showMoreDetails: false,\r\n      locale: window.App.locale,\r\n      observationTypeSearch: '',\r\n      shouldClearType: false,\r\n      exifExtracted: false,\r\n      lastStageId: this.observation.stage_id || this.defaultStage,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    stages() {\r\n      return this.form.taxon ? this.form.taxon.stages : []\r\n    },\r\n\r\n    time() {\r\n      return this.form.time ? dayjs(this.form.time, 'HH:mm').toDate() : null\r\n    },\r\n\r\n    selectedObservationTypes: {\r\n      get() {\r\n        return this.observationTypes.filter(type =>\r\n          _includes(this.form.observation_types_ids, type.id)\r\n        )\r\n      },\r\n\r\n      set(value) {\r\n        this.form.observation_types_ids = value.map(type => type.id)\r\n      }\r\n    },\r\n\r\n    availableObservationTypes() {\r\n      return this.observationTypes.filter(type => {\r\n        return !_includes(this.form.observation_types_ids, type.id) &&\r\n          type.name.toLowerCase().includes(this.observationTypeSearch.toLowerCase())\r\n      })\r\n    },\r\n\r\n    isIdentified() {\r\n      return !!(this.form.taxon_id || this.form.taxon_suggestion)\r\n    },\r\n\r\n    /**\r\n     * Check if identification is changed compared to the original observation.\r\n     * @return {Boolean}\r\n     */\r\n    identificationChanged() {\r\n      return this.form.taxon_id != this.observation.taxon_id ||\r\n        this.form.taxon_suggestion != this.observation.taxon_suggestion\r\n    },\r\n\r\n    usesAtlasCodes() {\r\n      return this.form.taxon ? this.form.taxon.uses_atlas_codes : false;\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.setDefaultObservationType()\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Create new form instance.\r\n     *\r\n     * @return {Form}\r\n     */\r\n    newForm() {\r\n      const observation = this.observation\r\n\r\n      // If crop is not set on existing photos, we can't crop them.\r\n      observation.photos.forEach(photo => {\r\n        photo.crop = null\r\n      })\r\n\r\n      return new Form({\r\n        ...observation,\r\n        observation_types_ids: observation.types.map(type => type.id),\r\n        reason: null\r\n      }, {\r\n        resetOnSuccess: false\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Performa after submit without redirect is successful.\r\n     */\r\n    hookAfterSubmitWithoutRedirect() {\r\n      this.setDefaultObservationType()\r\n      this.clearPhotos()\r\n      // Focus on taxon autocomplete input.\r\n      this.$refs.taxonAutocomplete.focusOnInput()\r\n    },\r\n\r\n    /**\r\n     * Clear all photos.\r\n     */\r\n    clearPhotos() {\r\n      [1, 2, 3].forEach(number => {\r\n        this.$refs[`photoUpload-${number}`].clearPhoto()\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Handle taxon veing selected.\r\n     *\r\n     * @param {Object} value\r\n     */\r\n    onTaxonSelect(taxon) {\r\n      this.form.taxon = taxon || null\r\n      this.form.taxon_id = taxon ? taxon.id : null\r\n      this.form.taxon_suggestion = taxon ? taxon.name : null\r\n\r\n      const invalidStage = this.lastStageId && !_find(this.stages, stage => stage.id === this.lastStageId)\r\n\r\n      this.form.stage_id = invalidStage ? null : this.lastStageId\r\n\r\n      if (!this.usesAtlasCodes) {\r\n        this.form.atlas_code = null;\r\n      }\r\n\r\n      this.updateIdentifier()\r\n    },\r\n\r\n    /**\r\n     * Set time.\r\n     */\r\n    onTimeInput(value) {\r\n      this.form.time = value ? dayjs(value).format('HH:mm') : null\r\n    },\r\n\r\n    /**\r\n     * Add uploaded photo's filename to array.\r\n     *\r\n     * @param {String} file name\r\n     */\r\n    onPhotoUploaded(image) {\r\n      this.form.photos.push({\r\n\t\t\t\tpath: image.path,\r\n\t\t\t\tcrop: image.crop,\r\n\t\t\t\tlicense: image.license\r\n      })\r\n\r\n      const availableType = _find(this.availableObservationTypes, { slug: 'photographed' })\r\n\r\n      if (availableType) {\r\n        this.pushSelectedObservationType(availableType)\r\n      }\r\n\r\n      this.promptToExtractExifData(image)\r\n    },\r\n\r\n    /**\r\n     * Remove photo from form.\r\n     *\r\n     * @param {Object} image\r\n     */\r\n    onPhotoRemoved(image) {\r\n      _remove(this.form.photos, { path: image.path })\r\n\r\n      const selectedTypeIndex = _findIndex(this.selectedObservationTypes, { slug: 'photographed' })\r\n\r\n      if (!this.form.photos.length && selectedTypeIndex >= 0) {\r\n        const selectedObservationTypes = this.selectedObservationTypes\r\n\r\n        selectedObservationTypes.splice(selectedTypeIndex, 1)\r\n\r\n        this.selectedObservationTypes = selectedObservationTypes\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Add/remove cropping information.\r\n     *\r\n     * @param {Object} image\r\n     */\r\n    onPhotoCropped(croppedImage) {\r\n      const photoIndex = _findIndex(this.form.photos, { path: croppedImage.path })\r\n\r\n      if (photoIndex >= 0) {\r\n        const photo = _cloneDeep(this.form.photos[photoIndex])\r\n\r\n        photo.crop = croppedImage.crop\r\n\r\n        this.form.photos.splice(photoIndex, 1, photo)\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get observation photo attribute.\r\n     *\r\n     * @param  {Number} [photoIndex=0]\r\n     * @param  {String} [attribute='url']\r\n     * @return {String}\r\n     */\r\n    getObservationPhotoAttribute(photoIndex = 0, attribute = 'url') {\r\n      let value = _get(this.observation, `photos.${photoIndex}.${attribute}`, '')\r\n\r\n      if (attribute === 'url' && value) {\r\n        const updated = dayjs(_get(this.observation, `photos.${photoIndex}.updated_at`, null))\r\n\r\n        value += updated.isValid() ? `?v=${updated.unix()}` : ''\r\n      }\r\n\r\n      return value\r\n    },\r\n\r\n    /**\r\n     * Attributes to keep after submit without redirect.\r\n     *\r\n     * @return {Array}\r\n     */\r\n    getAttributesToKeep() {\r\n      return [\r\n        'location', 'accuracy', 'elevation', 'latitude', 'longitude',\r\n        'year', 'month', 'day', 'project', 'observer', 'observed_by',\r\n        'observed_by_id', 'data_license', 'image_license',\r\n      ]\r\n    },\r\n\r\n    /**\r\n     * Set tag search.\r\n     * @param {String} value\r\n     */\r\n    onTypeTyping(value) {\r\n      this.observationTypeSearch = value\r\n    },\r\n\r\n    /**\r\n     * Handle removing tags with backspace.\r\n     */\r\n    onTypeBackspace() {\r\n      if (this.shouldClearType) {\r\n        this.form.observation_types_ids.splice(-1, 1)\r\n        this.shouldClearType = false\r\n      } else if (!this.observationTypeSearch) {\r\n        this.shouldClearType = true\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Add observation type to selections.\r\n     *\r\n     * @param  {Object} type\r\n     */\r\n    pushSelectedObservationType(type) {\r\n      const selectedObservationTypes = this.selectedObservationTypes\r\n\r\n      selectedObservationTypes.push(type)\r\n\r\n      this.selectedObservationTypes = selectedObservationTypes\r\n    },\r\n\r\n    /**\r\n     * Ask the user to use EXIF data to populate the fields.\r\n     *\r\n     * @param  {Object} image\r\n     */\r\n    promptToExtractExifData(image) {\r\n      if (this.exifExtracted || !image.exif) return\r\n\r\n      this.$buefy.dialog.confirm({\r\n        message: this.extractExifMessage(image).replace(/\\n/g, '<br>'),\r\n        cancelText: this.trans('No'),\r\n        confirmText: this.trans('Yes'),\r\n        onConfirm: () => { this.fillFromExif(image) },\r\n        onCancel: () => { this.exifExtracted = true }\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Format message to use EXIF data from image.\r\n     */\r\n    extractExifMessage(image) {\r\n      const data = this.extractExifData(image)\r\n\r\n      return [\r\n        this.trans('Use data from photo to fill the form?') + \"\\n\",\r\n        ...Object.keys(data).map(key => `${this.trans('labels.field_observations.'+key)}: ${data[key]}`)\r\n      ].join(\"\\n\")\r\n    },\r\n\r\n    /**\r\n     * Extract EXIF data from image.\r\n     */\r\n    extractExifData(image) {\r\n      const data = {}\r\n\r\n      for (let exif in image.exif) {\r\n        let value = image.exif[exif]\r\n\r\n        if (value) {\r\n         data[exif] = value\r\n        }\r\n      }\r\n\r\n      return data\r\n    },\r\n\r\n    /**\r\n     * Fill the fields with EXIF data.\r\n     *\r\n     * @param  {Object} image\r\n     */\r\n    fillFromExif(image) {\r\n      const data = this.extractExifData(image)\r\n\r\n      for (const exif in data) {\r\n        this.form[exif] = data[exif]\r\n      }\r\n\r\n      this.exifExtracted = true\r\n    },\r\n\r\n    /**\r\n     * Select observer.\r\n     */\r\n    onObserverSelect(user) {\r\n      this.form.observed_by = user || null\r\n      this.form.observed_by_id = user ? user.id : null\r\n      this.form.observer = user ? user.full_name : null\r\n    },\r\n\r\n    /**\r\n     * Select identifier.\r\n     */\r\n    onIdentifierSelect(user) {\r\n      this.form.identified_by = user || null\r\n      this.form.identified_by_id = user ? user.id : null\r\n      this.form.identifier = user ? user.full_name : null\r\n    },\r\n\r\n    /**\r\n     * Set default observation type.\r\n     */\r\n    setDefaultObservationType() {\r\n      if (!this.selectedObservationTypes.length) {\r\n        this.pushSelectedObservationType(\r\n          _find(this.availableObservationTypes, { slug: 'observed' })\r\n        )\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Update identifier based on identification change.\r\n     */\r\n    updateIdentifier() {\r\n      let identifier = this.observation.identified_by\r\n\r\n      if (this.identificationChanged) {\r\n        identifier = this.isIdentified ? window.App.User : null\r\n      }\r\n\r\n      this.onIdentifierSelect(identifier)\r\n    },\r\n\r\n    /**\r\n     * Change photo license.\r\n     *\r\n     * @param {Number} photoIndex\r\n     * @param {Number} license\r\n     */\r\n    onLicenseChanged(photoIndex, license) {\r\n      const photo = _cloneDeep(this.form.photos[photoIndex])\r\n\r\n      photo.license = license\r\n\r\n      this.form.photos[photoIndex] = photo\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldObservationForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FieldObservationForm.vue?vue&type=template&id=c072b052\"\nimport script from \"./FieldObservationForm.vue?vue&type=script&lang=js\"\nexport * from \"./FieldObservationForm.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var baseIndexOf = require('./_baseIndexOf'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    toInteger = require('./toInteger'),\n    values = require('./values');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nmodule.exports = includes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n"],"names":["MapCache","memoize","func","resolver","TypeError","memoized","args","arguments","key","apply","this","cache","has","get","result","set","Cache","module","exports","root","Date","now","loadImage","global","fetch","Request","Response","prototype","blob","fetchBlob","url","callback","options","responseHandler","response","Promise","then","err","XMLHttpRequest","responseType","executor","resolve","reject","req","open","method","headers","Object","keys","forEach","setRequestHeader","withCredentials","credentials","onload","onerror","onabort","ontimeout","send","body","baseUnset","isIndex","splice","Array","array","indexes","length","lastIndex","index","previous","call","IptcMapProto","IptcMap","tags","stringValues","a","b","p","L","P","S","getText","id","value","tagCode","map","stringValue","String","getAll","prop","name","hasOwnProperty","getName","Number","arrayMap","object","props","baseProperty","basePropertyDeep","isKey","toKey","path","baseHasIn","hasPath","items","type","data","newValue","active","computed","openImage","watch","$emit","handler","Boolean","created","document","addEventListener","registerKeyListener","mounted","beforeDestroy","removeEventListener","methods","next","prev","e","which","keyCode","onClose","_this","$nextTick","_vm","_c","_self","attrs","on","$event","staticClass","_v","_e","isArrayLikeObject","isObject","isStrictComparable","defineProperty","_createClass","defineProperties","target","i","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","Errors","errors","undefined","instance","_classCallCheck","record","field","hasError","filter","startsWith","assign","label","year","dayjs","month","day","date","placeholders","months","isThisYear","days","isThisMonth","daysInMonth","_range","onMonthInput","truncateDay","onDayInput","onYearInput","first","domProps","_l","concat","_s","placeholder","taxon","route","error","message","except","autofocus","disabled","selected","loading","page","isLastPage","haveThumbnail","thumbnail_url","icon","fetchData","_debounce","params","limit","axios","_ref","item","push","meta","last_page","onSelect","onInput","currentValue","getValue","focusOnInput","$el","querySelector","focus","option","_typeof","_get","enterPressed","$refs","autocomplete","isActive","loadMore","ref","class","nativeOn","indexOf","_k","scopedSlots","_u","fn","native_name","guardAgainstReservedFieldName","fieldName","reservedFieldNames","Error","accuracy","elevation","latitude","longitude","location","hasOtherErrors","emptyAccuracy","calculateEmptyAccuracy","window","App","gmaps","center","zoom","showDetails","elevationService","position","coordinatesSet","lat","lng","isNaN","mapHasErrors","newAccuracy","centerCoordinates","getElevation","setCurrentLocationAsMapCenter","castNumber","onLocationInput","event","updateLocation","onLongitudeInput","updateLongitude","onLatitudeInput","updateLatitude","onAccuracyInput","updateAccuracy","onElevationInput","updateElevation","setMarker","latLng","toFixed","updateRadius","radius","parseInt","google","maps","ElevationService","getElevationForLocations","locations","results","status","ElevationStatus","OK","onZoomChanged","Math","pow","_this2","navigator","geolocation","getCurrentPosition","coords","trans","staticStyle","streetViewControl","strokeWeight","directives","rawName","expression","_t","toFinite","remainder","isArray","stringToPath","toString","Stack","baseIsEqual","source","matchData","customizer","noCustomizer","objValue","srcValue","stack","COMPARE_PARTIAL_FLAG","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","replace","match","number","quote","subString","originalTransform","transform","blobSlice","Blob","slice","webkitSlice","mozSlice","bufferSlice","ArrayBuffer","begin","end","byteLength","arr1","Uint8Array","arr2","buffer","metaDataParsers","jpeg","parseMetaData","file","that","DataView","size","maxMetaDataSize","readFile","dataView","getUint16","markerBytes","markerLength","parsers","offset","maxOffset","headLength","console","log","disableMetaDataParsers","disableImageHead","imageHead","replaceJPEGHead","oldHead","newHead","replaceHead","head","img","requiresMetaData","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","element","currTime","getTime","timeToCall","max","setTimeout","clearTimeout","CustomEvent","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","Event","MouseEvent","eventType","mouseEvent","initMouseEvent","classCallCheck","createClass","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","slicedToArray","sliceIterator","arr","_arr","_n","_d","_i","Symbol","iterator","done","Handle","constraints","cursor","eventBus","onMouseDown","stopPropagation","onMouseUp","onMouseMove","dispatchEvent","handle","mouseX","clientX","mouseY","clientY","el","createElement","className","style","Box","x1","y1","x2","y2","abs","newWidth","newHeight","origin","fromX","width","fromY","height","factor","resize","y","point","ratio","grow","boundaryWidth","boundaryHeight","_getAbsolutePoint","getAbsolutePoint","_getAbsolutePoint2","originX","originY","maxIfLeft","maxIfTop","maxIfRight","maxIfBottom","directionX","directionY","maxWidth","maxHeight","min","scale","_factor","minWidth","minHeight","_newWidth","_newHeight","_newWidth2","_newHeight2","_newWidth3","_newHeight3","enableTouch","simulateMouseEvent","preventDefault","touch","changedTouches","eventMap","view","screenX","screenY","HANDLES","CropprCore","deferred","parseOptions","nodeName","getAttribute","_initialized","_restore","parentNode","initialize","createDOM","convertToPixels","cropperEl","attachHandlerEvents","attachRegionEvents","attachOverlayEvents","box","initializeBox","redraw","onInitialize","targetEl","containerEl","imageEl","setAttribute","imageClippedEl","cloneNode","regionEl","overlayEl","handleContainerEl","handles","appendChild","parentElement","replaceChild","src","opts","startSize","constrainToRatio","aspectRatio","minSize","maxSize","constrainToSize","parentWidth","offsetWidth","parentHeight","offsetHeight","constrainToBoundary","move","_this3","round","clip","xSign","ySign","foregroundHandleIndex","handleWidth","handleHeight","left","top","zIndex","onHandleMoveStart","bind","onHandleMoveMoving","onHandleMoveEnd","onRegionMoveStart","onRegionMoveMoving","onRegionMoveEnd","SOUTHEAST_HANDLE_IDX","tmpBox","container","getBoundingClientRect","originPoint","_box$getAbsolutePoint","_box$getAbsolutePoint2","activeHandle","onCropStart","_e$detail","TOP_MOVABLE","RIGHT_MOVABLE","BOTTOM_MOVABLE","LEFT_MOVABLE","MULTI_AXIS","isFlippedX","isFlippedY","tmp","_tmp","isVerticalMovement","ratioMode","onCropMove","onCropEnd","_e$detail2","currentMove","offsetX","offsetY","_e$detail3","_currentMove","mode","returnMode","actualWidth","naturalWidth","actualHeight","naturalHeight","_imageEl$getBoundingC","factorX","factorY","_imageEl$getBoundingC2","_elementWidth","_elementHeight","defaults$$1","unit","onUpdate","warn","s","toLowerCase","sizeKeys","defaultValue","v","d","decimals","Croppr$1","_CropprCore","Croppr","_deferred","factory","baseIteratee","isArrayLike","findIndexFunc","collection","predicate","fromIndex","iterable","iteratee","ExifMapProto","ExifMap","ifd1","ExposureProgram","MeteringMode","LightSource","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","ComponentsConfiguration","Orientation","fromCharCode","obj","ifds","ifd","subTags","clear","copyObject","getSymbols","fromRight","createCanvas","offscreen","OffscreenCanvas","canvas","transformCoordinates","getTransformedOptions","newOptions","crop","drawImage","sourceX","sourceY","sourceWidth","sourceHeight","destWidth","destHeight","ctx","getContext","imageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingQuality","requiresCanvas","pixelRatio","downsamplingRatio","useCanvas","HTMLCanvasElement","scaleUp","scaleDown","right","bottom","contain","cover","floor","parseFloat","orientationCropBug","setTransform","arrayPush","isFlattenable","baseFlatten","depth","isStrict","assignValue","castPath","nested","reFlags","regexp","exec","baseGetAllKeys","getSymbolsIn","keysIn","baseIsMatch","getMatchData","matchesStrictComparable","symbolProto","symbolValueOf","valueOf","symbol","basePullAt","basePick","pick","flatRest","paths","$","urlAPI","URL","webkitURL","createObjectURL","revokeObjectURL","revokeHelper","noRevoke","FileReader","reader","readerMethod","isInstanceOf","resolveWrapper","image","fetchBlobCallback","crossOrigin","originalWidth","originalHeight","baseFindIndex","toInteger","nativeMax","getExifThumbnail","Thumbnail","Exif","GPSInfo","Interoperability","ExifTagTypes","dataOffset","getUint8","ascii","littleEndian","getUint32","getInt32","getExifValue","tiffOffset","tagSize","values","str","c","tagType","shouldIncludeTag","includeTags","excludeTags","parseExifTags","dirOffset","tagOffsets","tagsNumber","dirEndOffset","tagOffset","tagNumber","tagValue","parseExifIFD","exif","exifOffsets","parseExifData","disableExif","thumbnailIFD","includeExifTags","excludeExifTags","disableExifOffsets","exifTiffOffset","exifLittleEndian","exifWriters","orientationOffset","setUint16","writeExifData","baseGetTag","isObjectLike","start","_objects","_formData","_fieldNameValidation","baseIntersection","baseRest","castArrayLikeObject","intersection","arrays","mapped","baseIndexOf","baseMatches","baseMatchesProperty","identity","isFile","File","FileList","cloneDeep","clone","_clone","_key","merge","baseValues","isArguments","spreadableSymbol","isConcatSpreadable","_Form","_interopRequireDefault","default","_Errors","__esModule","basePickBy","hasIn","getTag","baseIsNaN","strictIndexOf","cloneArrayBuffer","isDeep","byteOffset","input","getRelativePoint","_BaseCroppr","_callSuper","_inherits","BaseCroppr","mixins","bModal","canCancel","imageUrl","croppr","newCrop","preserveRatio","ctrlIsPressed","ctrlIsNotPressed","handleScroll","cropModalImage","setBoxToRealPosition","savedScrollTop","documentElement","scrollTop","classList","toggle","cropImage","close","components","NzImageCropModal","animation","cancel","NzImageModal","imagePath","imageLicense","licenses","required","text","withLicense","withCrop","license","croppedImageUrl","uploading","progress","hasExisting","showCropModal","showModal","cropThumbnail","haveImage","thumbnailUrl","selectImage","click","upload","post","makeForm","Accept","onUploadProgress","progressEvent","loaded","total","getImageDataUrl","orientation","handleError","toDataURL","form","FormData","append","remove","clearPhoto","$buefy","toast","duration","openCropModal","closeCropModal","handleLicenseChanged","$set","getPrototype","stubArray","getOwnPropertySymbols","_Errors2","_util","Form","processing","successful","withData","withOptions","withErrors","reduce","carry","setInitialValues","__options","resetOnSuccess","onSuccess","onFail","windowAxios","__http","http","initial","fields","filtered","_defineProperty","submit","requestType","__validateRequestType","hasFiles","objectToFormData","catch","hasFilesDeep","reset","requestTypes","join","SetCache","arrayIncludes","arrayIncludesWith","baseUnary","cacheHas","nativeMin","comparator","includes","othLength","othIndex","caches","maxLength","Infinity","seen","outer","formData","appendToFormData","getKey","toISOString","cloneDataView","cloneRegExp","cloneSymbol","cloneTypedArray","tag","Ctor","baseGet","find","createFind","baseSet","baseIsMap","nodeUtil","nodeIsMap","isMap","isSymbol","getStringValue","outstr","n","getTagValue","types","combineTagValues","parseIptcTags","segmentOffset","segmentLength","segmentEnd","getInt16","iptc","iptcOffsets","isSegmentStart","getHeaderLength","ObjectName","parseIptcData","disableIptc","headerLength","disableIptcOffsets","includeIptcTags","excludeIptcTags","action","redirectUrl","cancelUrl","submitMore","shouldConfirmSubmit","confirmSubmitMessage","shouldAskReason","shouldConfirmCancel","submitOnlyDirty","submitOnlyDirtyMessage","newForm","keepAfterSubmit","submittingWithRedirect","submittingWithoutRedirect","confirmingSubmit","confirmingCancel","locale","enter","ctrlKey","shiftKey","submitWithoutRedirect","submitWithRedirect","confirmSubmit","onConfirm","confirmText","cancelText","onCancel","promptForReason","dialog","confirm","prompt","_objectSpread","inputAttrs","maxlength","setCustomValidity","validity","valid","validationMessage","notifyNoChanges","notifyNoChangesAndRedirect","href","isDirty","performSubmitWithRedirect","reason","onSuccessfulSubmitWithRedirect","onFailedSubmit","_this4","hookAfterSubmitWithRedirect","performSubmitWithoutRedirect","onSuccessfulSubmitWithoutRedirect","keep","_pick","populate","hookAfterSubmitWithoutRedirect","_isEqual","confirmCancel","_this5","baseClone","CLONE_DEEP_FLAG","user","full_name","email","toNumber","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","flush","baseIsSet","nodeIsSet","isSet","reIsDeepProp","reIsPlainProp","test","flatten","overRest","setToString","baseSlice","originalRequiresCanvas","originalRequiresMetaData","originalTransformCoordinates","originalGetTransformedOptions","requiresCanvasOrientation","withMetaData","requiresOrientationChange","autoOrientation","requiresRot180","testImageURL","getImageData","exifOrientation","tmpTop","tmpRight","translate","rotate","PI","isLength","hasFunc","User","attribute","roles","_intersection","role","currentUser","isCuratorOrAdmin","hasRole","FormMixin","UserMixin","NzDateInput","NzPhotoUpload","NzSpatialInput","NzTaxonAutocomplete","NzUserAutocomplete","observation","taxon_id","taxon_suggestion","photos","observer","identifier","note","sex","project","habitat","found_on","stage_id","found_dead","found_dead_note","data_license","image_license","observed_by_id","observed_by","identified_by_id","identified_by","dataset","atlas_code","dataLicenses","imageLicenses","sexes","observationTypes","showObserverIdentifier","atlasCodes","defaultStage","getAttributesToKeep","showMoreDetails","observationTypeSearch","shouldClearType","exifExtracted","lastStageId","stages","toDate","selectedObservationTypes","_includes","observation_types_ids","availableObservationTypes","isIdentified","identificationChanged","usesAtlasCodes","uses_atlas_codes","setDefaultObservationType","photo","clearPhotos","taxonAutocomplete","onTaxonSelect","invalidStage","_find","stage","updateIdentifier","onTimeInput","format","onPhotoUploaded","availableType","slug","pushSelectedObservationType","promptToExtractExifData","onPhotoRemoved","_remove","selectedTypeIndex","_findIndex","onPhotoCropped","croppedImage","photoIndex","_cloneDeep","getObservationPhotoAttribute","updated","isValid","unix","onTypeTyping","onTypeBackspace","extractExifMessage","fillFromExif","_this6","extractExifData","_toConsumableArray","onObserverSelect","onIdentifierSelect","onLicenseChanged","model","$$v","atlasCode","code","slot","content","isString","guard","last","arrayEach","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","initCloneArray","initCloneByTag","initCloneObject","isBuffer","argsTag","funcTag","objectTag","cloneableTags","bitmask","isFlat","isFull","isArr","isFunc","stacked","subValue","add"],"sourceRoot":""}