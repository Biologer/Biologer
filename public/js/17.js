(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"44Ds":function(t,e,n){var a=n("e4Nc"),r="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var a=arguments,r=e?e.apply(this,a):a[0],i=n.cache;if(i.has(r))return i.get(r);var o=t.apply(this,a);return n.cache=i.set(r,o)||i,o};return n.cache=new(i.Cache||a),n}i.Cache=a,t.exports=i},"4uTw":function(t,e,n){var a=n("Z0cm"),r=n("9ggG"),i=n("GNiM"),o=n("dt0z");t.exports=function(t,e){return a(t)?t:r(t,e)?[t]:i(o(t))}},"9Nap":function(t,e,n){var a=n("/9aa"),r=1/0;t.exports=function(t){if("string"==typeof t||a(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}},"9ggG":function(t,e,n){var a=n("Z0cm"),r=n("/9aa"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(a(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||(o.test(t)||!i.test(t)||null!=e&&t in Object(e))}},D4nI:function(t,e,n){"use strict";n.r(e);var a=n("sEfC"),r=n.n(a),i=n("9KKN"),o=n("luGL"),s={name:"nzUsersTable",mixins:[i.a],components:{NzTable:o.a},props:{perPageOptions:{type:Array,default:function(){return[15,30,50,100]},validator:function(t){return t.length}},listRoute:String,editRoute:String,deleteRoute:String,empty:{type:String,default:"Nothing here."},ranks:Array},data:function(){return{data:[],total:0,loading:!1,sortField:"id",sortOrder:"asc",defaultSortOrder:"asc",page:1,perPage:this.perPageOptions[0],checkedRows:[],search:""}},created:function(){this.restoreState(),this.loadAsyncData()},methods:{loadAsyncData:function(){var t=this;return this.loading=!0,axios.get(route(this.listRoute).withQuery({sort_by:"".concat(this.sortField,".").concat(this.sortOrder),page:this.page,per_page:this.perPage,search:this.search})).then((function(e){var n=e.data;t.data=[],t.total=n.meta.total,n.data.forEach((function(e){return t.data.push(e)})),t.loading=!1}),(function(e){t.data=[],t.total=0,t.loading=!1}))},onPageChange:function(t){this.page=t,this.loadAsyncData()},onSort:function(t,e){this.sortField=t,this.sortOrder=e,this.saveState(),this.loadAsyncData()},onPerPageChange:function(t){t!==this.perPage&&(this.perPage=t,this.saveState(),this.loadAsyncData())},confirmRemove:function(t){var e=this;this.$buefy.dialog.confirm({message:this.trans("Are you sure you want to delete this record?"),confirmText:this.trans("buttons.delete"),cancelText:this.trans("buttons.cancel"),type:"is-danger",onConfirm:function(){e.remove(t)}})},remove:function(t){var e=this;return axios.delete(route(this.deleteRoute,t.id)).then((function(t){e.$buefy.toast.open({message:e.trans("Record deleted"),type:"is-success"}),e.loadAsyncData()})).catch((function(t){console.error(t)}))},editLink:function(t){return route(this.editRoute,t.id)},performSearch:r()((function(t){this.search!==t&&(this.search=t,this.loadAsyncData())}),500),clearSearch:function(){this.search="",this.loadAsyncData()}}},c=n("KHd+"),u=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"users-table"},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("div",{staticClass:"level-item"},[n("b-field",[n("b-input",{attrs:{placeholder:t.trans("labels.users.search"),value:t.search,icon:"search",expanded:""},on:{input:t.performSearch}}),t._v(" "),t.search?n("p",{staticClass:"control"},[n("span",{staticClass:"button",on:{click:t.clearSearch}},[n("b-icon",{attrs:{icon:"close"}})],1)]):t._e()],1)],1)])]),t._v(" "),n("hr"),t._v(" "),n("nz-table",{attrs:{data:t.data,loading:t.loading,paginated:"","backend-pagination":"",total:t.total,"per-page":t.perPage,"per-page-options":t.perPageOptions,"pagination-on-top":"","backend-sorting":"","default-sort-direction":t.defaultSortOrder,"default-sort":[t.sortField,t.sortOrder],"mobile-cards":!0},on:{"page-change":t.onPageChange,"per-page-change":t.onPerPageChange,sort:t.onSort},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-table-column",{attrs:{field:"id",label:t.trans("labels.id"),width:"40",numeric:"",sortable:""}},[t._v("\n        "+t._s(e.row.id)+"\n      ")]),t._v(" "),n("b-table-column",{attrs:{field:"first_name",label:t.trans("labels.users.first_name"),sortable:""}},[t._v("\n        "+t._s(e.row.first_name)+"\n      ")]),t._v(" "),n("b-table-column",{attrs:{field:"last_name",label:t.trans("labels.users.last_name"),sortable:""}},[t._v("\n        "+t._s(e.row.last_name)+"\n      ")]),t._v(" "),n("b-table-column",{attrs:{field:"email",label:t.trans("labels.users.email"),sortable:""}},[t._v("\n        "+t._s(e.row.email)+"\n      ")]),t._v(" "),n("b-table-column",{attrs:{field:"institution",label:t.trans("labels.users.institution"),sortable:""}},[t._v("\n        "+t._s(e.row.institution)+"\n      ")]),t._v(" "),n("b-table-column",{attrs:{width:"150",numeric:""}},[n("a",{attrs:{href:t.editLink(e.row)}},[n("b-icon",{attrs:{icon:"edit"}})],1),t._v(" "),n("a",{on:{click:function(n){return t.confirmRemove(e.row)}}},[n("b-icon",{attrs:{icon:"trash"}})],1)])]}}])},[t._v(" "),n("template",{slot:"empty"},[n("section",{staticClass:"section"},[n("div",{staticClass:"content has-text-grey has-text-centered"},[n("p",[t._v(t._s(t.empty))])])])])],2)],1)}),[],!1,null,null,null);e.default=u.exports},GNiM:function(t,e,n){var a=n("I01J"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=a((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,a,r){e.push(a?r.replace(i,"$1"):n||t)})),e}));t.exports=o},I01J:function(t,e,n){var a=n("44Ds"),r=500;t.exports=function(t){var e=a(t,(function(t){return n.size===r&&n.clear(),t})),n=e.cache;return e}},QIyF:function(t,e,n){var a=n("Kz5y");t.exports=function(){return a.Date.now()}},ZWtO:function(t,e,n){var a=n("4uTw"),r=n("9Nap");t.exports=function(t,e){for(var n=0,i=(e=a(e,t)).length;null!=t&&n<i;)t=t[r(e[n++])];return n&&n==i?t:void 0}},sEfC:function(t,e,n){var a=n("GoyQ"),r=n("QIyF"),i=n("tLB3"),o="Expected a function",s=Math.max,c=Math.min;t.exports=function(t,e,n){var u,l,d,f,h,p,v=0,g=!1,m=!1,b=!0;if("function"!=typeof t)throw new TypeError(o);function y(e){var n=u,a=l;return u=l=void 0,v=e,f=t.apply(a,n)}function _(t){var n=t-p;return void 0===p||n>=e||n<0||m&&t-v>=d}function w(){var t=r();if(_(t))return x(t);h=setTimeout(w,function(t){var n=e-(t-p);return m?c(n,d-(t-v)):n}(t))}function x(t){return h=void 0,b&&u?y(t):(u=l=void 0,f)}function C(){var t=r(),n=_(t);if(u=arguments,l=this,p=t,n){if(void 0===h)return function(t){return v=t,h=setTimeout(w,e),g?y(t):f}(p);if(m)return clearTimeout(h),h=setTimeout(w,e),y(p)}return void 0===h&&(h=setTimeout(w,e)),f}return e=i(e)||0,a(n)&&(g=!!n.leading,d=(m="maxWait"in n)?s(i(n.maxWait)||0,e):d,b="trailing"in n?!!n.trailing:b),C.cancel=function(){void 0!==h&&clearTimeout(h),v=0,u=p=l=h=void 0},C.flush=function(){return void 0===h?f:x(r())},C}}}]);
//# sourceMappingURL=17.js.map?id=39bb8fa6abd126e23fe0