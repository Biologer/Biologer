{"version":3,"sources":["webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./node_modules/lodash/pick.js","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue?de1a","webpack:///resources/js/components/forms/LiteratureObservationForm.vue","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue?eaad","webpack:///./resources/js/components/forms/LiteratureObservationForm.vue","webpack:///./node_modules/lodash/now.js","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue?6fa7","webpack:///resources/js/components/inputs/PublicationAutocomplete.vue","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue?9c07","webpack:///./resources/js/components/inputs/PublicationAutocomplete.vue","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/_flatRest.js"],"names":["Symbol","isArguments","isArray","spreadableSymbol","isConcatSpreadable","undefined","module","exports","value","assignValue","castPath","isIndex","isObject","toKey","object","path","customizer","index","length","lastIndex","nested","key","newValue","objValue","basePickBy","hasIn","paths","basePick","pick","flatRest","name","mixins","PersistentForm","components","NzDateInput","NzSpatialInput","NzPublicationAutocomplete","NzTaxonAutocomplete","props","submitMoreWithSameTaxon","Boolean","observation","type","Object","original_date","original_locality","original_elevation","original_coordinates","original_identification","original_identification_validity","other_original_data","collecting_start_year","collecting_start_month","collecting_end_year","collecting_end_month","place_where_referenced_in_publication","publication_id","taxon_id","year","month","day","is_original_data","cited_publication_id","latitude","longitude","location","accuracy","elevation","minimum_elevation","maximum_elevation","georeferenced_by","georeferenced_date","observer","identifier","note","sex","number","project","found_on","habitat","stage_id","time","dataset","taxon","publication","cited_publication","sexes","default","validityOptions","Array","data","keepAfterSubmit","this","getAttributesToKeep","submittingWithoutRedirectWithSameTaxon","locale","window","App","taxonName","publicationCitation","citedPublication","computed","stages","form","georeferencedDate","get","val","isValid","toDate","set","created","restoreState","methods","otherPersistentKeys","newForm","reason","resetOnSuccess","onTaxonSelect","id","onPublicationSelect","citation","onCitedPublicationSelect","onTimeInput","hookAfterSubmitWithoutRedirect","handleIsOriginalDataInput","addNewPublication","saveState","href","route","dateFormater","handleElevationFetched","submitWithoutRedirectWithSameTaxon","processing","submitOnlyDirty","shouldConfirmSubmit","confirmSubmit","performSubmitWithoutRedirectWithSameTaxon","confirmingSubmit","shouldAskReason","method","toLowerCase","action","onSuccessfulSubmitWithoutRedirectWithSameTaxon","$buefy","toast","open","message","trans","reset","populate","keep","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","ref","errors","has","first","on","model","callback","$$v","expression","$ziggy","$event","preventDefault","_v","domProps","_s","directives","rawName","$set","_l","label","_n","Date","stage","slot","content","class","_e","submittingWithRedirect","submitWithRedirect","submittingWithoutRedirect","submitWithoutRedirect","cancelUrl","onCancel","root","now","String","placeholder","error","except","autofocus","disabled","selected","loading","icon","watch","fetchData","params","forEach","onSelect","user","$emit","onInput","currentValue","focusOnInput","$el","querySelector","focus","getValue","option","scopedSlots","_u","fn","_t","baseFlatten","array","arrayPush","isFlattenable","depth","predicate","isStrict","result","baseIsEqual","other","baseGet","baseSet","toNumber","nativeMax","Math","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","args","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","clearTimeout","cancel","flush","flatten","overRest","setToString"],"mappings":"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","file":"js/19.js?id=002b4d18fcfca7c998fe","sourcesContent":["var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"literature-observation-form\",attrs:{\"action\":_vm.action,\"method\":\"POST\",\"lang\":_vm.locale}},[_c('div',{staticClass:\"mb-8\"},[_c('nz-publication-autocomplete',{ref:\"publicationAutocomplete\",staticClass:\"is-required\",attrs:{\"publication\":_vm.form.publication,\"error\":_vm.form.errors.has('publication_id'),\"message\":_vm.form.errors.has('publication_id') ? _vm.form.errors.first('publication_id') : null,\"autofocus\":\"autofocus\",\"label\":_vm.trans('labels.literature_observations.publication'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_publication')},on:{\"select\":_vm.onPublicationSelect},model:{value:(_vm.publicationCitation),callback:function ($$v) {_vm.publicationCitation=$$v},expression:\"publicationCitation\"}},[_c('a',{staticClass:\"button\",attrs:{\"title\":_vm.trans('labels.literature_observations.add_new_publication'),\"href\":_vm.$ziggy('admin.publications.create')},on:{\"click\":function($event){$event.preventDefault();return _vm.addNewPublication($event)}}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)]),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.is_original_data'),\"error\":_vm.form.errors.has('is_original_data'),\"message\":_vm.form.errors.has('is_original_data') ? _vm.form.errors.first('is_original_data') : null}},[_c('b-select',{attrs:{\"value\":_vm.form.is_original_data,\"expanded\":\"\"},on:{\"input\":_vm.handleIsOriginalDataInput}},[_c('option',{domProps:{\"value\":true}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.original_data')))]),_vm._v(\" \"),_c('option',{domProps:{\"value\":false}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.citation')))])])],1),_vm._v(\" \"),_c('nz-publication-autocomplete',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.form.is_original_data),expression:\"!form.is_original_data\"}],staticClass:\"is-required\",attrs:{\"publication\":_vm.form.cited_publication,\"error\":_vm.form.errors.has('cited_publication_id'),\"message\":_vm.form.errors.has('cited_publication_id') ? _vm.form.errors.first('cited_publication_id') : null,\"label\":_vm.trans('labels.literature_observations.cited_publication'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_publication')},on:{\"select\":_vm.onCitedPublicationSelect},model:{value:(_vm.citedPublication),callback:function ($$v) {_vm.citedPublication=$$v},expression:\"citedPublication\"}},[_c('a',{staticClass:\"button\",attrs:{\"title\":_vm.trans('labels.literature_observations.add_new_publication'),\"href\":_vm.$ziggy('admin.publications.create')},on:{\"click\":function($event){$event.preventDefault();return _vm.addNewPublication($event)}}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)]),_vm._v(\" \"),_c('nz-taxon-autocomplete',{ref:\"taxonAutocomplete\",staticClass:\"is-required\",attrs:{\"taxon\":_vm.form.taxon,\"error\":_vm.form.errors.has('taxon_id'),\"message\":_vm.form.errors.has('taxon_id') ? _vm.form.errors.first('taxon_id') : null,\"autofocus\":\"autofocus\",\"label\":_vm.trans('labels.literature_observations.taxon'),\"placeholder\":_vm.trans('labels.literature_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.taxonName),callback:function ($$v) {_vm.taxonName=$$v},expression:\"taxonName\"}}),_vm._v(\" \"),_c('nz-date-input',{attrs:{\"year\":_vm.form.year,\"month\":_vm.form.month,\"day\":_vm.form.day,\"errors\":_vm.form.errors,\"label\":_vm.trans('labels.literature_observations.date'),\"placeholders\":{\n          year: _vm.trans('labels.literature_observations.year'),\n          month: _vm.trans('labels.literature_observations.month'),\n          day: _vm.trans('labels.literature_observations.day')\n      }},on:{\"update:year\":function($event){return _vm.$set(_vm.form, \"year\", $event)},\"update:month\":function($event){return _vm.$set(_vm.form, \"month\", $event)},\"update:day\":function($event){return _vm.$set(_vm.form, \"day\", $event)}}}),_vm._v(\" \"),_c('div',[_c('h2',{staticClass:\"is-size-4\"},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.verbatim_data')))]),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_identification'),\"type\":_vm.form.errors.has('original_identification') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_identification') ? _vm.form.errors.first('original_identification') : null}},[_c('b-input',{attrs:{\"name\":\"original_identification\"},model:{value:(_vm.form.original_identification),callback:function ($$v) {_vm.$set(_vm.form, \"original_identification\", $$v)},expression:\"form.original_identification\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_identification_validity'),\"type\":_vm.form.errors.has('original_identification_validity') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_identification_validity') ? _vm.form.errors.first('original_identification_validity') : null}},[_c('b-select',{attrs:{\"name\":\"original_identification_validity\",\"expanded\":\"\"},model:{value:(_vm.form.original_identification_validity),callback:function ($$v) {_vm.$set(_vm.form, \"original_identification_validity\", $$v)},expression:\"form.original_identification_validity\"}},_vm._l((_vm.validityOptions),function(label,value){return _c('option',{key:value,domProps:{\"value\":value}},[_vm._v(_vm._s(label))])}),0)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_date'),\"type\":_vm.form.errors.has('original_date') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_date') ? _vm.form.errors.first('original_date') : null}},[_c('b-input',{attrs:{\"name\":\"original_date\"},model:{value:(_vm.form.original_date),callback:function ($$v) {_vm.$set(_vm.form, \"original_date\", $$v)},expression:\"form.original_date\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_locality'),\"type\":_vm.form.errors.has('original_locality') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_locality') ? _vm.form.errors.first('original_locality') : null}},[_c('b-input',{model:{value:(_vm.form.original_locality),callback:function ($$v) {_vm.$set(_vm.form, \"original_locality\", $$v)},expression:\"form.original_locality\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_coordinates'),\"type\":_vm.form.errors.has('original_coordinates') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_coordinates') ? _vm.form.errors.first('original_coordinates') : null}},[_c('b-input',{model:{value:(_vm.form.original_coordinates),callback:function ($$v) {_vm.$set(_vm.form, \"original_coordinates\", $$v)},expression:\"form.original_coordinates\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.original_elevation'),\"type\":_vm.form.errors.has('original_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('original_elevation') ? _vm.form.errors.first('original_elevation') : null}},[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.literature_observations.original_elevation_placeholder')},model:{value:(_vm.form.original_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"original_elevation\", $$v)},expression:\"form.original_elevation\"}})],1)],1),_vm._v(\" \"),_c('b-field',{staticClass:\"mb-8\",attrs:{\"label\":_vm.trans('labels.literature_observations.other_original_data'),\"type\":_vm.form.errors.has('other_original_data') ? 'is-danger' : null,\"message\":_vm.form.errors.has('other_original_data') ? _vm.form.errors.first('other_original_data') : null}},[_c('b-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.other_original_data),callback:function ($$v) {_vm.$set(_vm.form, \"other_original_data\", $$v)},expression:\"form.other_original_data\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.collecting_start_year'),\"type\":_vm.form.errors.has('collecting_start_year') ? 'is-danger' : null,\"message\":_vm.form.errors.has('collecting_start_year') ? _vm.form.errors.first('collecting_start_year') : null}},[_c('b-input',{model:{value:(_vm.form.collecting_start_year),callback:function ($$v) {_vm.$set(_vm.form, \"collecting_start_year\", $$v)},expression:\"form.collecting_start_year\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.collecting_start_month'),\"type\":_vm.form.errors.has('collecting_start_month') ? 'is-danger' : null,\"message\":_vm.form.errors.has('collecting_start_month') ? _vm.form.errors.first('collecting_start_month') : null}},[_c('b-input',{model:{value:(_vm.form.collecting_start_month),callback:function ($$v) {_vm.$set(_vm.form, \"collecting_start_month\", $$v)},expression:\"form.collecting_start_month\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.collecting_end_year'),\"type\":_vm.form.errors.has('collecting_end_year') ? 'is-danger' : null,\"message\":_vm.form.errors.has('collecting_end_year') ? _vm.form.errors.first('collecting_end_year') : null}},[_c('b-input',{model:{value:(_vm.form.collecting_end_year),callback:function ($$v) {_vm.$set(_vm.form, \"collecting_end_year\", $$v)},expression:\"form.collecting_end_year\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column\",attrs:{\"label\":_vm.trans('labels.literature_observations.collecting_end_month'),\"type\":_vm.form.errors.has('collecting_end_month') ? 'is-danger' : null,\"message\":_vm.form.errors.has('collecting_end_month') ? _vm.form.errors.first('collecting_end_month') : null}},[_c('b-input',{model:{value:(_vm.form.collecting_end_month),callback:function ($$v) {_vm.$set(_vm.form, \"collecting_end_month\", $$v)},expression:\"form.collecting_end_month\"}})],1)],1)],1),_vm._v(\" \"),_c('nz-spatial-input',{staticClass:\"mb-4\",attrs:{\"latitude\":_vm.form.latitude,\"longitude\":_vm.form.longitude,\"location\":_vm.form.location,\"accuracy\":_vm.form.accuracy,\"elevation\":_vm.form.elevation,\"errors\":_vm.form.errors,\"has-other-errors\":_vm.form.errors.has('minimum_elevation') || _vm.form.errors.has('maximum_elevation')},on:{\"update:latitude\":function($event){return _vm.$set(_vm.form, \"latitude\", $event)},\"update:longitude\":function($event){return _vm.$set(_vm.form, \"longitude\", $event)},\"update:location\":function($event){return _vm.$set(_vm.form, \"location\", $event)},\"update:accuracy\":function($event){return _vm.$set(_vm.form, \"accuracy\", $event)},\"update:elevation\":function($event){return _vm.$set(_vm.form, \"elevation\", $event)},\"elevation-fetched\":_vm.handleElevationFetched}},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.minimum_elevation_m'),\"type\":_vm.form.errors.has('minimum_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('minimum_elevation') ? _vm.form.errors.first('minimum_elevation') : null,\"custom-class\":\"is-small\"}},[_c('b-input',{attrs:{\"type\":\"number\",\"size\":\"is-small\"},model:{value:(_vm.form.minimum_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"minimum_elevation\", _vm._n($$v))},expression:\"form.minimum_elevation\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.maximum_elevation_m'),\"type\":_vm.form.errors.has('maximum_elevation') ? 'is-danger' : null,\"message\":_vm.form.errors.has('maximum_elevation') ? _vm.form.errors.first('maximum_elevation') : null,\"custom-class\":\"is-small\"}},[_c('b-input',{attrs:{\"type\":\"number\",\"size\":\"is-small\"},model:{value:(_vm.form.maximum_elevation),callback:function ($$v) {_vm.$set(_vm.form, \"maximum_elevation\", _vm._n($$v))},expression:\"form.maximum_elevation\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.georeferenced_by'),\"type\":_vm.form.errors.has('georeferenced_by') ? 'is-danger' : null,\"message\":_vm.form.errors.has('georeferenced_by') ? _vm.form.errors.first('georeferenced_by') : null}},[_c('b-input',{model:{value:(_vm.form.georeferenced_by),callback:function ($$v) {_vm.$set(_vm.form, \"georeferenced_by\", _vm._n($$v))},expression:\"form.georeferenced_by\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.georeferenced_date'),\"type\":_vm.form.errors.has('georeferenced_date') ? 'is-danger' : null,\"message\":_vm.form.errors.has('georeferenced_date') ? _vm.form.errors.first('georeferenced_date') : null}},[_c('b-datepicker',{attrs:{\"max-date\":new Date(),\"mobile-native\":false,\"date-formatter\":_vm.dateFormater,\"first-day-of-week\":1,\"placeholder\":\"DD.MM.YYYY\"},model:{value:(_vm.georeferencedDate),callback:function ($$v) {_vm.georeferencedDate=$$v},expression:\"georeferencedDate\"}},[_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.form.georeferenced_date = null}}},[_c('b-icon',{attrs:{\"icon\":\"close\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Clear\")])],1)])],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.stage'),\"type\":_vm.form.errors.has('stage_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('stage_id') ? _vm.form.errors.first('stage_id') : null}},[_c('b-select',{attrs:{\"disabled\":!_vm.stages.length,\"expanded\":\"expanded\"},model:{value:(_vm.form.stage_id),callback:function ($$v) {_vm.$set(_vm.form, \"stage_id\", $$v)},expression:\"form.stage_id\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.choose_a_stage')))]),_vm._v(\" \"),_vm._l((_vm.stages),function(stage){return _c('option',{key:stage.id,domProps:{\"value\":stage.id,\"textContent\":_vm._s(_vm.trans('stages.'+stage.name))}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.sex'),\"type\":_vm.form.errors.has('sex') ? 'is-danger' : null,\"message\":_vm.form.errors.has('sex') ? _vm.form.errors.first('sex') : null}},[_c('b-select',{attrs:{\"expanded\":\"expanded\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.literature_observations.choose_a_value')))]),_vm._v(\" \"),_vm._l((_vm.sexes),function(label,sex){return _c('option',{key:sex,domProps:{\"value\":sex,\"textContent\":_vm._s(label)}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.number'),\"type\":_vm.form.errors.has('number') ? 'is-danger' : null,\"message\":_vm.form.errors.has('number') ? _vm.form.errors.first('number') : null}},[_c('b-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mt-4\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.note'),\"error\":_vm.form.errors.has('note'),\"message\":_vm.form.errors.has('note') ? _vm.form.errors.first('note') : null}},[_c('b-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.habitat'),\"type\":_vm.form.errors.has('habitat') ? 'is-danger' : null,\"message\":_vm.form.errors.has('habitat') ? _vm.form.errors.first('habitat') : null}},[_c('b-input',{model:{value:(_vm.form.habitat),callback:function ($$v) {_vm.$set(_vm.form, \"habitat\", $$v)},expression:\"form.habitat\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.found_on'),\"type\":_vm.form.errors.has('found_on') ? 'is-danger' : null,\"message\":_vm.form.errors.has('found_on') ? _vm.form.errors.first('found_on') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"found_on\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.found_on_tooltip')}),expression:\"{content: trans('labels.literature_observations.found_on_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n            \"+_vm._s(_vm.trans('labels.literature_observations.found_on'))+\"\\n          \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"found_on\",\"name\":\"found_on\"},model:{value:(_vm.form.found_on),callback:function ($$v) {_vm.$set(_vm.form, \"found_on\", $$v)},expression:\"form.found_on\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.time'),\"type\":_vm.form.errors.has('time') ? 'is-danger' : null,\"message\":_vm.form.errors.has('time') ? _vm.form.errors.first('time') : null}},[_c('b-timepicker',{attrs:{\"value\":_vm.time,\"placeholder\":_vm.trans('labels.literature_observations.click_to_select'),\"icon\":\"clock-o\",\"mobile-native\":false},on:{\"input\":_vm.onTimeInput}},[_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.form.time = null}}},[_c('b-icon',{attrs:{\"icon\":\"close\"}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"project\"}},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.project_tooltip')}),expression:\"{content: trans('labels.literature_observations.project_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n                \"+_vm._s(_vm.trans('labels.literature_observations.project'))+\"\\n              \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"project\",\"name\":\"project\"},model:{value:(_vm.form.project),callback:function ($$v) {_vm.$set(_vm.form, \"project\", $$v)},expression:\"form.project\"}}),_vm._v(\" \"),(_vm.form.errors.has('project'))?_c('p',{staticClass:\"help\",class:{ 'is-danger': _vm.form.errors.has('project') },domProps:{\"innerHTML\":_vm._s(_vm.form.errors.first('project'))}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"dataset\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.trans('labels.literature_observations.dataset'))+\"\\n            \")]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"dataset\",\"name\":\"dataset\"},model:{value:(_vm.form.dataset),callback:function ($$v) {_vm.$set(_vm.form, \"dataset\", $$v)},expression:\"form.dataset\"}}),_vm._v(\" \"),(_vm.form.errors.has('dataset'))?_c('p',{staticClass:\"help\",class:{ 'is-danger': _vm.form.errors.has('dataset') },domProps:{\"innerHTML\":_vm._s(_vm.form.errors.first('dataset'))}}):_vm._e()],1)])]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.observer'),\"type\":_vm.form.errors.has('observer') ? 'is-danger' : null,\"message\":_vm.form.errors.has('observer') ? _vm.form.errors.first('observer') : null}},[_c('b-input',{attrs:{\"name\":\"observer\"},model:{value:(_vm.form.observer),callback:function ($$v) {_vm.$set(_vm.form, \"observer\", $$v)},expression:\"form.observer\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.identifier'),\"type\":_vm.form.errors.has('identifier') ? 'is-danger' : null,\"message\":_vm.form.errors.has('identifier') ? _vm.form.errors.first('identifier') : null}},[_c('b-input',{attrs:{\"name\":\"identifier\"},model:{value:(_vm.form.identifier),callback:function ($$v) {_vm.$set(_vm.form, \"identifier\", $$v)},expression:\"form.identifier\"}})],1)],1)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.place_where_referenced_in_publication'),\"type\":_vm.form.errors.has('place_where_referenced_in_publication') ? 'is-danger' : null,\"message\":_vm.form.errors.has('place_where_referenced_in_publication') ? _vm.form.errors.first('place_where_referenced_in_publication') : null}},[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.literature_observations.place_where_referenced_in_publication_placeholder')},model:{value:(_vm.form.place_where_referenced_in_publication),callback:function ($$v) {_vm.$set(_vm.form, \"place_where_referenced_in_publication\", $$v)},expression:\"form.place_where_referenced_in_publication\"}})],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-loading': _vm.submittingWithRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save'))+\"\\n  \")]),_vm._v(\" \"),(_vm.submitMore)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_more_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_more_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-outlined': !_vm.submittingWithoutRedirect,\n      'is-loading': _vm.submittingWithoutRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save_more'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.submitMoreWithSameTaxon)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.save_more_same_taxon_tooltip')}),expression:\"{content: trans('labels.literature_observations.save_more_same_taxon_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n      'is-outlined': !_vm.submittingWithoutRedirectWithSameTaxon,\n      'is-loading': _vm.submittingWithoutRedirectWithSameTaxon\n    },attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirectWithSameTaxon($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('labels.literature_observations.save_more_same_taxon'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"button is-text\",attrs:{\"href\":_vm.cancelUrl},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form :action=\"action\" method=\"POST\" :lang=\"locale\" class=\"literature-observation-form\">\n    <div class=\"mb-8\">\n      <nz-publication-autocomplete\n        class=\"is-required\"\n        v-model=\"publicationCitation\"\n        @select=\"onPublicationSelect\"\n        :publication=\"form.publication\"\n        :error=\"form.errors.has('publication_id')\"\n        :message=\"form.errors.has('publication_id') ? form.errors.first('publication_id') : null\"\n        autofocus=\"autofocus\"\n        ref=\"publicationAutocomplete\"\n        :label=\"trans('labels.literature_observations.publication')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_publication')\"\n      >\n        <a\n          class=\"button\"\n          :title=\"trans('labels.literature_observations.add_new_publication')\"\n          :href=\"$ziggy('admin.publications.create')\"\n          @click.prevent=\"addNewPublication\"\n        >\n          <b-icon icon=\"plus\" />\n        </a>\n      </nz-publication-autocomplete>\n\n      <b-field\n        class=\"is-required\"\n        :label=\"trans('labels.literature_observations.is_original_data')\"\n        :error=\"form.errors.has('is_original_data')\"\n        :message=\"form.errors.has('is_original_data') ? form.errors.first('is_original_data') : null\"\n      >\n        <b-select :value=\"form.is_original_data\" @input=\"handleIsOriginalDataInput\" expanded>\n          <option :value=\"true\">{{ trans('labels.literature_observations.original_data') }}</option>\n          <option :value=\"false\">{{ trans('labels.literature_observations.citation') }}</option>\n        </b-select>\n      </b-field>\n\n      <nz-publication-autocomplete\n        v-show=\"!form.is_original_data\"\n        v-model=\"citedPublication\"\n        @select=\"onCitedPublicationSelect\"\n        class=\"is-required\"\n        :publication=\"form.cited_publication\"\n        :error=\"form.errors.has('cited_publication_id')\"\n        :message=\"form.errors.has('cited_publication_id') ? form.errors.first('cited_publication_id') : null\"\n        :label=\"trans('labels.literature_observations.cited_publication')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_publication')\"\n      >\n        <a\n          class=\"button\"\n          :title=\"trans('labels.literature_observations.add_new_publication')\"\n          :href=\"$ziggy('admin.publications.create')\"\n          @click.prevent=\"addNewPublication\"\n        >\n          <b-icon icon=\"plus\" />\n        </a>\n      </nz-publication-autocomplete>\n\n      <nz-taxon-autocomplete\n        v-model=\"taxonName\"\n        @select=\"onTaxonSelect\"\n        class=\"is-required\"\n        :taxon=\"form.taxon\"\n        :error=\"form.errors.has('taxon_id')\"\n        :message=\"form.errors.has('taxon_id') ? form.errors.first('taxon_id') : null\"\n        autofocus=\"autofocus\"\n        ref=\"taxonAutocomplete\"\n        :label=\"trans('labels.literature_observations.taxon')\"\n        :placeholder=\"trans('labels.literature_observations.search_for_taxon')\"\n      />\n\n      <nz-date-input\n        :year.sync=\"form.year\"\n        :month.sync=\"form.month\"\n        :day.sync=\"form.day\"\n        :errors=\"form.errors\"\n        :label=\"trans('labels.literature_observations.date')\"\n        :placeholders=\"{\n            year: trans('labels.literature_observations.year'),\n            month: trans('labels.literature_observations.month'),\n            day: trans('labels.literature_observations.day')\n        }\"\n      />\n\n      <div>\n        <h2 class=\"is-size-4\">{{ trans('labels.literature_observations.verbatim_data') }}</h2>\n\n        <b-field\n          class=\"is-required\"\n          :label=\"trans('labels.literature_observations.original_identification')\"\n          :type=\"form.errors.has('original_identification') ? 'is-danger' : null\"\n          :message=\"form.errors.has('original_identification') ? form.errors.first('original_identification') : null\"\n        >\n          <b-input name=\"original_identification\" v-model=\"form.original_identification\" />\n        </b-field>\n\n        <b-field\n          class=\"is-required\"\n          :label=\"trans('labels.literature_observations.original_identification_validity')\"\n          :type=\"form.errors.has('original_identification_validity') ? 'is-danger' : null\"\n          :message=\"form.errors.has('original_identification_validity') ? form.errors.first('original_identification_validity') : null\"\n        >\n          <b-select name=\"original_identification_validity\" v-model=\"form.original_identification_validity\" expanded>\n            <option :value=\"value\" v-for=\"(label, value) in validityOptions\" :key=\"value\">{{ label }}</option>\n          </b-select>\n        </b-field>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_date')\"\n            :type=\"form.errors.has('original_date') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_date') ? form.errors.first('original_date') : null\"\n          >\n            <b-input name=\"original_date\" v-model=\"form.original_date\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_locality')\"\n            :type=\"form.errors.has('original_locality') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_locality') ? form.errors.first('original_locality') : null\"\n          >\n            <b-input v-model=\"form.original_locality\"/>\n          </b-field>\n        </div>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_coordinates')\"\n            :type=\"form.errors.has('original_coordinates') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_coordinates') ? form.errors.first('original_coordinates') : null\"\n          >\n            <b-input v-model=\"form.original_coordinates\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.original_elevation')\"\n            :type=\"form.errors.has('original_elevation') ? 'is-danger' : null\"\n            :message=\"form.errors.has('original_elevation') ? form.errors.first('original_elevation') : null\"\n          >\n            <b-input v-model=\"form.original_elevation\" :placeholder=\"trans('labels.literature_observations.original_elevation_placeholder')\"/>\n          </b-field>\n        </div>\n\n        <b-field\n          class=\"mb-8\"\n          :label=\"trans('labels.literature_observations.other_original_data')\"\n          :type=\"form.errors.has('other_original_data') ? 'is-danger' : null\"\n          :message=\"form.errors.has('other_original_data') ? form.errors.first('other_original_data') : null\"\n        >\n           <b-input type=\"textarea\" v-model=\"form.other_original_data\" />\n        </b-field>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.collecting_start_year')\"\n            :type=\"form.errors.has('collecting_start_year') ? 'is-danger' : null\"\n            :message=\"form.errors.has('collecting_start_year') ? form.errors.first('collecting_start_year') : null\"\n          >\n            <b-input v-model=\"form.collecting_start_year\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.collecting_start_month')\"\n            :type=\"form.errors.has('collecting_start_month') ? 'is-danger' : null\"\n            :message=\"form.errors.has('collecting_start_month') ? form.errors.first('collecting_start_month') : null\"\n          >\n            <b-input v-model=\"form.collecting_start_month\"/>\n          </b-field>\n        </div>\n\n        <div class=\"columns\">\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.collecting_end_year')\"\n            :type=\"form.errors.has('collecting_end_year') ? 'is-danger' : null\"\n            :message=\"form.errors.has('collecting_end_year') ? form.errors.first('collecting_end_year') : null\"\n          >\n            <b-input v-model=\"form.collecting_end_year\"/>\n          </b-field>\n\n          <b-field\n            class=\"column\"\n            :label=\"trans('labels.literature_observations.collecting_end_month')\"\n            :type=\"form.errors.has('collecting_end_month') ? 'is-danger' : null\"\n            :message=\"form.errors.has('collecting_end_month') ? form.errors.first('collecting_end_month') : null\"\n          >\n            <b-input v-model=\"form.collecting_end_month\"/>\n          </b-field>\n        </div>\n      </div>\n\n      <nz-spatial-input\n        class=\"mb-4\"\n        :latitude.sync=\"form.latitude\"\n        :longitude.sync=\"form.longitude\"\n        :location.sync=\"form.location\"\n        :accuracy.sync=\"form.accuracy\"\n        :elevation.sync=\"form.elevation\"\n        @elevation-fetched=\"handleElevationFetched\"\n        :errors=\"form.errors\"\n        :has-other-errors=\"form.errors.has('minimum_elevation') || form.errors.has('maximum_elevation')\"\n      >\n        <b-field\n          :label=\"trans('labels.literature_observations.minimum_elevation_m')\"\n          :type=\"form.errors.has('minimum_elevation') ? 'is-danger' : null\"\n          :message=\"form.errors.has('minimum_elevation') ? form.errors.first('minimum_elevation') : null\"\n          custom-class=\"is-small\"\n        >\n          <b-input type=\"number\" size=\"is-small\" v-model.number=\"form.minimum_elevation\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.maximum_elevation_m')\"\n          :type=\"form.errors.has('maximum_elevation') ? 'is-danger' : null\"\n          :message=\"form.errors.has('maximum_elevation') ? form.errors.first('maximum_elevation') : null\"\n          custom-class=\"is-small\"\n        >\n          <b-input type=\"number\" size=\"is-small\" v-model.number=\"form.maximum_elevation\"/>\n        </b-field>\n      </nz-spatial-input>\n\n      <div class=\"columns\">\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.literature_observations.georeferenced_by')\"\n            :type=\"form.errors.has('georeferenced_by') ? 'is-danger' : null\"\n            :message=\"form.errors.has('georeferenced_by') ? form.errors.first('georeferenced_by') : null\"\n          >\n            <b-input v-model.number=\"form.georeferenced_by\"/>\n          </b-field>\n        </div>\n\n        <div class=\"column\">\n          <b-field\n            :label=\"trans('labels.literature_observations.georeferenced_date')\"\n            :type=\"form.errors.has('georeferenced_date') ? 'is-danger' : null\"\n            :message=\"form.errors.has('georeferenced_date') ? form.errors.first('georeferenced_date') : null\"\n          >\n            <b-datepicker\n              v-model=\"georeferencedDate\"\n              :max-date=\"new Date()\"\n              :mobile-native=\"false\"\n              :date-formatter=\"dateFormater\"\n              :first-day-of-week=\"1\"\n              placeholder=\"DD.MM.YYYY\"\n            >\n              <button type=\"button\" class=\"button is-danger\" @click=\"form.georeferenced_date = null\">\n                <b-icon icon=\"close\" />\n                <span>Clear</span>\n              </button>\n            </b-datepicker>\n          </b-field>\n        </div>\n      </div>\n\n      <b-field :label=\"trans('labels.literature_observations.stage')\" :type=\"form.errors.has('stage_id') ? 'is-danger' : null\" :message=\"form.errors.has('stage_id') ? form.errors.first('stage_id') : null\">\n        <b-select v-model=\"form.stage_id\" :disabled=\"!stages.length\" expanded=\"expanded\">\n          <option :value=\"null\">{{ trans('labels.literature_observations.choose_a_stage') }}</option>\n          <option v-for=\"stage in stages\" :value=\"stage.id\" :key=\"stage.id\" v-text=\"trans('stages.'+stage.name)\"></option>\n        </b-select>\n      </b-field>\n\n      <b-field :label=\"trans('labels.literature_observations.sex')\" :type=\"form.errors.has('sex') ? 'is-danger' : null\" :message=\"form.errors.has('sex') ? form.errors.first('sex') : null\">\n        <b-select v-model=\"form.sex\" expanded=\"expanded\">\n          <option :value=\"null\">{{ trans('labels.literature_observations.choose_a_value') }}</option>\n          <option v-for=\"(label,sex) in sexes\" :key=\"sex\" :value=\"sex\" v-text=\"label\"></option>\n        </b-select>\n      </b-field>\n\n      <b-field\n        :label=\"trans('labels.literature_observations.number')\"\n        :type=\"form.errors.has('number') ? 'is-danger' : null\"\n        :message=\"form.errors.has('number') ? form.errors.first('number') : null\"\n      >\n        <b-input type=\"number\" v-model=\"form.number\"/>\n      </b-field>\n\n      <div class=\"mt-4\">\n        <b-field :label=\"trans('labels.literature_observations.note')\" :error=\"form.errors.has('note')\" :message=\"form.errors.has('note') ? form.errors.first('note') : null\"><b-input type=\"textarea\" v-model=\"form.note\"/></b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.habitat')\"\n          :type=\"form.errors.has('habitat') ? 'is-danger' : null\"\n          :message=\"form.errors.has('habitat') ? form.errors.first('habitat') : null\"\n        >\n          <b-input v-model=\"form.habitat\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.found_on')\"\n          :type=\"form.errors.has('found_on') ? 'is-danger' : null\"\n          :message=\"form.errors.has('found_on') ? form.errors.first('found_on') : null\"\n        >\n          <label for=\"found_on\" class=\"label\" slot=\"label\">\n            <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.found_on_tooltip')}\">\n              {{ trans('labels.literature_observations.found_on') }}\n            </span>\n          </label>\n\n          <b-input id=\"found_on\" name=\"found_on\" v-model=\"form.found_on\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.time')\"\n          :type=\"form.errors.has('time') ? 'is-danger' : null\"\n          :message=\"form.errors.has('time') ? form.errors.first('time') : null\"\n        >\n          <b-timepicker\n            :value=\"time\"\n            @input=\"onTimeInput\"\n            :placeholder=\"trans('labels.literature_observations.click_to_select')\"\n            icon=\"clock-o\"\n            :mobile-native=\"false\"\n          >\n            <button type=\"button\" class=\"button is-danger\" @click=\"form.time = null\">\n              <b-icon icon=\"close\"></b-icon>\n            </button>\n          </b-timepicker>\n        </b-field>\n\n        <div class=\"columns\">\n          <div class=\"column\">\n            <div class=\"field\">\n              <label for=\"project\" class=\"label\">\n                <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.project_tooltip')}\">\n                  {{ trans('labels.literature_observations.project') }}\n                </span>\n              </label>\n\n              <b-input id=\"project\" name=\"project\" v-model=\"form.project\"/>\n\n              <p v-if=\"form.errors.has('project')\" v-html=\"form.errors.first('project')\" class=\"help\" :class=\"{ 'is-danger': form.errors.has('project') }\"/>\n            </div>\n          </div>\n\n          <div class=\"column\">\n            <div class=\"field\">\n              <label for=\"dataset\" class=\"label\">\n                {{ trans('labels.literature_observations.dataset') }}\n              </label>\n\n              <b-input id=\"dataset\" name=\"dataset\" v-model=\"form.dataset\"/>\n\n              <p v-if=\"form.errors.has('dataset')\" v-html=\"form.errors.first('dataset')\" class=\"help\" :class=\"{ 'is-danger': form.errors.has('dataset') }\"/>\n            </div>\n          </div>\n        </div>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.observer')\"\n          :type=\"form.errors.has('observer') ? 'is-danger' : null\"\n          :message=\"form.errors.has('observer') ? form.errors.first('observer') : null\"\n        >\n          <b-input name=\"observer\" v-model=\"form.observer\"/>\n        </b-field>\n\n        <b-field\n          :label=\"trans('labels.literature_observations.identifier')\"\n          :type=\"form.errors.has('identifier') ? 'is-danger' : null\"\n          :message=\"form.errors.has('identifier') ? form.errors.first('identifier') : null\"\n        >\n          <b-input name=\"identifier\" v-model=\"form.identifier\"/>\n        </b-field>\n      </div>\n    </div>\n\n    <b-field\n      :label=\"trans('labels.literature_observations.place_where_referenced_in_publication')\"\n      :type=\"form.errors.has('place_where_referenced_in_publication') ? 'is-danger' : null\"\n      :message=\"form.errors.has('place_where_referenced_in_publication') ? form.errors.first('place_where_referenced_in_publication') : null\"\n    >\n      <b-input v-model=\"form.place_where_referenced_in_publication\" :placeholder=\"trans('labels.literature_observations.place_where_referenced_in_publication_placeholder')\"/>\n    </b-field>\n\n    <hr>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-loading': submittingWithRedirect\n      }\"\n      @click.prevent=\"submitWithRedirect\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_tooltip')}\"\n    >\n      {{ trans('buttons.save') }}\n    </button>\n\n    <button\n      type=\"submit\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-outlined': !submittingWithoutRedirect,\n        'is-loading': submittingWithoutRedirect\n      }\"\n      @click.prevent=\"submitWithoutRedirect\"\n      v-if=\"submitMore\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_more_tooltip')}\">\n      {{ trans('buttons.save_more') }}\n    </button>\n\n    <button\n      type=\"button\"\n      class=\"button is-primary\"\n      :class=\"{\n        'is-outlined': !submittingWithoutRedirectWithSameTaxon,\n        'is-loading': submittingWithoutRedirectWithSameTaxon\n      }\"\n      @click.prevent=\"submitWithoutRedirectWithSameTaxon\"\n      v-if=\"submitMoreWithSameTaxon\"\n      v-tooltip=\"{content: trans('labels.literature_observations.save_more_same_taxon_tooltip')}\">\n      {{ trans('labels.literature_observations.save_more_same_taxon') }}\n    </button>\n\n    <a :href=\"cancelUrl\" class=\"button is-text\" @click=\"onCancel\">{{ trans('buttons.cancel') }}</a>\n  </form>\n</template>\n\n<script>\nimport Form from 'form-backend-validation'\nimport dayjs from '@/dayjs'\nimport _get from 'lodash/get'\nimport _find from 'lodash/find'\nimport _pick from 'lodash/pick'\nimport FormMixin from '@/mixins/FormMixin'\nimport PersistentForm from '@/mixins/PersistentForm'\nimport NzDateInput from '@/components/inputs/DateInput'\nimport NzSpatialInput from '@/components/inputs/SpatialInput'\nimport NzPublicationAutocomplete from '@/components/inputs/PublicationAutocomplete'\nimport NzTaxonAutocomplete from '@/components/inputs/TaxonAutocomplete'\n\nexport default {\n  name: 'nzLiteratureObservationForm',\n\n  mixins: [PersistentForm, FormMixin],\n\n  components: {\n    NzDateInput,\n    NzSpatialInput,\n    NzPublicationAutocomplete,\n    NzTaxonAutocomplete\n  },\n\n  props: {\n    submitMoreWithSameTaxon: Boolean,\n\n    observation: {\n      type: Object,\n      default() {\n        return {\n          original_date: null,\n          original_locality: null,\n          original_elevation: null,\n          original_coordinates: null,\n          original_identification: null,\n          original_identification_validity: null,\n          other_original_data: null,\n          collecting_start_year: null,\n          collecting_start_month: null,\n          collecting_end_year: null,\n          collecting_end_month: null,\n          place_where_referenced_in_publication: null,\n          publication_id: null,\n          taxon_id: null,\n          year: dayjs().year(),\n          month: dayjs().month() + 1,\n          day: dayjs().date(),\n          is_original_data: true,\n          cited_publication_id: null,\n          latitude: null,\n          longitude: null,\n          location: null,\n          accuracy: null,\n          elevation: null,\n          minimum_elevation: null,\n          maximum_elevation: null,\n          georeferenced_by: null,\n          georeferenced_date: null,\n\n          observer: null,\n          identifier: null,\n          note: null,\n          sex: null,\n          number: null,\n          project: null,\n          found_on: null,\n          habitat: null,\n          stage_id: null,\n          time: null,\n          dataset: null,\n\n          taxon: null,\n          publication: null,\n          cited_publication: null\n        }\n      }\n    },\n\n    sexes: {\n      type: Object,\n      default: () => ({})\n    },\n\n    validityOptions: {\n      type: [Array, Object],\n      default: () => []\n    }\n  },\n\n  data() {\n    return {\n      keepAfterSubmit: this.getAttributesToKeep(),\n      submittingWithoutRedirectWithSameTaxon: false,\n      locale: window.App.locale,\n      taxonName: _get(this.observation, 'taxon.name', ''),\n      publicationCitation: _get(this.observation, 'publication.citation', ''),\n      citedPublication: _get(this.observation, 'cited_publication.citation', '')\n    }\n  },\n\n  computed: {\n    stages() {\n      return this.form.taxon\n        ? this.form.taxon.stages\n        : []\n    },\n\n    time() {\n      return this.form.time\n        ? dayjs(this.form.time, 'HH:mm').toDate()\n        : null\n    },\n\n    georeferencedDate: {\n      get() {\n        const val = dayjs(this.form.georeferenced_date)\n\n        return val.isValid() ? val.toDate() : null\n      },\n\n      set(value) {\n        this.form.georeferenced_date = dayjs(value).format('YYYY-MM-DD')\n      }\n    }\n  },\n\n  created() {\n    this.restoreState()\n  },\n\n  methods: {\n    otherPersistentKeys() {\n      return ['taxonName', 'publicationCitation', 'citedPublication']\n    },\n\n    /**\n     * Create new form instance.\n     *\n     * @return {Form}\n     */\n    newForm() {\n      return new Form({\n        ...this.observation,\n        reason: null\n      }, {\n        resetOnSuccess: false\n      })\n    },\n\n    /**\n     * Handle taxon being selected.\n     *\n     * @param {Object} value\n     */\n    onTaxonSelect(taxon) {\n      this.form.taxon = taxon || null\n      this.form.taxon_id = taxon ? taxon.id : null\n      this.taxonName = taxon ? taxon.name : null\n\n      const invalidStage = !_find(this.stages, stage => stage.id === this.form.stage_id)\n\n      if (invalidStage) {\n        this.form.stage_id = null\n      }\n    },\n\n    /**\n     * Handle publication being selected.\n     *\n     * @param {Object} value\n     */\n    onPublicationSelect(publication) {\n      this.form.publication = publication || null\n      this.form.publication_id = publication ? publication.id : null\n      this.publicationCitation = publication ? publication.citation : null\n    },\n\n    /**\n     * Handle cited publication being selected.\n     *\n     * @param {Object} value\n     */\n    onCitedPublicationSelect(publication) {\n      this.form.cited_publication = publication || null\n      this.form.cited_publication_id = publication ? publication.id : null\n      this.citedPublication = publication ? publication.citation : null\n    },\n\n    /**\n     * Set time.\n     */\n    onTimeInput(value) {\n      this.form.time = value ? dayjs(value).format('HH:mm') : null\n    },\n\n    /**\n     * Attributes to keep after submit without redirect.\n     *\n     * @return {Array}\n     */\n    getAttributesToKeep() {\n      return [\n        'location',\n        'accuracy',\n        'elevation',\n        'latitude',\n        'longitude',\n        'year',\n        'month',\n        'day',\n        'project',\n        'observer',\n        'identifier',\n        'dataset',\n        'publication',\n        'publication_id',\n        'cited_publication',\n        'cited_publication_id',\n        'is_original_data',\n        'minimum_elevation',\n        'maximum_elevation',\n        'original_locality',\n        'original_elevation',\n        'original_coordinates',\n        'georeferenced_by',\n        'georeferenced_date'\n      ]\n    },\n\n    hookAfterSubmitWithoutRedirect() {\n      this.taxonName = ''\n    },\n\n    handleIsOriginalDataInput(value) {\n      if (value) {\n        this.onCitedPublicationSelect(null)\n      }\n\n      this.form.is_original_data = value\n    },\n\n    addNewPublication() {\n      this.saveState()\n\n      window.location.href = route('admin.publications.create')\n    },\n\n    dateFormater(date) {\n      return dayjs(date).format('DD.MM.YYYY')\n    },\n\n    handleElevationFetched(elevation) {\n      this.form.minimum_elevation = elevation\n      this.form.maximum_elevation = elevation\n    },\n\n    /**\n     * Submit the form and stay to add more, with same taxon.\n     */\n    submitWithoutRedirectWithSameTaxon() {\n      if (this.form.processing) return\n\n      if (this.submitOnlyDirty  && !this.isDirty()) return this.notifyNoChanges()\n\n      if (this.shouldConfirmSubmit) return this.confirmSubmit(this.performSubmitWithoutRedirectWithSameTaxon)\n\n      this.performSubmitWithoutRedirectWithSameTaxon()\n    },\n\n    /**\n     * Submit the form and stay to add more, with same taxon.\n     */\n    performSubmitWithoutRedirectWithSameTaxon(reason = null) {\n      this.submittingWithoutRedirectWithSameTaxon = true\n      this.confirmingSubmit = false\n\n      if (this.shouldAskReason) {\n        this.form.reason = reason\n      }\n\n      this.form[this.method.toLowerCase()](this.action)\n          .then(this.onSuccessfulSubmitWithoutRedirectWithSameTaxon)\n          .catch(error => {\n            this.submittingWithoutRedirectWithSameTaxon = false\n            this.onFailedSubmit(error)\n          })\n    },\n\n    /**\n     * Handle successful form submit with no redirect.\n     */\n    onSuccessfulSubmitWithoutRedirectWithSameTaxon() {\n      this.submittingWithoutRedirectWithSameTaxon = false\n\n      this.$buefy.toast.open({\n        message: this.trans('Saved successfully'),\n        type: 'is-success'\n      })\n\n      // Reset the form but remember some data.\n      const keep = _pick(this.form.data(), this.keepAfterSubmit.concat([\n        'original_identification_validity', 'place_where_referenced_in_publication',\n        'taxon', 'taxon_id', 'original_identification',\n      ]))\n      this.form.reset()\n      this.form.populate(keep)\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiteratureObservationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LiteratureObservationForm.vue?vue&type=template&id=33a205a0&\"\nimport script from \"./LiteratureObservationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./LiteratureObservationForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"nz-publication-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"citation\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus,\"disabled\":_vm.disabled},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(props.option.citation)+\"\\n          \")])])]}}])}),_vm._v(\" \"),_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-field :label=\"label\" class=\"nz-publication-autocomplete\" :type=\"error ? 'is-danger' : null\" :message=\"message\">\n    <b-field grouped>\n      <b-autocomplete\n        :value=\"value\"\n        :data=\"data\"\n        field=\"citation\"\n        :loading=\"loading\"\n        @input=\"onInput\"\n        @select=\"onSelect\"\n        :icon=\"icon\"\n        :placeholder=\"placeholder\"\n        expanded\n        :autofocus=\"autofocus\"\n        :disabled=\"disabled\"\n      >\n        <template slot-scope=\"props\">\n          <div class=\"media\">\n            <div class=\"media-content\">\n              {{ props.option.citation }}\n            </div>\n          </div>\n        </template>\n      </b-autocomplete>\n\n      <slot />\n    </b-field>\n  </b-field>\n</template>\n\n<script>\nimport axios from 'axios'\nimport _debounce from 'lodash/debounce'\nimport _get from 'lodash/get'\n\nexport default {\n  name: 'nzPublicationAutocomplete',\n\n  props: {\n    label: {\n      type: String,\n      default: 'Publication'\n    },\n    placeholder: {\n      type: String,\n      default: 'Search for publication...'\n    },\n    publication: {\n      type: Object,\n      default: null\n    },\n    route: {\n      type: String,\n      default: 'api.autocomplete.publications.index'\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    error: Boolean,\n    message: {\n      type: String,\n      default: null\n    },\n    except: {},\n    autofocus: Boolean,\n    disabled: Boolean\n  },\n\n  data() {\n    return {\n      data: [],\n      selected: this.publication || null,\n      loading: false\n    }\n  },\n\n  computed: {\n    icon() {\n      return this.selected ? 'check' : 'search'\n    }\n  },\n\n  watch: {\n    publication(value) {\n      this.selected = value\n    }\n  },\n\n  methods: {\n    fetchData: _debounce(function() {\n      if (!this.value) return\n\n      this.data = []\n      this.loading = true\n\n      let params = {\n        citation: this.value,\n      }\n\n      if (this.except) {\n        params.except = this.except\n      }\n\n      axios.get(route(this.route), { params }).then(({ data }) => {\n        data.data.forEach((item) => this.data.push(item))\n        this.loading = false\n      }, response => {\n        this.loading = false\n      })\n    }, 500),\n\n    onSelect(user) {\n      this.selected = user\n\n      this.$emit('select', user)\n    },\n\n    onInput(value) {\n      const currentValue = this.getValue(this.selected)\n      if (currentValue && currentValue !== value) {\n          this.onSelect(null)\n      }\n\n      this.$emit('input', value)\n\n      this.fetchData()\n    },\n\n    focusOnInput() {\n      this.$el.querySelector('input').focus()\n    },\n\n    /**\n     * Return display text for the input.\n     * If object, get value from path, or else just the value.\n     */\n    getValue(option) {\n      if (!option) return\n\n      return typeof option === 'object'\n        ? _get(option, 'citation')\n        : option\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationAutocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicationAutocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicationAutocomplete.vue?vue&type=template&id=84ec607a&\"\nimport script from \"./PublicationAutocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationAutocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n"],"sourceRoot":""}