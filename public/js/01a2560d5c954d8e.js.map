{"version":3,"file":"js/01a2560d5c954d8e.js","mappings":"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","sources":["webpack:///./resources/js/components/Sidebar.vue","webpack:///resources/js/components/notifications/Notification.vue","webpack:///./resources/js/components/notifications/FieldObservationApproved.js","webpack:///./resources/js/components/notifications/FieldObservationEdited.js","webpack:///./resources/js/components/notifications/FieldObservationForApproval.js","webpack:///./resources/js/components/notifications/FieldObservationMovedToPending.js","webpack:///./resources/js/components/notifications/FieldObservationMarkedUnidentifiable.js","webpack:///./resources/js/components/notifications/Notification.vue?b454","webpack:///./resources/js/components/notifications/Notification.vue?7c75","webpack:///./resources/js/components/Sidebar.vue?5eac","webpack:///resources/js/components/Sidebar.vue","webpack:///./resources/js/components/notifications/Notification.vue","webpack:///./resources/js/components/Sidebar.vue?2458","webpack:///./resources/js/components/DashboardNavbar.js","webpack:///resources/js/components/Announcement.vue","webpack:///./resources/js/components/Announcement.vue?6699","webpack:///./resources/js/components/Announcement.vue?e590","webpack:///./resources/js/components/Announcement.vue","webpack:///resources/js/components/DeleteAccountModal.vue","webpack:///./resources/js/components/DeleteAccountModal.vue?b2dc","webpack:///./resources/js/components/DeleteAccountModal.vue?bb83","webpack:///./resources/js/components/DeleteAccountModal.vue","webpack:///./resources/js/components/DeleteAccountButton.vue?120b","webpack:///resources/js/components/DeleteAccountButton.vue","webpack:///./resources/js/components/DeleteAccountButton.vue?004b","webpack:///./resources/js/components/DeleteAccountButton.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sidebar\",class:{'is-active': _vm.active}},[_c('div',{staticClass:\"sidebar-header\"},[_c('h3',{staticClass:\"title is-size-5\"},[_vm._v(_vm._s(_vm.trans('notifications.title')))])]),_vm._v(\" \"),_c('div',{staticClass:\"sidebar-body\"},[(_vm.hasUnreadNotifications)?[(_vm.notifications.length)?_c('transition-group',{attrs:{\"name\":\"notification-list\"}},_vm._l((_vm.notifications),function(notification){return _c('nz-notification',{key:`notification-${notification.id}`,staticClass:\"sidebar-block\",attrs:{\"notification\":notification},on:{\"mark-read\":_vm.markNotificationAsRead}})}),1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"sidebar-block justify-center py-8\"},[_c('button',{staticClass:\"button is-primary\",class:{'is-loading': _vm.loading},attrs:{\"type\":\"button\",\"disabled\":!_vm.hasMoreToLoad},on:{\"click\":_vm.loadMore}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans('notifications.load_more'))+\"\\n        \")])])]:_c('div',{staticClass:\"sidebar-block justify-center py-8\"},[_vm._v(\"\\n      \"+_vm._s(_vm.trans('notifications.no_new_notifications'))+\"\\n    \")])],2),_vm._v(\" \"),_c('footer',{staticClass:\"sidebar-footer\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.hide}},[_vm._v(_vm._s(_vm.trans('buttons.close')))]),_vm._v(\" \"),(_vm.notifications.length)?_c('button',{staticClass:\"button is-text\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.markAllNotificationsAsRead}},[_vm._v(\"\\n      \"+_vm._s(_vm.trans('notifications.mark_all_as_read'))+\"\\n    \")]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"type\" :class=\"{'has-background-light': isNotRead}\">\n    <div class=\"flex-1\" :class=\"{'is-clickable': link}\" @click=\"visitLinkAndMarkAsRead\">\n      <div v-html=\"message\" />\n\n      <span class=\"has-text-grey is-size-7\">{{ createdAt }}</span>\n    </div>\n\n    <a\n      href=\"#\"\n      v-if=\"isNotRead\"\n      @click.prevent=\"markAsRead\"\n      :title=\"trans('notifications.mark_as_read')\"\n    >\n      <b-icon icon=\"remove\" size=\"is-small\" />\n    </a>\n  </div>\n</template>\n\n<script>\nimport dayjs from '@/dayjs'\nimport FieldObservationApproved from './FieldObservationApproved'\nimport FieldObservationEdited from './FieldObservationEdited'\nimport FieldObservationForApproval from './FieldObservationForApproval'\nimport FieldObservationMovedToPending from './FieldObservationMovedToPending'\nimport FieldObservationMarkedUnidentifiable from './FieldObservationMarkedUnidentifiable'\n\nconst NOTIFICATIONS_MAP = {\n  'App\\\\Notifications\\\\FieldObservationApproved': FieldObservationApproved,\n  'App\\\\Notifications\\\\FieldObservationEdited': FieldObservationEdited,\n  'App\\\\Notifications\\\\FieldObservationForApproval': FieldObservationForApproval,\n  'App\\\\Notifications\\\\FieldObservationMovedToPending': FieldObservationMovedToPending,\n  'App\\\\Notifications\\\\FieldObservationMarkedUnidentifiable': FieldObservationMarkedUnidentifiable\n}\n\nexport default {\n  name: 'nzNotification',\n\n  props: {\n    notification: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    type() {\n      return NOTIFICATIONS_MAP[this.notification.type]\n    },\n\n    isNotRead() {\n      return !this.notification.readAt;\n    },\n\n    data() {\n      return this.notification.data\n    },\n\n    createdAt() {\n      return dayjs(this.notification.created_at).format('D.M.YYYY HH:mm')\n    },\n\n    message() {\n      return this.type.message(this.notification)\n    },\n\n    link() {\n      return this.type.link(this.notification)\n    }\n  },\n\n  methods: {\n    /**\n     * Mark notification as read.\n     */\n    markAsRead() {\n      if (this.isNotRead) {\n        this.$emit('mark-read', this.notification.id)\n      }\n    },\n\n    /**\n     * Visit the notification link\n     * If the notification has not been read before, mark if as read.\n     */\n    visitLinkAndMarkAsRead() {\n      if (this.isNotRead) {\n        this.$emit('mark-read', this.notification.id, () => {\n          this.visitLink()\n        });\n      } else {\n        this.visitLink()\n      }\n    },\n\n    /**\n     * Visit the notification link.\n     */\n    visitLink() {\n      if (this.link) {\n        window.location.href = this.link\n      }\n    }\n  }\n}\n</script>\n","export default {\n  link(notification) {\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    const taxonName = notification.data.taxon_name\n    const curatorName = notification.data.curator_name || trans('roles.curator')\n\n    return taxonName\n      ? trans('notifications.field_observations.approved_with_taxon', { curatorName, taxonName })\n      : trans('notifications.field_observations.approved', { curatorName })\n  }\n}\n","export default {\n  link(notification) {\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    const taxonName = notification.data.taxon_name\n    const causerName = notification.data.causer_name || trans('roles.curator')\n\n    return taxonName\n      ? trans('notifications.field_observations.edited_with_taxon', { causerName, taxonName })\n      : trans('notifications.field_observations.edited', { causerName })\n  }\n}\n","export default {\n  link(notification) {\n    return route('curator.pending-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    return trans('notifications.field_observations.for_approval', {\n      contributorName: notification.data.contributor_name || trans('roles.contributor')\n    })\n  }\n}\n","export default {\n  link(notification) {\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    const taxonName = notification.data.taxon_name\n    const curatorName = notification.data.curator_name || trans('roles.curator')\n\n    return taxonName\n      ? trans('notifications.field_observations.moved_to_pending_with_taxon', { curatorName, taxonName })\n      : trans('notifications.field_observations.moved_to_pending', { curatorName })\n  }\n}\n","export default {\n  link(notification) {\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\n  },\n\n  message(notification) {\n    const taxonName = notification.data.taxon_name\n    const curatorName = notification.data.curator_name || trans('roles.curator')\n\n    return taxonName\n      ? trans('notifications.field_observations.marked_as_unidentifiable_with_taxon', { curatorName, taxonName })\n      : trans('notifications.field_observations.marked_as_unidentifiable', { curatorName })\n  }\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notification.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notification.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Notification.vue?vue&type=template&id=6d2aa7ae\"\nimport script from \"./Notification.vue?vue&type=script&lang=js\"\nexport * from \"./Notification.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"","<template>\n  <div class=\"sidebar\" :class=\"{'is-active': active}\">\n    <div class=\"sidebar-header\">\n      <h3 class=\"title is-size-5\">{{ trans('notifications.title') }}</h3>\n    </div>\n\n    <div class=\"sidebar-body\">\n      <template v-if=\"hasUnreadNotifications\">\n        <transition-group name=\"notification-list\" v-if=\"notifications.length\">\n          <nz-notification\n            class=\"sidebar-block\"\n            v-for=\"notification in notifications\"\n            :notification=\"notification\"\n            @mark-read=\"markNotificationAsRead\"\n            :key=\"`notification-${notification.id}`\"\n          />\n        </transition-group>\n\n        <div class=\"sidebar-block justify-center py-8\">\n          <button\n            type=\"button\"\n            class=\"button is-primary\"\n            :class=\"{'is-loading': loading}\"\n            :disabled=\"!hasMoreToLoad\"\n            @click=\"loadMore\"\n          >\n            {{ trans('notifications.load_more') }}\n          </button>\n        </div>\n      </template>\n\n      <div class=\"sidebar-block justify-center py-8\" v-else>\n        {{ trans('notifications.no_new_notifications') }}\n      </div>\n    </div>\n\n    <footer class=\"sidebar-footer\">\n      <button type=\"button\" class=\"button\" @click=\"hide\">{{ trans('buttons.close') }}</button>\n\n      <button type=\"button\" class=\"button is-text\" @click=\"markAllNotificationsAsRead\" v-if=\"notifications.length\">\n        {{ trans('notifications.mark_all_as_read') }}\n      </button>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport nzNotification from './notifications/Notification'\n\nexport default {\n  name: 'nzSidebar',\n\n  components: {\n    nzNotification\n  },\n\n  props: {\n    active: Boolean,\n    hasUnreadNotifications: Boolean,\n  },\n\n  data() {\n    return {\n      activeTab: 'notifications',\n      notifications: [],\n      currentPage: 1,\n      hasMoreToLoad: this.hasUnreadNotifications,\n      loading: false,\n    }\n  },\n\n  created () {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('keyup', this.keyPress)\n    }\n\n    this.hasUnreadNotifications && this.load()\n  },\n\n  beforeDestroy() {\n    if (typeof window !== 'undefined') {\n      document.removeEventListener('keyup', this.keyPress)\n    }\n  },\n\n  methods: {\n    /**\n     * Emit the event to close.\n     */\n    hide() {\n      this.$emit('close')\n    },\n\n    /**\n     * Handle ESC key.\n     *\n     * @param  {Event}  event\n     */\n    keyPress(event) {\n      // Esc key\n      if (event.keyCode === 27) this.hide()\n    },\n\n    load() {\n      if (this.loading) return\n\n      this.loading = true\n      const page = this.currentPage\n\n      axios.get(route('api.my.unread-notifications.index', {\n        page,\n      })).then((response) => {\n        this.notifications = this.notifications.concat(response.data.data)\n\n        this.hasMoreToLoad = this.page < response.data.meta.last_page\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n\n    loadMore() {\n      if (this.loading || !this.hasMoreToLoad) return\n\n      this.currentPage++\n      this.load()\n    },\n\n    /**\n     * Mark single notification as read.\n     *\n     * @param  {String}  notificationId\n     */\n    markNotificationAsRead(notificationId, callback) {\n      axios.post(route('api.my.read-notifications-batch.store'), {\n        notifications_ids: [notificationId]\n      }).then((response) => {\n        this.notifications = this.notifications.filter(notification => {\n          return notification.id !== notificationId\n        })\n\n        this.$emit('update:has-unread-notifications', response.data.meta.has_unread)\n\n        callback && callback()\n      })\n    },\n\n    /**\n     * Mark all unread notifications as read.\n     */\n    markAllNotificationsAsRead() {\n      if (!this.hasUnreadNotifications) return\n\n      axios.post(route('api.my.read-notifications-batch.store'), {\n        all: true,\n      }).then(() => {\n        this.notifications = []\n\n        this.$emit('update:has-unread-notifications', false)\n      })\n    }\n  }\n}\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.type)?_c('div',{class:{'has-background-light': _vm.isNotRead}},[_c('div',{staticClass:\"flex-1\",class:{'is-clickable': _vm.link},on:{\"click\":_vm.visitLinkAndMarkAsRead}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.message)}}),_vm._v(\" \"),_c('span',{staticClass:\"has-text-grey is-size-7\"},[_vm._v(_vm._s(_vm.createdAt))])]),_vm._v(\" \"),(_vm.isNotRead)?_c('a',{attrs:{\"href\":\"#\",\"title\":_vm.trans('notifications.mark_as_read')},on:{\"click\":function($event){$event.preventDefault();return _vm.markAsRead.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"remove\",\"size\":\"is-small\"}})],1):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=2052e4f0\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import NzSidebar from '@/components/Sidebar'\n\nexport default {\n  name: 'nzDashboardNavbar',\n\n  components: {\n    NzSidebar\n  },\n\n  props: {\n    hasUnread: Boolean\n  },\n\n  data() {\n    return {\n      active: false,\n      showSidebar: false,\n      hasUnreadNotifications: this.hasUnread\n    }\n  },\n\n  methods: {\n    toggle() {\n      this.active = !this.active;\n    },\n\n    toggleSidebar() {\n        this.showSidebar = !this.showSidebar;\n    },\n  },\n}\n","<template>\n  <article class=\"message is-info shadow\" v-if=\"newAnnouncement\">\n    <div class=\"message-body flex justify-between\">\n      <div class=\"\">\n        {{ newAnnouncement.title }}\n      </div>\n\n      <div class=\"message-actions\">\n        <a :href=\"link\">Read more</a>\n\n        <b-icon icon=\"check\" @click.native=\"markAsRead\" title=\"Mark as read\" class=\"is-clickable\" />\n      </div>\n    </div>\n  </article>\n</template>\n\n<script>\nexport default {\n  name: 'nzAnnouncement',\n\n  props: {\n    announcement: Object\n  },\n\n  data() {\n    return {\n      newAnnouncement: this.announcement\n    }\n  },\n\n  computed: {\n    link() {\n      return route('announcements.show', { announcement: this.newAnnouncement.id })\n    }\n  },\n\n  methods: {\n    sendRequestToMarkAsRead() {\n      return axios.post('/api/read-announcements', {\n        announcement_id: this.newAnnouncement.id,\n      })\n    },\n\n    markAsRead() {\n      this.sendRequestToMarkAsRead().then(() => {\n        this.newAnnouncement = null\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Announcement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Announcement.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Announcement.vue?vue&type=template&id=2101ee9e\"\nimport script from \"./Announcement.vue?vue&type=script&lang=js\"\nexport * from \"./Announcement.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.newAnnouncement)?_c('article',{staticClass:\"message is-info shadow\"},[_c('div',{staticClass:\"message-body flex justify-between\"},[_c('div',{},[_vm._v(\"\\n      \"+_vm._s(_vm.newAnnouncement.title)+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"message-actions\"},[_c('a',{attrs:{\"href\":_vm.link}},[_vm._v(\"Read more\")]),_vm._v(\" \"),_c('b-icon',{staticClass:\"is-clickable\",attrs:{\"icon\":\"check\",\"title\":\"Mark as read\"},nativeOn:{\"click\":function($event){return _vm.markAsRead.apply(null, arguments)}}})],1)])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form :action=\"action\" method=\"POST\" class=\"modal-card\">\n    <header class=\"modal-card-head\">\n      <h3 class=\"modal-card-title\">{{ trans('navigation.preferences.delete_account') }}</h3>\n    </header>\n\n    <input type=\"hidden\" name=\"_token\" :value=\"csrfToken\" />\n    <input type=\"hidden\" name=\"_method\" value=\"DELETE\" />\n\n\n    <section class=\"modal-card-body\">\n      <p>{{ trans('This action is irreversible, once an account is deleted it cannot be restored.') }}</p>\n\n      <p>{{ trans('Are you sure you want to delete your account?') }}</p>\n\n      <b-field class=\"mt-8\">\n        <b-checkbox name=\"delete_observations\">{{ trans('labels.preferences.account.delete_observations') }}</b-checkbox>\n      </b-field>\n    </section>\n\n    <footer class=\"modal-card-foot\">\n      <button class=\"button\" type=\"button\" @click=\"$parent.close()\">{{ trans('buttons.cancel') }}</button>\n\n      <button class=\"button is-danger\" type=\"submit\">{{ trans('labels.preferences.account.delete_account') }}</button>\n    </footer>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: 'nzDeleteAccounModal',\n\n  props: {\n    action: String,\n    csrfToken: String\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DeleteAccountModal.vue?vue&type=template&id=bcc0d354\"\nimport script from \"./DeleteAccountModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteAccountModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"modal-card\",attrs:{\"action\":_vm.action,\"method\":\"POST\"}},[_c('header',{staticClass:\"modal-card-head\"},[_c('h3',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('navigation.preferences.delete_account')))])]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"_token\"},domProps:{\"value\":_vm.csrfToken}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"_method\",\"value\":\"DELETE\"}}),_vm._v(\" \"),_c('section',{staticClass:\"modal-card-body\"},[_c('p',[_vm._v(_vm._s(_vm.trans('This action is irreversible, once an account is deleted it cannot be restored.')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.trans('Are you sure you want to delete your account?')))]),_vm._v(\" \"),_c('b-field',{staticClass:\"mt-8\"},[_c('b-checkbox',{attrs:{\"name\":\"delete_observations\"}},[_vm._v(_vm._s(_vm.trans('labels.preferences.account.delete_observations')))])],1)],1),_vm._v(\" \"),_c('footer',{staticClass:\"modal-card-foot\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))]),_vm._v(\" \"),_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.trans('labels.preferences.account.delete_account')))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountButton.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountButton.vue?vue&type=script&lang=js\"","<template>\n  <button type=\"button\" @click=\"openModal\" class=\"button is-danger\">\n    {{ trans('labels.preferences.account.delete_account') }}\n  </button>\n</template>\n\n<script>\nimport DeleteAccountModal from './DeleteAccountModal'\n\nexport default {\n  name: 'nzDeleteAccountButton',\n\n  props: {\n    action: String,\n    csrfToken: String\n  },\n\n  methods: {\n    openModal() {\n      this.$buefy.modal.open({\n        parent: this,\n        component: DeleteAccountModal,\n        hasModalCard: true,\n        props: {\n          action: this.action,\n          csrfToken: this.csrfToken\n        }\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./DeleteAccountButton.vue?vue&type=template&id=44769786\"\nimport script from \"./DeleteAccountButton.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteAccountButton.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openModal}},[_vm._v(\"\\n  \"+_vm._s(_vm.trans('labels.preferences.account.delete_account'))+\"\\n\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["NOTIFICATIONS_MAP","link","notification","route","data","field_observation_id","message","taxonName","taxon_name","curatorName","curator_name","trans","causerName","causer_name","contributorName","contributor_name","name","props","type","Object","required","computed","isNotRead","readAt","createdAt","dayjs","created_at","format","methods","markAsRead","$emit","id","visitLinkAndMarkAsRead","_this","visitLink","window","location","href","components","nzNotification","_vm","this","_c","_self","class","staticClass","on","domProps","_s","_v","attrs","$event","preventDefault","apply","arguments","_e","active","Boolean","hasUnreadNotifications","activeTab","notifications","currentPage","hasMoreToLoad","loading","created","document","addEventListener","keyPress","load","beforeDestroy","removeEventListener","hide","event","keyCode","page","axios","get","then","response","concat","meta","last_page","loadMore","markNotificationAsRead","notificationId","callback","_this2","post","notifications_ids","filter","has_unread","markAllNotificationsAsRead","_this3","all","NzSidebar","length","_l","key","hasUnread","showSidebar","toggle","toggleSidebar","announcement","newAnnouncement","sendRequestToMarkAsRead","announcement_id","title","nativeOn","action","String","csrfToken","$parent","close","openModal","$buefy","modal","open","parent","component","DeleteAccountModal","hasModalCard"],"sourceRoot":""}