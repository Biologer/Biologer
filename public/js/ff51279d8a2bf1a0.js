(self.webpackChunk=self.webpackChunk||[]).push([[824],{4741:(t,e,r)=>{"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r.d(e,{Z:()=>i});const i=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,i;return e=t,(r=[{key:"get",value:function(t){var e=JSON.parse(localStorage.getItem(t));return e?new Date(e.expires)<new Date?(localStorage.removeItem(t),null):e.value:null}},{key:"has",value:function(t){return null!==this.get(t)}},{key:"set",value:function(t,e,r){var n=(new Date).getTime(),i=new Date(n+6e4*r);localStorage.setItem(t,JSON.stringify({value:e,expires:i}))}},{key:"delete",value:function(t){this.get(t)&&localStorage.removeItem(t)}}])&&n(e.prototype,r),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}())},2791:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(8062),i=r(8718),o=r.n(i),a=r(7361),s=r.n(a),l=r(8446),u=r.n(l);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const p={name:"nzFieldObservationForm",props:{action:{type:String,required:!0},method:{type:String,default:"POST"},redirectUrl:String,cancelUrl:String,submitMore:Boolean,shouldConfirmSubmit:Boolean,confirmSubmitMessage:{type:String,default:function(){return this.trans("You are about to submit")}},shouldAskReason:Boolean,shouldConfirmCancel:Boolean,submitOnlyDirty:Boolean,submitOnlyDirtyMessage:{type:String,default:function(){return this.trans("There are no changes, the data will not be saved.")}}},data:function(){return{form:this.newForm(),keepAfterSubmit:[],submittingWithRedirect:!1,submittingWithoutRedirect:!1,confirmingSubmit:!1,confirmingCancel:!1,locale:window.App.locale}},created:function(){document.addEventListener("keyup",this.registerKeyListener)},beforeDestroy:function(){document.removeEventListener("keyup",this.registerKeyListener)},methods:{newForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n.ZP(t,{resetOnSuccess:!1})},registerKeyListener:function(t){var e=13===(t.which||t.keyCode);t.ctrlKey&&t.shiftKey&&e?this.submitMore&&this.submitWithoutRedirect():t.ctrlKey&&e&&this.submitWithRedirect()},confirmSubmit:function(t){var e=this;if(!this.confirmingSubmit){this.confirmingSubmit=!0;var r={message:this.confirmSubmitMessage,confirmText:this.trans("buttons.save"),cancelText:this.trans("buttons.cancel"),onConfirm:t,onCancel:function(){e.confirmingSubmit=!1}};return this.shouldAskReason?this.promptForReason(r):this.$buefy.dialog.confirm(r)}},promptForReason:function(t){var e=this,r=this.$buefy.dialog.prompt(f(f({},t),{},{inputAttrs:{placeholder:this.trans("Reason"),required:!0,maxlength:255}}));return r.$nextTick((function(){r.$refs.input.addEventListener("invalid",(function(t){t.target.setCustomValidity(""),t.target.validity.valid||t.target.setCustomValidity(e.trans("This field is required and can contain max 255 chars."))})),r.$refs.input.addEventListener("input",(function(t){r.validationMessage=null}))})),r},notifyNoChanges:function(){this.$buefy.toast.open({message:this.submitOnlyDirtyMessage,type:"is-info"})},notifyNoChangesAndRedirect:function(){var t=this;this.notifyNoChanges(),setTimeout((function(){t.redirectUrl&&(window.location.href=t.redirectUrl)}),500)},submitWithRedirect:function(){if(!this.form.processing)return this.submitOnlyDirty&&!this.isDirty()?this.notifyNoChangesAndRedirect():this.shouldConfirmSubmit?this.confirmSubmit(this.performSubmitWithRedirect):void this.performSubmitWithRedirect()},performSubmitWithRedirect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.submittingWithRedirect=!0,this.confirmingSubmit=!1,this.shouldAskReason&&(this.form.reason=t),this.form[this.method.toLowerCase()](this.action).then(this.onSuccessfulSubmitWithRedirect).catch(this.onFailedSubmit)},onSuccessfulSubmitWithRedirect:function(){var t=this;this.form.processing=!0,this.$buefy.toast.open({message:this.trans("Saved successfully"),type:"is-success"}),setTimeout((function(){t.form.processing=!1,t.submittingWithRedirect=!1,t.hookAfterSubmitWithRedirect(),t.redirectUrl&&(window.location.href=t.redirectUrl)}),500)},hookAfterSubmitWithRedirect:function(){},submitWithoutRedirect:function(){if(!this.form.processing)return this.submitOnlyDirty&&!this.isDirty()?this.notifyNoChanges():this.shouldConfirmSubmit?this.confirmSubmit(this.performSubmitWithoutRedirect):void this.performSubmitWithoutRedirect()},performSubmitWithoutRedirect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.submittingWithoutRedirect=!0,this.confirmingSubmit=!1,this.shouldAskReason&&(this.form.reason=t),this.form[this.method.toLowerCase()](this.action).then(this.onSuccessfulSubmitWithoutRedirect).catch(this.onFailedSubmit)},onSuccessfulSubmitWithoutRedirect:function(){this.submittingWithoutRedirect=!1,this.$buefy.toast.open({message:this.trans("Saved successfully"),type:"is-success"});var t=o()(this.form.data(),this.keepAfterSubmit);this.form.reset(),this.form.populate(t),this.hookAfterSubmitWithoutRedirect()},hookAfterSubmitWithoutRedirect:function(){},onFailedSubmit:function(t){this.submittingWithRedirect=!1,this.submittingWithoutRedirect=!1,this.$buefy.toast.open({duration:2500,message:s()(t,"response.data.message",t.message),type:"is-danger"})},isDirty:function(){return!u()(this.form.data(),this.form.initial)},confirmCancel:function(){var t=this;this.confirmingCancel||(this.confirmingCancel=!0,this.$buefy.dialog.confirm({message:this.trans("If you leave this page changes will not be saved."),onConfirm:function(){t.confirmingCancel=!1,window.location.href=t.cancelUrl},onCancel:function(){t.confirmingCancel=!1},cancelText:this.trans("buttons.stay_on_page"),confirmText:this.trans("buttons.leave_page")}))},onCancel:function(t){this.shouldConfirmCancel&&this.isDirty()&&(t.preventDefault(),this.confirmCancel())}}}},1528:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.record(e)}return r(t,[{key:"all",value:function(){return this.errors}},{key:"has",value:function(t){var e=this.errors.hasOwnProperty(t);e||(e=Object.keys(this.errors).filter((function(e){return e.startsWith(t+".")||e.startsWith(t+"[")})).length>0);return e}},{key:"first",value:function(t){return this.get(t)[0]}},{key:"get",value:function(t){return this.errors[t]||[]}},{key:"any",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return Object.keys(this.errors).length>0;var r={};return e.forEach((function(e){return r[e]=t.get(e)})),r}},{key:"record",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.errors=t}},{key:"clear",value:function(t){if(t){var e=Object.assign({},this.errors);Object.keys(e).filter((function(e){return e===t||e.startsWith(t+".")||e.startsWith(t+"[")})).forEach((function(t){return delete e[t]})),this.errors=e}else this.errors={}}}]),t}();e.default=i},4365:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(1528),s=(n=a)&&n.__esModule?n:{default:n},l=r(2110);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,t),this.processing=!1,this.successful=!1,this.withData(e).withOptions(r).withErrors({})}return o(t,[{key:"withData",value:function(t){for(var e in(0,l.isArray)(t)&&(t=t.reduce((function(t,e){return t[e]="",t}),{})),this.setInitialValues(t),this.errors=new s.default,this.processing=!1,this.successful=!1,t)(0,l.guardAgainstReservedFieldName)(e),this[e]=t[e];return this}},{key:"withErrors",value:function(t){return this.errors=new s.default(t),this}},{key:"withOptions",value:function(t){this.__options={resetOnSuccess:!0},t.hasOwnProperty("resetOnSuccess")&&(this.__options.resetOnSuccess=t.resetOnSuccess),t.hasOwnProperty("onSuccess")&&(this.onSuccess=t.onSuccess),t.hasOwnProperty("onFail")&&(this.onFail=t.onFail);var e="undefined"!=typeof window&&window.axios;if(this.__http=t.http||e||r(5866),!this.__http)throw new Error("No http library provided. Either pass an http option, or install axios.");return this}},{key:"data",value:function(){var t={};for(var e in this.initial)t[e]=this[e];return t}},{key:"only",value:function(t){var e=this;return t.reduce((function(t,r){return t[r]=e[r],t}),{})}},{key:"reset",value:function(){(0,l.merge)(this,this.initial),this.errors.clear()}},{key:"setInitialValues",value:function(t){this.initial={},(0,l.merge)(this.initial,t)}},{key:"populate",value:function(t){var e=this;return Object.keys(t).forEach((function(r){(0,l.guardAgainstReservedFieldName)(r),e.hasOwnProperty(r)&&(0,l.merge)(e,function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},r,t[r]))})),this}},{key:"clear",value:function(){for(var t in this.initial)this[t]="";this.errors.clear()}},{key:"post",value:function(t){return this.submit("post",t)}},{key:"put",value:function(t){return this.submit("put",t)}},{key:"patch",value:function(t){return this.submit("patch",t)}},{key:"delete",value:function(t){return this.submit("delete",t)}},{key:"submit",value:function(t,e){var r=this;return this.__validateRequestType(t),this.errors.clear(),this.processing=!0,this.successful=!1,new Promise((function(n,i){r.__http[t](e,r.hasFiles()?(0,l.objectToFormData)(r.data()):r.data()).then((function(t){r.processing=!1,r.onSuccess(t.data),n(t.data)})).catch((function(t){r.processing=!1,r.onFail(t),i(t)}))}))}},{key:"hasFiles",value:function(){for(var t in this.initial)if(this.hasFilesDeep(this[t]))return!0;return!1}},{key:"hasFilesDeep",value:function(t){if(null===t)return!1;if("object"===(void 0===t?"undefined":i(t)))for(var e in t)if(t.hasOwnProperty(e)&&this.hasFilesDeep(t[e]))return!0;if(Array.isArray(t))for(var r in t)if(t.hasOwnProperty(r))return this.hasFilesDeep(t[r]);return(0,l.isFile)(t)}},{key:"onSuccess",value:function(t){this.successful=!0,this.__options.resetOnSuccess&&this.reset()}},{key:"onFail",value:function(t){this.successful=!1,t.response&&t.response.data.errors&&this.errors.record(t.response.data.errors)}},{key:"hasError",value:function(t){return this.errors.has(t)}},{key:"getError",value:function(t){return this.errors.first(t)}},{key:"getErrors",value:function(t){return this.errors.get(t)}},{key:"__validateRequestType",value:function(t){var e=["get","delete","head","post","put","patch"];if(-1===e.indexOf(t))throw new Error("`"+t+"` is not a valid request type, must be one of: `"+e.join("`, `")+"`.")}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(new t).withData(e)}}]),t}();e.default=c},8062:(t,e,r)=>{"use strict";var n=r(4365);Object.defineProperty(e,"ZP",{enumerable:!0,get:function(){return o(n).default}});var i=r(1528);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"D1",{enumerable:!0,get:function(){return o(i).default}})},9924:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guardAgainstReservedFieldName=function(t){if(-1!==r.indexOf(t))throw new Error("Field name "+t+" isn't allowed to be used in a Form or Errors instance.")};var r=e.reservedFieldNames=["__http","__options","__validateRequestType","clear","data","delete","errors","getError","getErrors","hasError","initial","onFail","only","onSuccess","patch","populate","post","processing","successful","put","reset","submit","withData","withErrors","withOptions"]},7823:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new FormData,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===t||"undefined"===t||0===t.length)return e.append(r,t);for(var n in t)t.hasOwnProperty(n)&&o(e,i(r,n),t[n]);return e}function i(t,e){return t?t+"["+e+"]":e}function o(t,e,i){return i instanceof Date?t.append(e,i.toISOString()):i instanceof File?t.append(e,i,i.name):"boolean"==typeof i?t.append(e,i?"1":"0"):null===i?t.append(e,""):"object"!==(void 0===i?"undefined":r(i))?t.append(e,i):void n(i,t,e)}e.objectToFormData=n},2110:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(933);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}));var i=r(7823);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var o=r(9924);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}))},933:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function n(t){return t instanceof File||t instanceof FileList}function i(t){if(null===t)return null;if(n(t))return t;if(Array.isArray(t)){var e=[];for(var o in t)t.hasOwnProperty(o)&&(e[o]=i(t[o]));return e}if("object"===(void 0===t?"undefined":r(t))){var a={};for(var s in t)t.hasOwnProperty(s)&&(a[s]=i(t[s]));return a}return t}e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isFile=n,e.merge=function(t,e){for(var r in e)t[r]=i(e[r])},e.cloneDeep=i},5866:(t,e,r)=>{t.exports=r(7183)},6323:(t,e,r)=>{"use strict";var n=r(1869),i=r(1561),o=r(4654),a=r(4745),s=r(8038),l=r(6794),u=r(7398),c=r(3374),f=r(830),d=r(5832);t.exports=function(t){return new Promise((function(e,r){var p,m=t.data,h=t.headers,b=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}n.isFormData(m)&&delete h["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var _=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";h.Authorization="Basic "+btoa(_+":"+y)}var x=s(t.baseURL,t.url);function w(){if(g){var n="getAllResponseHeaders"in g?l(g.getAllResponseHeaders()):null,o={data:b&&"text"!==b&&"json"!==b?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:t,request:g};i((function(t){e(t),v()}),(function(t){r(t),v()}),o),g=null}}if(g.open(t.method.toUpperCase(),a(x,t.params,t.paramsSerializer),!0),g.timeout=t.timeout,"onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(w)},g.onabort=function(){g&&(r(c("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function(){r(c("Network Error",t,null,g)),g=null},g.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||f;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(c(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var S=(t.withCredentials||u(x))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;S&&(h[t.xsrfHeaderName]=S)}"setRequestHeader"in g&&n.forEach(h,(function(t,e){void 0===m&&"content-type"===e.toLowerCase()?delete h[e]:g.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),b&&"json"!==b&&(g.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&g.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){g&&(r(!t||t&&t.type?new d("canceled"):t),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),m||(m=null),g.send(m)}))}},7183:(t,e,r)=>{"use strict";var n=r(1869),i=r(6994),o=r(9971),a=r(4358);var s=function t(e){var r=new o(e),s=i(o.prototype.request,r);return n.extend(s,o.prototype,r),n.extend(s,r),s.create=function(r){return t(a(e,r))},s}(r(2323));s.Axios=o,s.Cancel=r(5832),s.CancelToken=r(3309),s.isCancel=r(9609),s.VERSION=r(7883).version,s.all=function(t){return Promise.all(t)},s.spread=r(3028),s.isAxiosError=r(8769),t.exports=s,t.exports.default=s},5832:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},3309:(t,e,r)=>{"use strict";var n=r(5832);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},9609:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},9971:(t,e,r)=>{"use strict";var n=r(1869),i=r(4745),o=r(2502),a=r(7373),s=r(4358),l=r(2398),u=l.validators;function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,c=[];if(this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)})),!i){var f=[a,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(c),o=Promise.resolve(e);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=e;n.length;){var p=n.shift(),m=n.shift();try{d=p(d)}catch(t){m(t);break}}try{o=a(d)}catch(t){return Promise.reject(t)}for(;c.length;)o=o.then(c.shift(),c.shift());return o},c.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,r,n){return this.request(s(n||{},{method:t,url:e,data:r}))}})),t.exports=c},2502:(t,e,r)=>{"use strict";var n=r(1869);function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},8038:(t,e,r)=>{"use strict";var n=r(8653),i=r(6850);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},3374:(t,e,r)=>{"use strict";var n=r(7063);t.exports=function(t,e,r,i,o){var a=new Error(t);return n(a,e,r,i,o)}},7373:(t,e,r)=>{"use strict";var n=r(1869),i=r(8717),o=r(9609),a=r(2323),s=r(5832);function l(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}t.exports=function(t){return l(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return l(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},7063:t=>{"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},4358:(t,e,r)=>{"use strict";var n=r(1869);t.exports=function(t,e){e=e||{};var r={};function i(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function o(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(t[r],e[r])}function a(t){if(!n.isUndefined(e[t]))return i(void 0,e[t])}function s(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(void 0,e[r])}function l(r){return r in e?i(t[r],e[r]):r in t?i(void 0,t[r]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||o,i=e(t);n.isUndefined(i)&&e!==l||(r[t]=i)})),r}},1561:(t,e,r)=>{"use strict";var n=r(3374);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},8717:(t,e,r)=>{"use strict";var n=r(1869),i=r(2323);t.exports=function(t,e,r){var o=this||i;return n.forEach(r,(function(r){t=r.call(o,t,e)})),t}},2323:(t,e,r)=>{"use strict";var n=r(4155),i=r(1869),o=r(4740),a=r(7063),s=r(830),l={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,f={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(c=r(6323)),c),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),function(t,e,r){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||f.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw a(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){f.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){f.headers[t]=i.merge(l)})),t.exports=f},830:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7883:t=>{t.exports={version:"0.26.1"}},6994:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},4745:(t,e,r)=>{"use strict";var n=r(1869);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var a=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},6850:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4654:(t,e,r)=>{"use strict";var n=r(1869);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},8653:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},8769:(t,e,r)=>{"use strict";var n=r(1869);t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}},7398:(t,e,r)=>{"use strict";var n=r(1869);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},4740:(t,e,r)=>{"use strict";var n=r(1869);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},6794:(t,e,r)=>{"use strict";var n=r(1869),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,a={};return t?(n.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}})),a):a}},3028:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},2398:(t,e,r)=>{"use strict";var n=r(7883).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var o={};i.transitional=function(t,e,r){function i(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,a){if(!1===t)throw new Error(i(n," has been removed"+(e?" in "+e:"")));return e&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,a)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],a=e[o];if(a){var s=t[o],l=void 0===s||a(s,o,t);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:i}},1869:(t,e,r)=>{"use strict";var n=r(6994),i=Object.prototype.toString;function o(t){return Array.isArray(t)}function a(t){return void 0===t}function s(t){return"[object ArrayBuffer]"===i.call(t)}function l(t){return null!==t&&"object"==typeof t}function u(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===i.call(t)}function f(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:s,isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===i.call(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&s(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:l,isPlainObject:u,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return l(t)&&c(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===i.call(t)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function t(){var e={};function r(r,n){u(e[n])&&u(r)?e[n]=t(e[n],r):u(r)?e[n]=t({},r):o(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)f(arguments[n],r);return e},extend:function(t,e,r){return f(e,(function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},1848:t=>{t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},1078:(t,e,r)=>{var n=r(2488),i=r(7285);t.exports=function t(e,r,o,a,s){var l=-1,u=e.length;for(o||(o=i),s||(s=[]);++l<u;){var c=e[l];r>0&&o(c)?r>1?t(c,r-1,o,a,s):n(s,c):a||(s[s.length]=c)}return s}},7786:(t,e,r)=>{var n=r(1811),i=r(327);t.exports=function(t,e){for(var r=0,o=(e=n(e,t)).length;null!=t&&r<o;)t=t[i(e[r++])];return r&&r==o?t:void 0}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2958:(t,e,r)=>{var n=r(6384),i=r(939);t.exports=function(t,e,r,o){var a=r.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var u=r[a];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var c=(u=r[a])[0],f=t[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in t))return!1}else{var p=new n;if(o)var m=o(f,d,c,t,e,p);if(!(void 0===m?i(d,f,3,o,p):m))return!1}}return!0}},7206:(t,e,r)=>{var n=r(1573),i=r(6432),o=r(6557),a=r(1469),s=r(9601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):n(t):s(t)}},1573:(t,e,r)=>{var n=r(2958),i=r(1499),o=r(2634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},6432:(t,e,r)=>{var n=r(939),i=r(7361),o=r(9095),a=r(5403),s=r(9162),l=r(2634),u=r(327);t.exports=function(t,e){return a(t)&&s(e)?l(u(t),e):function(r){var a=i(r,t);return void 0===a&&a===e?o(r,t):n(e,a,3)}}},5970:(t,e,r)=>{var n=r(3012),i=r(9095);t.exports=function(t,e){return n(t,e,(function(e,r){return i(t,r)}))}},3012:(t,e,r)=>{var n=r(7786),i=r(611),o=r(1811);t.exports=function(t,e,r){for(var a=-1,s=e.length,l={};++a<s;){var u=e[a],c=n(t,u);r(c,u)&&i(l,o(u,t),c)}return l}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,r)=>{var n=r(7786);t.exports=function(t){return function(e){return n(e,t)}}},611:(t,e,r)=>{var n=r(4865),i=r(1811),o=r(5776),a=r(3218),s=r(327);t.exports=function(t,e,r,l){if(!a(t))return t;for(var u=-1,c=(e=i(e,t)).length,f=c-1,d=t;null!=d&&++u<c;){var p=s(e[u]),m=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(u!=f){var h=d[p];void 0===(m=l?l(h,p,d):void 0)&&(m=a(h)?h:o(e[u+1])?[]:{})}n(d,p,m),d=d[p]}return t}},1811:(t,e,r)=>{var n=r(1469),i=r(5403),o=r(5514),a=r(9833);t.exports=function(t,e){return n(t)?t:i(t,e)?[t]:o(a(t))}},7740:(t,e,r)=>{var n=r(7206),i=r(8612),o=r(3674);t.exports=function(t){return function(e,r,a){var s=Object(e);if(!i(e)){var l=n(r,3);e=o(e),r=function(t){return l(s[t],t,s)}}var u=t(e,r,a);return u>-1?s[l?e[u]:u]:void 0}}},9021:(t,e,r)=>{var n=r(5564),i=r(5357),o=r(61);t.exports=function(t){return o(i(t,void 0,n),t+"")}},1499:(t,e,r)=>{var n=r(9162),i=r(3674);t.exports=function(t){for(var e=i(t),r=e.length;r--;){var o=e[r],a=t[o];e[r]=[o,a,n(a)]}return e}},222:(t,e,r)=>{var n=r(1811),i=r(5694),o=r(1469),a=r(5776),s=r(1780),l=r(327);t.exports=function(t,e,r){for(var u=-1,c=(e=n(e,t)).length,f=!1;++u<c;){var d=l(e[u]);if(!(f=null!=t&&r(t,d)))break;t=t[d]}return f||++u!=c?f:!!(c=null==t?0:t.length)&&s(c)&&a(d,c)&&(o(t)||i(t))}},7285:(t,e,r)=>{var n=r(2705),i=r(5694),o=r(1469),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},5403:(t,e,r)=>{var n=r(1469),i=r(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},9162:(t,e,r)=>{var n=r(3218);t.exports=function(t){return t==t&&!n(t)}},2634:t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},4523:(t,e,r)=>{var n=r(8306);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},5514:(t,e,r)=>{var n=r(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,r,n,i){e.push(n?i.replace(o,"$1"):r||t)})),e}));t.exports=a},327:(t,e,r)=>{var n=r(3448);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},3279:(t,e,r)=>{var n=r(3218),i=r(7771),o=r(4841),a=Math.max,s=Math.min;t.exports=function(t,e,r){var l,u,c,f,d,p,m=0,h=!1,b=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var r=l,n=u;return l=u=void 0,m=e,f=t.apply(n,r)}function _(t){return m=t,d=setTimeout(x,e),h?g(t):f}function y(t){var r=t-p;return void 0===p||r>=e||r<0||b&&t-m>=c}function x(){var t=i();if(y(t))return w(t);d=setTimeout(x,function(t){var r=e-(t-p);return b?s(r,c-(t-m)):r}(t))}function w(t){return d=void 0,v&&l?g(t):(l=u=void 0,f)}function S(){var t=i(),r=y(t);if(l=arguments,u=this,p=t,r){if(void 0===d)return _(p);if(b)return clearTimeout(d),d=setTimeout(x,e),g(p)}return void 0===d&&(d=setTimeout(x,e)),f}return e=o(e)||0,n(r)&&(h=!!r.leading,c=(b="maxWait"in r)?a(o(r.maxWait)||0,e):c,v="trailing"in r?!!r.trailing:v),S.cancel=function(){void 0!==d&&clearTimeout(d),m=0,l=p=u=d=void 0},S.flush=function(){return void 0===d?f:w(i())},S}},3311:(t,e,r)=>{var n=r(7740)(r(998));t.exports=n},998:(t,e,r)=>{var n=r(1848),i=r(7206),o=r(554),a=Math.max;t.exports=function(t,e,r){var s=null==t?0:t.length;if(!s)return-1;var l=null==r?0:o(r);return l<0&&(l=a(s+l,0)),n(t,i(e,3),l)}},5564:(t,e,r)=>{var n=r(1078);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},7361:(t,e,r)=>{var n=r(7786);t.exports=function(t,e,r){var i=null==t?void 0:n(t,e);return void 0===i?r:i}},9095:(t,e,r)=>{var n=r(13),i=r(222);t.exports=function(t,e){return null!=t&&i(t,e,n)}},8306:(t,e,r)=>{var n=r(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,t.exports=i},7771:(t,e,r)=>{var n=r(5639);t.exports=function(){return n.Date.now()}},8718:(t,e,r)=>{var n=r(5970),i=r(9021)((function(t,e){return null==t?{}:n(t,e)}));t.exports=i},9601:(t,e,r)=>{var n=r(371),i=r(9152),o=r(5403),a=r(327);t.exports=function(t){return o(t)?n(a(t)):i(t)}},554:(t,e,r)=>{var n=r(8601);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},5824:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>O});var n=r(8062),i=r(6386),o=r(7361),a=r.n(o),s=r(3311),l=r.n(s),u=r(8718),c=r.n(u),f=r(2791),d=r(4741);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const b={props:{cacheKey:{default:null},cacheLifetime:{default:1440}},computed:{storageKey:function(){return this.cacheKey?"nz-form.".concat(this.cacheKey):"nz-form.".concat(window.location.host).concat(window.location.pathname)}},methods:{getFormKey:function(){return"form"},otherPersistentKeys:function(){return[]},saveState:function(){var t=m(m({},c()(this.$data,this.otherPersistentKeys())),{},{form:this[this.getFormKey()].data()});d.Z.set(this.storageKey,t,this.cacheLifetime)},restoreState:function(){var t=this,e=d.Z.get(this.storageKey);null!==e&&(this[this.getFormKey()].populate(e.form),this.otherPersistentKeys().forEach((function(r){void 0!==e[r]&&t.$set(t,r,e[r])})),this.clearPersistedState())},clearPersistedState:function(){d.Z.delete(this.storageKey)}}};var v=r(9973),g=r(8954),_=r(184),y=r(1165);function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const C={name:"nzLiteratureObservationForm",mixins:[b,f.Z],components:{NzDateInput:v.Z,NzSpatialInput:g.Z,NzPublicationAutocomplete:_.Z,NzTaxonAutocomplete:y.Z},props:{submitMoreWithSameTaxon:Boolean,observation:{type:Object,default:function(){return{original_date:null,original_locality:null,original_elevation:null,original_coordinates:null,original_identification:null,original_identification_validity:null,other_original_data:null,collecting_start_year:null,collecting_start_month:null,collecting_end_year:null,collecting_end_month:null,place_where_referenced_in_publication:null,publication_id:null,taxon_id:null,year:(0,i.Z)().year(),month:(0,i.Z)().month()+1,day:(0,i.Z)().date(),is_original_data:!0,cited_publication_id:null,latitude:null,longitude:null,location:null,accuracy:null,elevation:null,minimum_elevation:null,maximum_elevation:null,georeferenced_by:null,georeferenced_date:null,observer:null,identifier:null,note:null,sex:null,number:null,project:null,found_on:null,habitat:null,stage_id:null,time:null,dataset:null,taxon:null,publication:null,cited_publication:null}}},sexes:{type:Object,default:function(){return{}}},validityOptions:{type:[Array,Object],default:function(){return[]}}},data:function(){return{keepAfterSubmit:this.getAttributesToKeep(),submittingWithoutRedirectWithSameTaxon:!1,locale:window.App.locale,taxonName:a()(this.observation,"taxon.name",""),publicationCitation:a()(this.observation,"publication.citation",""),citedPublication:a()(this.observation,"cited_publication.citation","")}},computed:{stages:function(){return this.form.taxon?this.form.taxon.stages:[]},time:function(){return this.form.time?(0,i.Z)(this.form.time,"HH:mm").toDate():null},georeferencedDate:{get:function(){var t=(0,i.Z)(this.form.georeferenced_date);return t.isValid()?t.toDate():null},set:function(t){this.form.georeferenced_date=(0,i.Z)(t).format("YYYY-MM-DD")}}},created:function(){this.restoreState()},methods:{otherPersistentKeys:function(){return["taxonName","publicationCitation","citedPublication"]},newForm:function(){return new n.ZP(w(w({},this.observation),{},{reason:null}),{resetOnSuccess:!1})},onTaxonSelect:function(t){var e=this;this.form.taxon=t||null,this.form.taxon_id=t?t.id:null,this.taxonName=t?t.name:null,!l()(this.stages,(function(t){return t.id===e.form.stage_id}))&&(this.form.stage_id=null)},onPublicationSelect:function(t){this.form.publication=t||null,this.form.publication_id=t?t.id:null,this.publicationCitation=t?t.citation:null},onCitedPublicationSelect:function(t){this.form.cited_publication=t||null,this.form.cited_publication_id=t?t.id:null,this.citedPublication=t?t.citation:null},onTimeInput:function(t){this.form.time=t?(0,i.Z)(t).format("HH:mm"):null},getAttributesToKeep:function(){return["location","accuracy","elevation","latitude","longitude","year","month","day","project","observer","identifier","dataset","publication","publication_id","cited_publication","cited_publication_id","is_original_data","minimum_elevation","maximum_elevation","original_locality","original_elevation","original_coordinates","georeferenced_by","georeferenced_date"]},hookAfterSubmitWithoutRedirect:function(){this.taxonName=""},handleIsOriginalDataInput:function(t){t&&this.onCitedPublicationSelect(null),this.form.is_original_data=t},addNewPublication:function(){this.saveState(),window.location.href=route("admin.publications.create")},dateFormater:function(t){return(0,i.Z)(t).format("DD.MM.YYYY")},handleElevationFetched:function(t){this.form.minimum_elevation=t,this.form.maximum_elevation=t},submitWithoutRedirectWithSameTaxon:function(){if(!this.form.processing)return this.submitOnlyDirty&&!this.isDirty()?this.notifyNoChanges():this.shouldConfirmSubmit?this.confirmSubmit(this.performSubmitWithoutRedirectWithSameTaxon):void this.performSubmitWithoutRedirectWithSameTaxon()},performSubmitWithoutRedirectWithSameTaxon:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.submittingWithoutRedirectWithSameTaxon=!0,this.confirmingSubmit=!1,this.shouldAskReason&&(this.form.reason=e),this.form[this.method.toLowerCase()](this.action).then(this.onSuccessfulSubmitWithoutRedirectWithSameTaxon).catch((function(e){t.submittingWithoutRedirectWithSameTaxon=!1,t.onFailedSubmit(e)}))},onSuccessfulSubmitWithoutRedirectWithSameTaxon:function(){this.submittingWithoutRedirectWithSameTaxon=!1,this.$buefy.toast.open({message:this.trans("Saved successfully"),type:"is-success"});var t=c()(this.form.data(),this.keepAfterSubmit.concat(["original_identification_validity","place_where_referenced_in_publication","taxon","taxon_id","original_identification"]));this.form.reset(),this.form.populate(t)}}};const O=(0,r(1900).Z)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"literature-observation-form",attrs:{action:t.action,method:"POST",lang:t.locale}},[r("div",{staticClass:"mb-8"},[r("nz-publication-autocomplete",{ref:"publicationAutocomplete",staticClass:"is-required",attrs:{publication:t.form.publication,error:t.form.errors.has("publication_id"),message:t.form.errors.has("publication_id")?t.form.errors.first("publication_id"):null,autofocus:"autofocus",label:t.trans("labels.literature_observations.publication"),placeholder:t.trans("labels.literature_observations.search_for_publication")},on:{select:t.onPublicationSelect},model:{value:t.publicationCitation,callback:function(e){t.publicationCitation=e},expression:"publicationCitation"}},[r("a",{staticClass:"button",attrs:{title:t.trans("labels.literature_observations.add_new_publication"),href:t.$ziggy("admin.publications.create")},on:{click:function(e){return e.preventDefault(),t.addNewPublication.apply(null,arguments)}}},[r("b-icon",{attrs:{icon:"plus"}})],1)]),t._v(" "),r("b-field",{staticClass:"is-required",attrs:{label:t.trans("labels.literature_observations.is_original_data"),error:t.form.errors.has("is_original_data"),message:t.form.errors.has("is_original_data")?t.form.errors.first("is_original_data"):null}},[r("b-select",{attrs:{value:t.form.is_original_data,expanded:""},on:{input:t.handleIsOriginalDataInput}},[r("option",{domProps:{value:!0}},[t._v(t._s(t.trans("labels.literature_observations.original_data")))]),t._v(" "),r("option",{domProps:{value:!1}},[t._v(t._s(t.trans("labels.literature_observations.citation")))])])],1),t._v(" "),r("nz-publication-autocomplete",{directives:[{name:"show",rawName:"v-show",value:!t.form.is_original_data,expression:"!form.is_original_data"}],staticClass:"is-required",attrs:{publication:t.form.cited_publication,error:t.form.errors.has("cited_publication_id"),message:t.form.errors.has("cited_publication_id")?t.form.errors.first("cited_publication_id"):null,label:t.trans("labels.literature_observations.cited_publication"),placeholder:t.trans("labels.literature_observations.search_for_publication")},on:{select:t.onCitedPublicationSelect},model:{value:t.citedPublication,callback:function(e){t.citedPublication=e},expression:"citedPublication"}},[r("a",{staticClass:"button",attrs:{title:t.trans("labels.literature_observations.add_new_publication"),href:t.$ziggy("admin.publications.create")},on:{click:function(e){return e.preventDefault(),t.addNewPublication.apply(null,arguments)}}},[r("b-icon",{attrs:{icon:"plus"}})],1)]),t._v(" "),r("nz-taxon-autocomplete",{ref:"taxonAutocomplete",staticClass:"is-required",attrs:{taxon:t.form.taxon,error:t.form.errors.has("taxon_id"),message:t.form.errors.has("taxon_id")?t.form.errors.first("taxon_id"):null,autofocus:"autofocus",label:t.trans("labels.literature_observations.taxon"),placeholder:t.trans("labels.literature_observations.search_for_taxon")},on:{select:t.onTaxonSelect},model:{value:t.taxonName,callback:function(e){t.taxonName=e},expression:"taxonName"}}),t._v(" "),r("nz-date-input",{attrs:{year:t.form.year,month:t.form.month,day:t.form.day,errors:t.form.errors,label:t.trans("labels.literature_observations.date"),placeholders:{year:t.trans("labels.literature_observations.year"),month:t.trans("labels.literature_observations.month"),day:t.trans("labels.literature_observations.day")}},on:{"update:year":function(e){return t.$set(t.form,"year",e)},"update:month":function(e){return t.$set(t.form,"month",e)},"update:day":function(e){return t.$set(t.form,"day",e)}}}),t._v(" "),r("div",[r("h2",{staticClass:"is-size-4"},[t._v(t._s(t.trans("labels.literature_observations.verbatim_data")))]),t._v(" "),r("b-field",{staticClass:"is-required",attrs:{label:t.trans("labels.literature_observations.original_identification"),type:t.form.errors.has("original_identification")?"is-danger":null,message:t.form.errors.has("original_identification")?t.form.errors.first("original_identification"):null}},[r("b-input",{attrs:{name:"original_identification"},model:{value:t.form.original_identification,callback:function(e){t.$set(t.form,"original_identification",e)},expression:"form.original_identification"}})],1),t._v(" "),r("b-field",{staticClass:"is-required",attrs:{label:t.trans("labels.literature_observations.original_identification_validity"),type:t.form.errors.has("original_identification_validity")?"is-danger":null,message:t.form.errors.has("original_identification_validity")?t.form.errors.first("original_identification_validity"):null}},[r("b-select",{attrs:{name:"original_identification_validity",expanded:""},model:{value:t.form.original_identification_validity,callback:function(e){t.$set(t.form,"original_identification_validity",e)},expression:"form.original_identification_validity"}},t._l(t.validityOptions,(function(e,n){return r("option",{key:n,domProps:{value:n}},[t._v(t._s(e))])})),0)],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.original_date"),type:t.form.errors.has("original_date")?"is-danger":null,message:t.form.errors.has("original_date")?t.form.errors.first("original_date"):null}},[r("b-input",{attrs:{name:"original_date"},model:{value:t.form.original_date,callback:function(e){t.$set(t.form,"original_date",e)},expression:"form.original_date"}})],1),t._v(" "),r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.original_locality"),type:t.form.errors.has("original_locality")?"is-danger":null,message:t.form.errors.has("original_locality")?t.form.errors.first("original_locality"):null}},[r("b-input",{model:{value:t.form.original_locality,callback:function(e){t.$set(t.form,"original_locality",e)},expression:"form.original_locality"}})],1)],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.original_coordinates"),type:t.form.errors.has("original_coordinates")?"is-danger":null,message:t.form.errors.has("original_coordinates")?t.form.errors.first("original_coordinates"):null}},[r("b-input",{model:{value:t.form.original_coordinates,callback:function(e){t.$set(t.form,"original_coordinates",e)},expression:"form.original_coordinates"}})],1),t._v(" "),r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.original_elevation"),type:t.form.errors.has("original_elevation")?"is-danger":null,message:t.form.errors.has("original_elevation")?t.form.errors.first("original_elevation"):null}},[r("b-input",{attrs:{placeholder:t.trans("labels.literature_observations.original_elevation_placeholder")},model:{value:t.form.original_elevation,callback:function(e){t.$set(t.form,"original_elevation",e)},expression:"form.original_elevation"}})],1)],1),t._v(" "),r("b-field",{staticClass:"mb-8",attrs:{label:t.trans("labels.literature_observations.other_original_data"),type:t.form.errors.has("other_original_data")?"is-danger":null,message:t.form.errors.has("other_original_data")?t.form.errors.first("other_original_data"):null}},[r("b-input",{attrs:{type:"textarea"},model:{value:t.form.other_original_data,callback:function(e){t.$set(t.form,"other_original_data",e)},expression:"form.other_original_data"}})],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.collecting_start_year"),type:t.form.errors.has("collecting_start_year")?"is-danger":null,message:t.form.errors.has("collecting_start_year")?t.form.errors.first("collecting_start_year"):null}},[r("b-input",{model:{value:t.form.collecting_start_year,callback:function(e){t.$set(t.form,"collecting_start_year",e)},expression:"form.collecting_start_year"}})],1),t._v(" "),r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.collecting_start_month"),type:t.form.errors.has("collecting_start_month")?"is-danger":null,message:t.form.errors.has("collecting_start_month")?t.form.errors.first("collecting_start_month"):null}},[r("b-input",{model:{value:t.form.collecting_start_month,callback:function(e){t.$set(t.form,"collecting_start_month",e)},expression:"form.collecting_start_month"}})],1)],1),t._v(" "),r("div",{staticClass:"columns"},[r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.collecting_end_year"),type:t.form.errors.has("collecting_end_year")?"is-danger":null,message:t.form.errors.has("collecting_end_year")?t.form.errors.first("collecting_end_year"):null}},[r("b-input",{model:{value:t.form.collecting_end_year,callback:function(e){t.$set(t.form,"collecting_end_year",e)},expression:"form.collecting_end_year"}})],1),t._v(" "),r("b-field",{staticClass:"column",attrs:{label:t.trans("labels.literature_observations.collecting_end_month"),type:t.form.errors.has("collecting_end_month")?"is-danger":null,message:t.form.errors.has("collecting_end_month")?t.form.errors.first("collecting_end_month"):null}},[r("b-input",{model:{value:t.form.collecting_end_month,callback:function(e){t.$set(t.form,"collecting_end_month",e)},expression:"form.collecting_end_month"}})],1)],1)],1),t._v(" "),r("nz-spatial-input",{staticClass:"mb-4",attrs:{latitude:t.form.latitude,longitude:t.form.longitude,location:t.form.location,accuracy:t.form.accuracy,elevation:t.form.elevation,errors:t.form.errors,"has-other-errors":t.form.errors.has("minimum_elevation")||t.form.errors.has("maximum_elevation")},on:{"update:latitude":function(e){return t.$set(t.form,"latitude",e)},"update:longitude":function(e){return t.$set(t.form,"longitude",e)},"update:location":function(e){return t.$set(t.form,"location",e)},"update:accuracy":function(e){return t.$set(t.form,"accuracy",e)},"update:elevation":function(e){return t.$set(t.form,"elevation",e)},"elevation-fetched":t.handleElevationFetched}},[r("b-field",{attrs:{label:t.trans("labels.literature_observations.minimum_elevation_m"),type:t.form.errors.has("minimum_elevation")?"is-danger":null,message:t.form.errors.has("minimum_elevation")?t.form.errors.first("minimum_elevation"):null,"custom-class":"is-small"}},[r("b-input",{attrs:{type:"number",size:"is-small"},model:{value:t.form.minimum_elevation,callback:function(e){t.$set(t.form,"minimum_elevation",t._n(e))},expression:"form.minimum_elevation"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.maximum_elevation_m"),type:t.form.errors.has("maximum_elevation")?"is-danger":null,message:t.form.errors.has("maximum_elevation")?t.form.errors.first("maximum_elevation"):null,"custom-class":"is-small"}},[r("b-input",{attrs:{type:"number",size:"is-small"},model:{value:t.form.maximum_elevation,callback:function(e){t.$set(t.form,"maximum_elevation",t._n(e))},expression:"form.maximum_elevation"}})],1)],1),t._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.trans("labels.literature_observations.georeferenced_by"),type:t.form.errors.has("georeferenced_by")?"is-danger":null,message:t.form.errors.has("georeferenced_by")?t.form.errors.first("georeferenced_by"):null}},[r("b-input",{model:{value:t.form.georeferenced_by,callback:function(e){t.$set(t.form,"georeferenced_by",t._n(e))},expression:"form.georeferenced_by"}})],1)],1),t._v(" "),r("div",{staticClass:"column"},[r("b-field",{attrs:{label:t.trans("labels.literature_observations.georeferenced_date"),type:t.form.errors.has("georeferenced_date")?"is-danger":null,message:t.form.errors.has("georeferenced_date")?t.form.errors.first("georeferenced_date"):null}},[r("b-datepicker",{attrs:{"max-date":new Date,"mobile-native":!1,"date-formatter":t.dateFormater,"first-day-of-week":1,placeholder:"DD.MM.YYYY"},model:{value:t.georeferencedDate,callback:function(e){t.georeferencedDate=e},expression:"georeferencedDate"}},[r("button",{staticClass:"button is-danger",attrs:{type:"button"},on:{click:function(e){t.form.georeferenced_date=null}}},[r("b-icon",{attrs:{icon:"close"}}),t._v(" "),r("span",[t._v("Clear")])],1)])],1)],1)]),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.stage"),type:t.form.errors.has("stage_id")?"is-danger":null,message:t.form.errors.has("stage_id")?t.form.errors.first("stage_id"):null}},[r("b-select",{attrs:{disabled:!t.stages.length,expanded:"expanded"},model:{value:t.form.stage_id,callback:function(e){t.$set(t.form,"stage_id",e)},expression:"form.stage_id"}},[r("option",{domProps:{value:null}},[t._v(t._s(t.trans("labels.literature_observations.choose_a_stage")))]),t._v(" "),t._l(t.stages,(function(e){return r("option",{key:e.id,domProps:{value:e.id,textContent:t._s(t.trans("stages."+e.name))}})}))],2)],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.sex"),type:t.form.errors.has("sex")?"is-danger":null,message:t.form.errors.has("sex")?t.form.errors.first("sex"):null}},[r("b-select",{attrs:{expanded:"expanded"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[r("option",{domProps:{value:null}},[t._v(t._s(t.trans("labels.literature_observations.choose_a_value")))]),t._v(" "),t._l(t.sexes,(function(e,n){return r("option",{key:n,domProps:{value:n,textContent:t._s(e)}})}))],2)],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.number"),type:t.form.errors.has("number")?"is-danger":null,message:t.form.errors.has("number")?t.form.errors.first("number"):null}},[r("b-input",{attrs:{type:"number"},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}})],1),t._v(" "),r("div",{staticClass:"mt-4"},[r("b-field",{attrs:{label:t.trans("labels.literature_observations.note"),error:t.form.errors.has("note"),message:t.form.errors.has("note")?t.form.errors.first("note"):null}},[r("b-input",{attrs:{type:"textarea"},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.habitat"),type:t.form.errors.has("habitat")?"is-danger":null,message:t.form.errors.has("habitat")?t.form.errors.first("habitat"):null}},[r("b-input",{model:{value:t.form.habitat,callback:function(e){t.$set(t.form,"habitat",e)},expression:"form.habitat"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.found_on"),type:t.form.errors.has("found_on")?"is-danger":null,message:t.form.errors.has("found_on")?t.form.errors.first("found_on"):null}},[r("label",{staticClass:"label",attrs:{slot:"label",for:"found_on"},slot:"label"},[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.found_on_tooltip")},expression:"{content: trans('labels.literature_observations.found_on_tooltip')}"}],staticClass:"is-dashed"},[t._v("\n            "+t._s(t.trans("labels.literature_observations.found_on"))+"\n          ")])]),t._v(" "),r("b-input",{attrs:{id:"found_on",name:"found_on"},model:{value:t.form.found_on,callback:function(e){t.$set(t.form,"found_on",e)},expression:"form.found_on"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.time"),type:t.form.errors.has("time")?"is-danger":null,message:t.form.errors.has("time")?t.form.errors.first("time"):null}},[r("b-timepicker",{attrs:{value:t.time,placeholder:t.trans("labels.literature_observations.click_to_select"),icon:"clock-o","mobile-native":!1},on:{input:t.onTimeInput}},[r("button",{staticClass:"button is-danger",attrs:{type:"button"},on:{click:function(e){t.form.time=null}}},[r("b-icon",{attrs:{icon:"close"}})],1)])],1),t._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("div",{staticClass:"field"},[r("label",{staticClass:"label",attrs:{for:"project"}},[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.project_tooltip")},expression:"{content: trans('labels.literature_observations.project_tooltip')}"}],staticClass:"is-dashed"},[t._v("\n                "+t._s(t.trans("labels.literature_observations.project"))+"\n              ")])]),t._v(" "),r("b-input",{attrs:{id:"project",name:"project"},model:{value:t.form.project,callback:function(e){t.$set(t.form,"project",e)},expression:"form.project"}}),t._v(" "),t.form.errors.has("project")?r("p",{staticClass:"help",class:{"is-danger":t.form.errors.has("project")},domProps:{innerHTML:t._s(t.form.errors.first("project"))}}):t._e()],1)]),t._v(" "),r("div",{staticClass:"column"},[r("div",{staticClass:"field"},[r("label",{staticClass:"label",attrs:{for:"dataset"}},[t._v("\n              "+t._s(t.trans("labels.literature_observations.dataset"))+"\n            ")]),t._v(" "),r("b-input",{attrs:{id:"dataset",name:"dataset"},model:{value:t.form.dataset,callback:function(e){t.$set(t.form,"dataset",e)},expression:"form.dataset"}}),t._v(" "),t.form.errors.has("dataset")?r("p",{staticClass:"help",class:{"is-danger":t.form.errors.has("dataset")},domProps:{innerHTML:t._s(t.form.errors.first("dataset"))}}):t._e()],1)])]),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.observer"),type:t.form.errors.has("observer")?"is-danger":null,message:t.form.errors.has("observer")?t.form.errors.first("observer"):null}},[r("b-input",{attrs:{name:"observer"},model:{value:t.form.observer,callback:function(e){t.$set(t.form,"observer",e)},expression:"form.observer"}})],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.identifier"),type:t.form.errors.has("identifier")?"is-danger":null,message:t.form.errors.has("identifier")?t.form.errors.first("identifier"):null}},[r("b-input",{attrs:{name:"identifier"},model:{value:t.form.identifier,callback:function(e){t.$set(t.form,"identifier",e)},expression:"form.identifier"}})],1)],1)],1),t._v(" "),r("b-field",{attrs:{label:t.trans("labels.literature_observations.place_where_referenced_in_publication"),type:t.form.errors.has("place_where_referenced_in_publication")?"is-danger":null,message:t.form.errors.has("place_where_referenced_in_publication")?t.form.errors.first("place_where_referenced_in_publication"):null}},[r("b-input",{attrs:{placeholder:t.trans("labels.literature_observations.place_where_referenced_in_publication_placeholder")},model:{value:t.form.place_where_referenced_in_publication,callback:function(e){t.$set(t.form,"place_where_referenced_in_publication",e)},expression:"form.place_where_referenced_in_publication"}})],1),t._v(" "),r("hr"),t._v(" "),r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.save_tooltip")},expression:"{content: trans('labels.literature_observations.save_tooltip')}"}],staticClass:"button is-primary",class:{"is-loading":t.submittingWithRedirect},attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.submitWithRedirect.apply(null,arguments)}}},[t._v("\n    "+t._s(t.trans("buttons.save"))+"\n  ")]),t._v(" "),t.submitMore?r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.save_more_tooltip")},expression:"{content: trans('labels.literature_observations.save_more_tooltip')}"}],staticClass:"button is-primary",class:{"is-outlined":!t.submittingWithoutRedirect,"is-loading":t.submittingWithoutRedirect},attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.submitWithoutRedirect.apply(null,arguments)}}},[t._v("\n    "+t._s(t.trans("buttons.save_more"))+"\n  ")]):t._e(),t._v(" "),t.submitMoreWithSameTaxon?r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.trans("labels.literature_observations.save_more_same_taxon_tooltip")},expression:"{content: trans('labels.literature_observations.save_more_same_taxon_tooltip')}"}],staticClass:"button is-primary",class:{"is-outlined":!t.submittingWithoutRedirectWithSameTaxon,"is-loading":t.submittingWithoutRedirectWithSameTaxon},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.submitWithoutRedirectWithSameTaxon.apply(null,arguments)}}},[t._v("\n    "+t._s(t.trans("labels.literature_observations.save_more_same_taxon"))+"\n  ")]):t._e(),t._v(" "),r("a",{staticClass:"button is-text",attrs:{href:t.cancelUrl},on:{click:t.onCancel}},[t._v(t._s(t.trans("buttons.cancel")))])],1)}),[],!1,null,null,null).exports},9973:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(6386),i=r(1701),o=r.n(i);const a={name:"nzDateInput",props:{label:{type:String,default:"Date"},year:{type:Number,default:(0,n.Z)().year()},month:{type:Number,default:(0,n.Z)().month()+1},day:{type:Number,default:(0,n.Z)().date()},placeholders:{type:Object,default:function(){return{year:"Year",month:"Month",day:"Day"}}},errors:{type:Object,default:function(){return{has:function(){return!1}}}}},computed:{now:function(){return(0,n.Z)()},months:function(){if(!this.year||this.year>(0,n.Z)().year())return[];var t=this.year===(0,n.Z)().year(),e=n.Z.months();return t&&e.splice((0,n.Z)().month()+1),e},days:function(){if(!(this.year&&this.month))return[];var t=this.year===(0,n.Z)().year()&&this.month-1===(0,n.Z)().month(),e=(0,n.Z)(new Date(this.year,this.month-1,1)).daysInMonth();return t&&(e=(0,n.Z)().date()),o()(1,e+1)}},watch:{year:function(){(this.year>(0,n.Z)().year()||this.months.length<this.month-1)&&this.onMonthInput(null),this.truncateDay()},month:function(){this.truncateDay()}},methods:{truncateDay:function(){this.days.length<this.day&&this.onDayInput(null)},onYearInput:function(t){this.$emit("update:year",+t||null)},onMonthInput:function(t){this.$emit("update:month",t)},onDayInput:function(t){this.$emit("update:day",t)}}};const s=(0,r(1900).Z)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-field",{attrs:{label:t.label}},[r("b-field",{attrs:{expanded:"",grouped:""}},[r("b-field",{attrs:{type:t.errors.has("year")?"is-danger":"",message:t.errors.has("year")?t.errors.first("year"):"",expanded:""}},[r("b-input",{attrs:{placeholder:t.placeholders.year,value:t.year},on:{input:t.onYearInput}})],1),t._v(" "),r("b-field",{attrs:{type:t.errors.has("month")?"is-danger":"",message:t.errors.has("month")?t.errors.first("month"):"",expanded:""}},[r("b-select",{attrs:{placeholder:t.placeholders.month,value:t.month,expanded:""},on:{input:t.onMonthInput}},[r("option",{domProps:{value:null}}),t._v(" "),t._l(t.months,(function(e,n){return r("option",{key:"month-select-"+n,domProps:{value:n+1,textContent:t._s(e)}})}))],2)],1),t._v(" "),r("b-field",{attrs:{type:t.errors.has("day")?"is-danger":"",message:t.errors.has("day")?t.errors.first("day"):"",expanded:""}},[r("b-select",{attrs:{placeholder:t.placeholders.day,value:t.day,expanded:""},on:{input:t.onDayInput}},[r("option",{domProps:{value:null}}),t._v(" "),t._l(t.days,(function(e){return r("option",{key:"day-select-"+e,domProps:{value:e,textContent:t._s(e)}})}))],2)],1)],1)],1)}),[],!1,null,null,null).exports},184:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(9669),i=r.n(n),o=r(3279),a=r.n(o),s=r(7361),l=r.n(s);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}const c={name:"nzPublicationAutocomplete",props:{label:{type:String,default:"Publication"},placeholder:{type:String,default:"Search for publication..."},publication:{type:Object,default:null},route:{type:String,default:"api.autocomplete.publications.index"},value:{type:String,default:""},error:Boolean,message:{type:String,default:null},except:{},autofocus:Boolean,disabled:Boolean},data:function(){return{data:[],selected:this.publication||null,loading:!1}},computed:{icon:function(){return this.selected?"check":"search"}},watch:{publication:function(t){this.selected=t}},methods:{fetchData:a()((function(){var t=this;if(this.value){this.data=[],this.loading=!0;var e={citation:this.value};this.except&&(e.except=this.except),i().get(route(this.route),{params:e}).then((function(e){e.data.data.forEach((function(e){return t.data.push(e)})),t.loading=!1}),(function(e){t.loading=!1}))}}),500),onSelect:function(t){this.selected=t,this.$emit("select",t)},onInput:function(t){var e=this.getValue(this.selected);e&&e!==t&&this.onSelect(null),this.$emit("input",t),this.fetchData()},focusOnInput:function(){this.$el.querySelector("input").focus()},getValue:function(t){if(t)return"object"===u(t)?l()(t,"citation"):t}}};const f=(0,r(1900).Z)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-field",{staticClass:"nz-publication-autocomplete",attrs:{label:t.label,type:t.error?"is-danger":null,message:t.message}},[r("b-field",{attrs:{grouped:""}},[r("b-autocomplete",{class:[t.selected?"has-icon-success":""],attrs:{value:t.value,data:t.data,field:"citation",loading:t.loading,icon:t.icon,placeholder:t.placeholder,expanded:"",autofocus:t.autofocus,disabled:t.disabled},on:{input:t.onInput,select:t.onSelect},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.option;return[r("div",{staticClass:"media"},[r("div",{staticClass:"media-content"},[t._v("\n            "+t._s(n.citation)+"\n          ")])])]}}])}),t._v(" "),t._t("default")],2)],1)}),[],!1,null,null,null).exports},8954:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(3279),i=r.n(n);const o={name:"nzSpatialInput",props:{accuracy:Number,elevation:{type:Number,default:100},latitude:{type:Number,default:41},longitude:{type:Number,default:19},location:{type:[String,Number],default:""},errors:{type:Object,default:function(){return{}}},hasOtherErrors:{type:Boolean,default:!1}},data:function(){return{emptyAccuracy:this.calculateEmptyAccuracy(window.App.gmaps.center.zoom),showDetails:!1,elevationService:null,center:window.App.gmaps.center}},computed:{position:function(){return this.coordinatesSet?{lat:this.latitude,lng:this.longitude}:null},coordinatesSet:function(){return!(isNaN(this.latitude)||null===this.latitude||isNaN(this.longitude)||null===this.longitude)},mapHasErrors:function(){return this.hasOtherErrors||this.errors.has("latitude")||this.errors.has("longitude")||this.errors.has("elevation")||this.errors.has("accuracy")||this.errors.has("location")},newAccuracy:function(){return this.accuracy||this.emptyAccuracy},centerCoordinates:function(){return this.position||{lat:this.center.latitude,lng:this.center.longitude}}},watch:{position:function(t){this.coordinatesSet&&this.getElevation(t)}},created:function(){this.setCurrentLocationAsMapCenter()},methods:{castNumber:function(t){return isNaN(t)||""===t?null:Number(t)},onLocationInput:function(t){this.updateLocation(t.target.value)},updateLocation:function(t){this.$emit("update:location",t)},onLongitudeInput:i()((function(t){this.updateLongitude(t.target.value)}),1e3),updateLongitude:function(t){this.$emit("update:longitude",this.castNumber(t))},onLatitudeInput:i()((function(t){this.updateLatitude(t.target.value)}),1e3),updateLatitude:function(t){this.$emit("update:latitude",this.castNumber(t))},onAccuracyInput:i()((function(t){this.updateAccuracy(t.target.value)}),1e3),updateAccuracy:function(t){this.$emit("update:accuracy",this.castNumber(t))},onElevationInput:function(t){this.updateElevation(t.target.value)},updateElevation:function(t){this.$emit("update:elevation",this.castNumber(t))},setMarker:function(t){var e=t.latLng.lat(),r=t.latLng.lng();this.updateLatitude(e),this.updateLongitude(r)},updateRadius:function(t){var e=parseInt(t);null===this.accuracy&&e===this.emptyAccuracy||this.updateAccuracy(e)},getElevation:function(t){var e=this;google&&google.maps&&google.maps.ElevationService&&(this.elevationService||(this.elevationService=new google.maps.ElevationService),this.elevationService.getElevationForLocations({locations:[t]},(function(t,r){if(r==google.maps.ElevationStatus.OK&&t.length){var n=parseInt(t[0].elevation);e.$emit("elevation-fetched",n),e.updateElevation(n)}})))},onZoomChanged:function(t){this.emptyAccuracy=this.calculateEmptyAccuracy(t)},calculateEmptyAccuracy:function(t){return parseInt(6144e3/Math.pow(2,t))},setCurrentLocationAsMapCenter:function(){var t=this;navigator.geolocation&&!this.position&&navigator.geolocation.getCurrentPosition((function(e){t.position||(t.center.latitude=e.coords.latitude,t.center.longitude=e.coords.longitude,t.center.zoom=10)}))}}};const a=(0,r(1900).Z)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"spatial-input"},[r("b-field",{staticClass:"is-required",attrs:{label:t.trans("labels.field_observations.map")}},[r("gmap-map",{staticStyle:{width:"100%","min-height":"400px"},attrs:{center:t.centerCoordinates,zoom:t.center.zoom,options:{streetViewControl:!1}},on:{click:t.setMarker,zoom_changed:t.onZoomChanged}},[r("gmap-marker",{attrs:{position:t.position,clickable:!0,draggable:!0},on:{dragend:t.setMarker}}),t._v(" "),t.position&&t.newAccuracy?r("gmap-circle",{attrs:{center:t.position,radius:t.newAccuracy,editable:!0,options:{strokeWeight:.75}},on:{radius_changed:t.updateRadius}}):t._e()],1)],1),t._v(" "),r("div",{staticClass:"has-text-right"},[t.mapHasErrors?r("span",{staticClass:"has-text-danger is-size-7"},[t._v(t._s(t.trans("Some fields have errors")))]):t._e(),t._v(" "),r("button",{staticClass:"button is-white is-small is-text",class:{"has-text-danger":t.mapHasErrors},attrs:{type:"button"},on:{click:function(e){t.showDetails=!t.showDetails}}},[t._v(t._s(t.trans("labels.field_observations.details")))])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetails,expression:"showDetails"}]},[r("div",{staticClass:"field is-grouped"},[r("div",{staticClass:"field is-expanded is-required"},[r("label",{staticClass:"label is-small"},[t._v(t._s(t.trans("labels.field_observations.latitude")))]),t._v(" "),r("div",{staticClass:"control is-fullwidth"},[r("input",{staticClass:"input is-small",class:{"is-danger":t.errors.has("latitude")},attrs:{placeholder:"f.e. 42.5234"},domProps:{value:t.latitude},on:{input:t.onLatitudeInput}})]),t._v(" "),t.errors.has("latitude")?r("p",{staticClass:"help is-danger",domProps:{textContent:t._s(t.errors.first("latitude"))}}):t._e()]),t._v(" "),r("div",{staticClass:"field is-expanded is-required"},[r("label",{staticClass:"label is-small"},[t._v(t._s(t.trans("labels.field_observations.longitude")))]),t._v(" "),r("div",{staticClass:"control is-fullwidth"},[r("input",{staticClass:"input is-small",class:{"is-danger":t.errors.has("longitude")},attrs:{placeholder:"f.e. 19.1234"},domProps:{value:t.longitude},on:{input:t.onLongitudeInput}})]),t._v(" "),t.errors.has("longitude")?r("p",{staticClass:"help is-danger",domProps:{textContent:t._s(t.errors.first("longitude"))}}):t._e()])]),t._v(" "),r("div",{staticClass:"field is-grouped"},[r("div",{staticClass:"field is-expanded"},[r("label",{staticClass:"label is-small"},[t._v(t._s(t.trans("labels.field_observations.accuracy_m")))]),t._v(" "),r("div",{staticClass:"control is-fullwidth"},[r("input",{staticClass:"input is-small",attrs:{placeholder:"f.e. 100"},domProps:{value:t.accuracy},on:{input:t.onAccuracyInput}})]),t._v(" "),t.errors.has("accuracy")?r("p",{staticClass:"help is-danger",domProps:{textContent:t._s(t.errors.first("accuracy"))}}):t._e()]),t._v(" "),r("div",{staticClass:"field is-expanded is-required"},[r("label",{staticClass:"label is-small"},[t._v(t._s(t.trans("labels.field_observations.elevation_m")))]),t._v(" "),r("div",{staticClass:"control is-fullwidth"},[r("input",{staticClass:"input is-small",attrs:{placeholder:"f.e. 500"},domProps:{value:t.elevation},on:{input:t.onElevationInput}})]),t._v(" "),t.errors.has("elevation")?r("p",{staticClass:"help is-danger",domProps:{textContent:t._s(t.errors.first("elevation"))}}):t._e()])]),t._v(" "),r("div",{staticClass:"field is-expanded"},[r("label",{staticClass:"label is-small"},[t._v(t._s(t.trans("labels.field_observations.location")))]),t._v(" "),r("div",{staticClass:"control is-fullwidth"},[r("input",{staticClass:"input is-small",class:{"is-danger":t.errors.has("location")},attrs:{placeholder:"Location"},domProps:{value:t.location},on:{input:t.onLocationInput}})]),t._v(" "),t.errors.has("location")?r("p",{staticClass:"help is-danger",domProps:{textContent:t._s(t.errors.first("location"))}}):t._e()]),t._v(" "),t._t("default")],2)],1)}),[],!1,null,null,null).exports},1165:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(9669),i=r.n(n),o=r(3279),a=r.n(o),s=r(7361),l=r.n(s);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}const c={name:"nzTaxonAutocomplete",props:{label:{type:String,default:"Taxon"},placeholder:{type:String,default:"Search for taxon..."},taxon:{type:Object,default:null},url:{type:String,default:function(){return route("api.taxa.index")}},value:{type:String,default:""},error:Boolean,message:{type:String,default:null},except:{},autofocus:Boolean},data:function(){return{data:[],selected:this.taxon||null,loading:!1,page:1,isLastPage:!1}},computed:{haveThumbnail:function(){return this.selected&&this.selected.thumbnail_url},icon:function(){return this.selected?"check":"search"}},watch:{taxon:function(t){this.selected=t}},methods:{fetchData:a()((function(){var t=this;if(this.value&&!this.isLastPage){this.loading=!0;var e={name:this.value,limit:20,page:this.page};this.except&&(e.except=this.except),i().get(this.url,{params:e}).then((function(e){var r=e.data;r.data.forEach((function(e){return t.data.push(e)})),t.isLastPage=r.meta.last_page<=t.page,t.loading=!1}),(function(e){t.loading=!1}))}}),500),onSelect:function(t){this.selected=t,this.$emit("select",t)},onInput:function(t){var e=this.getValue(this.selected);e&&e!==t&&this.onSelect(null),this.$emit("input",t),this.page=1,this.data=[],this.isLastPage=!1,this.fetchData()},focusOnInput:function(){this.$el.querySelector("input").focus()},getValue:function(t){if(t)return"object"===u(t)?l()(t,"name"):t},enterPressed:function(){this.$refs.autocomplete.isActive||this.$emit("name")},loadMore:function(){this.isLastPage||(this.page++,this.fetchData())}}};const f=(0,r(1900).Z)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-field",{staticClass:"nz-taxon-autocomplete",attrs:{label:t.label,type:t.error?"is-danger":null,message:t.message}},[r("b-field",{attrs:{grouped:""}},[t.haveThumbnail?r("img",{attrs:{width:"32",src:this.selected.thumbnail_url}}):t._e(),t._v(" "),r("b-autocomplete",{ref:"autocomplete",class:[t.selected?"has-icon-success":""],attrs:{value:t.value,data:t.data,field:"name",loading:t.loading,icon:t.icon,placeholder:t.placeholder,expanded:"",autofocus:t.autofocus,"check-infinite-scroll":""},on:{input:t.onInput,select:t.onSelect,"infinite-scroll":t.loadMore},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterPressed.apply(null,arguments)}},scopedSlots:t._u([{key:"detault",fn:function(e){var n=e.option;return[r("div",{staticClass:"media"},[r("div",{staticClass:"media-left"},[n.thumbnail_url?r("img",{attrs:{width:"32",src:n.thumbnail_url}}):t._e()]),t._v(" "),r("div",{staticClass:"media-content"},[t._v("\n            "+t._s(n.name)+t._s(n.native_name?" ("+n.native_name+")":"")+"\n          ")])])]}}])})],1)],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=ff51279d8a2bf1a0.js.map